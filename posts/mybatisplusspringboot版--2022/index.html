<!DOCTYPE html>
<html lang="zh-cn" dir="ltr">
    <head><meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1'><meta name='description' content='MyBatisPlus(SpringBootç‰ˆ)&amp;ndash;2022  æ•™ç¨‹æ¥è‡ªå°šç¡…è°·
 MyBatis-Plusç®€ä»‹ ç®€ä»‹ MyBatis-Plus(ç®€ç§° MP)æ˜¯ä¸€ä¸ª MyBatisçš„å¢å¼ºå·¥å…·ï¼Œåœ¨ MyBatis çš„åŸºç¡€ä¸Šåªåšå¢å¼ºä¸åšæ”¹å˜ï¼Œä¸º ç®€åŒ–å¼€å‘ã€æé«˜æ•ˆç‡è€Œç”Ÿã€‚
æ„¿æ™¯
æˆ‘ä»¬çš„æ„¿æ™¯æ˜¯æˆä¸º MyBatis æœ€å¥½çš„æ­æ¡£ï¼Œå°±åƒé­‚æ–—ç½—ä¸­çš„ 1Pã€2Pï¼ŒåŸºå‹æ­é…ï¼Œæ•ˆç‡ç¿»å€ã€‚
ç‰¹æ€§  æ— ä¾µå…¥:åªåšå¢å¼ºä¸åšæ”¹å˜ï¼Œå¼•å…¥å®ƒä¸ä¼šå¯¹ç°æœ‰å·¥ç¨‹äº§ç”Ÿå½±å“ï¼Œå¦‚ä¸èˆ¬é¡ºæ»‘ æŸè€—å°:å¯åŠ¨å³ä¼šè‡ªåŠ¨æ³¨å…¥åŸºæœ¬ CURDï¼Œæ€§èƒ½åŸºæœ¬æ— æŸè€—ï¼Œç›´æ¥é¢å‘å¯¹è±¡æ“ä½œ å¼ºå¤§çš„ CRUD æ“ä½œ:å†…ç½®é€šç”¨ Mapperã€é€šç”¨ Serviceï¼Œä»…ä»…é€šè¿‡å°‘é‡é…ç½®å³å¯å®ç°å•è¡¨å¤§éƒ¨åˆ† CRUD æ“ä½œï¼Œæ›´æœ‰å¼ºå¤§çš„æ¡ä»¶æ„é€ å™¨ï¼Œæ»¡è¶³å„ç±»ä½¿ç”¨éœ€æ±‚ æ”¯æŒ Lambda å½¢å¼è°ƒç”¨:é€šè¿‡ Lambda è¡¨è¾¾å¼ï¼Œæ–¹ä¾¿çš„ç¼–å†™å„ç±»æŸ¥è¯¢æ¡ä»¶ï¼Œæ— éœ€å†æ‹…å¿ƒå­—æ®µå†™é”™ æ”¯æŒä¸»é”®è‡ªåŠ¨ç”Ÿæˆ:æ”¯æŒå¤šè¾¾ 4 ç§ä¸»é”®ç­–ç•¥(å†…å«åˆ†å¸ƒå¼å”¯ä¸€ ID ç”Ÿæˆå™¨ - Sequence)ï¼Œå¯è‡ªç”± é…ç½®ï¼Œå®Œç¾è§£å†³ä¸»é”®é—®é¢˜ æ”¯æŒ ActiveRecord æ¨¡å¼:æ”¯æŒ ActiveRecord å½¢å¼è°ƒç”¨ï¼Œå®ä½“ç±»åªéœ€ç»§æ‰¿ Model ç±»å³å¯è¿›è¡Œå¼º å¤§çš„ CRUD æ“ä½œ æ”¯æŒè‡ªå®šä¹‰å…¨å±€é€šç”¨æ“ä½œ:æ”¯æŒå…¨å±€é€šç”¨æ–¹æ³•æ³¨å…¥( Write once, use anywhere ) å†…ç½®ä»£ç ç”Ÿæˆå™¨:é‡‡ç”¨ä»£ç æˆ–è€… Maven æ’ä»¶å¯å¿«é€Ÿç”Ÿæˆ Mapper ã€ Model ã€ Service ã€ Controller å±‚ä»£ç ï¼Œæ”¯æŒæ¨¡æ¿å¼•æ“ï¼Œæ›´æœ‰è¶…å¤šè‡ªå®šä¹‰é…ç½®ç­‰æ‚¨æ¥ä½¿ç”¨ å†…ç½®åˆ†é¡µæ’ä»¶:åŸºäº MyBatis ç‰©ç†åˆ†é¡µï¼Œå¼€å‘è€…æ— éœ€å…³å¿ƒå…·ä½“æ“ä½œï¼Œé…ç½®å¥½æ’ä»¶ä¹‹åï¼Œå†™åˆ†é¡µç­‰ åŒäºæ™®é€š List æŸ¥è¯¢ åˆ†é¡µæ’ä»¶æ”¯æŒå¤šç§æ•°æ®åº“:æ”¯æŒ MySQLã€MariaDBã€Oracleã€DB2ã€H2ã€HSQLã€SQLiteã€ Postgreã€SQLServer ç­‰å¤šç§æ•°æ®åº“ å†…ç½®æ€§èƒ½åˆ†ææ’ä»¶:å¯è¾“å‡º SQL è¯­å¥ä»¥åŠå…¶æ‰§è¡Œæ—¶é—´ï¼Œå»ºè®®å¼€å‘æµ‹è¯•æ—¶å¯ç”¨è¯¥åŠŸèƒ½ï¼Œèƒ½å¿«é€Ÿæªå‡º æ…¢æŸ¥è¯¢ å†…ç½®å…¨å±€æ‹¦æˆªæ’ä»¶:æä¾›å…¨è¡¨ delete ã€ update æ“ä½œæ™ºèƒ½åˆ†æé˜»æ–­ï¼Œä¹Ÿå¯è‡ªå®šä¹‰æ‹¦æˆªè§„åˆ™ï¼Œé¢„é˜² è¯¯æ“ä½œ  æ”¯æŒæ•°æ®åº“ ä»»ä½•èƒ½ä½¿ç”¨MyBatisè¿›è¡Œ CRUD, å¹¶ä¸”æ”¯æŒæ ‡å‡† SQL çš„æ•°æ®åº“ï¼Œå…·ä½“æ”¯æŒæƒ…å†µå¦‚ä¸‹'><title>MyBatisPlus(SpringBootç‰ˆ)--2022</title>

<link rel='canonical' href='https://ahao.ink/posts/mybatisplusspringboot%E7%89%88--2022/'>

<link rel="stylesheet" href="/scss/style.min.baba905ab2d1209de74a1930c487a8a663c37860af6aa1c26588d298bf620306.css"><meta property='og:title' content='MyBatisPlus(SpringBootç‰ˆ)--2022'>
<meta property='og:description' content='MyBatisPlus(SpringBootç‰ˆ)&amp;ndash;2022  æ•™ç¨‹æ¥è‡ªå°šç¡…è°·
 MyBatis-Plusç®€ä»‹ ç®€ä»‹ MyBatis-Plus(ç®€ç§° MP)æ˜¯ä¸€ä¸ª MyBatisçš„å¢å¼ºå·¥å…·ï¼Œåœ¨ MyBatis çš„åŸºç¡€ä¸Šåªåšå¢å¼ºä¸åšæ”¹å˜ï¼Œä¸º ç®€åŒ–å¼€å‘ã€æé«˜æ•ˆç‡è€Œç”Ÿã€‚
æ„¿æ™¯
æˆ‘ä»¬çš„æ„¿æ™¯æ˜¯æˆä¸º MyBatis æœ€å¥½çš„æ­æ¡£ï¼Œå°±åƒé­‚æ–—ç½—ä¸­çš„ 1Pã€2Pï¼ŒåŸºå‹æ­é…ï¼Œæ•ˆç‡ç¿»å€ã€‚
ç‰¹æ€§  æ— ä¾µå…¥:åªåšå¢å¼ºä¸åšæ”¹å˜ï¼Œå¼•å…¥å®ƒä¸ä¼šå¯¹ç°æœ‰å·¥ç¨‹äº§ç”Ÿå½±å“ï¼Œå¦‚ä¸èˆ¬é¡ºæ»‘ æŸè€—å°:å¯åŠ¨å³ä¼šè‡ªåŠ¨æ³¨å…¥åŸºæœ¬ CURDï¼Œæ€§èƒ½åŸºæœ¬æ— æŸè€—ï¼Œç›´æ¥é¢å‘å¯¹è±¡æ“ä½œ å¼ºå¤§çš„ CRUD æ“ä½œ:å†…ç½®é€šç”¨ Mapperã€é€šç”¨ Serviceï¼Œä»…ä»…é€šè¿‡å°‘é‡é…ç½®å³å¯å®ç°å•è¡¨å¤§éƒ¨åˆ† CRUD æ“ä½œï¼Œæ›´æœ‰å¼ºå¤§çš„æ¡ä»¶æ„é€ å™¨ï¼Œæ»¡è¶³å„ç±»ä½¿ç”¨éœ€æ±‚ æ”¯æŒ Lambda å½¢å¼è°ƒç”¨:é€šè¿‡ Lambda è¡¨è¾¾å¼ï¼Œæ–¹ä¾¿çš„ç¼–å†™å„ç±»æŸ¥è¯¢æ¡ä»¶ï¼Œæ— éœ€å†æ‹…å¿ƒå­—æ®µå†™é”™ æ”¯æŒä¸»é”®è‡ªåŠ¨ç”Ÿæˆ:æ”¯æŒå¤šè¾¾ 4 ç§ä¸»é”®ç­–ç•¥(å†…å«åˆ†å¸ƒå¼å”¯ä¸€ ID ç”Ÿæˆå™¨ - Sequence)ï¼Œå¯è‡ªç”± é…ç½®ï¼Œå®Œç¾è§£å†³ä¸»é”®é—®é¢˜ æ”¯æŒ ActiveRecord æ¨¡å¼:æ”¯æŒ ActiveRecord å½¢å¼è°ƒç”¨ï¼Œå®ä½“ç±»åªéœ€ç»§æ‰¿ Model ç±»å³å¯è¿›è¡Œå¼º å¤§çš„ CRUD æ“ä½œ æ”¯æŒè‡ªå®šä¹‰å…¨å±€é€šç”¨æ“ä½œ:æ”¯æŒå…¨å±€é€šç”¨æ–¹æ³•æ³¨å…¥( Write once, use anywhere ) å†…ç½®ä»£ç ç”Ÿæˆå™¨:é‡‡ç”¨ä»£ç æˆ–è€… Maven æ’ä»¶å¯å¿«é€Ÿç”Ÿæˆ Mapper ã€ Model ã€ Service ã€ Controller å±‚ä»£ç ï¼Œæ”¯æŒæ¨¡æ¿å¼•æ“ï¼Œæ›´æœ‰è¶…å¤šè‡ªå®šä¹‰é…ç½®ç­‰æ‚¨æ¥ä½¿ç”¨ å†…ç½®åˆ†é¡µæ’ä»¶:åŸºäº MyBatis ç‰©ç†åˆ†é¡µï¼Œå¼€å‘è€…æ— éœ€å…³å¿ƒå…·ä½“æ“ä½œï¼Œé…ç½®å¥½æ’ä»¶ä¹‹åï¼Œå†™åˆ†é¡µç­‰ åŒäºæ™®é€š List æŸ¥è¯¢ åˆ†é¡µæ’ä»¶æ”¯æŒå¤šç§æ•°æ®åº“:æ”¯æŒ MySQLã€MariaDBã€Oracleã€DB2ã€H2ã€HSQLã€SQLiteã€ Postgreã€SQLServer ç­‰å¤šç§æ•°æ®åº“ å†…ç½®æ€§èƒ½åˆ†ææ’ä»¶:å¯è¾“å‡º SQL è¯­å¥ä»¥åŠå…¶æ‰§è¡Œæ—¶é—´ï¼Œå»ºè®®å¼€å‘æµ‹è¯•æ—¶å¯ç”¨è¯¥åŠŸèƒ½ï¼Œèƒ½å¿«é€Ÿæªå‡º æ…¢æŸ¥è¯¢ å†…ç½®å…¨å±€æ‹¦æˆªæ’ä»¶:æä¾›å…¨è¡¨ delete ã€ update æ“ä½œæ™ºèƒ½åˆ†æé˜»æ–­ï¼Œä¹Ÿå¯è‡ªå®šä¹‰æ‹¦æˆªè§„åˆ™ï¼Œé¢„é˜² è¯¯æ“ä½œ  æ”¯æŒæ•°æ®åº“ ä»»ä½•èƒ½ä½¿ç”¨MyBatisè¿›è¡Œ CRUD, å¹¶ä¸”æ”¯æŒæ ‡å‡† SQL çš„æ•°æ®åº“ï¼Œå…·ä½“æ”¯æŒæƒ…å†µå¦‚ä¸‹'>
<meta property='og:url' content='https://ahao.ink/posts/mybatisplusspringboot%E7%89%88--2022/'>
<meta property='og:site_name' content='ahao&#39;s Blog'>
<meta property='og:type' content='article'><meta property='article:section' content='Post' /><meta property='article:tag' content='MyBatisPlus' /><meta property='article:published_time' content='2022-03-09T13:36:41&#43;00:00'/><meta property='article:modified_time' content='2022-03-17T12:24:40&#43;08:00'/><meta property='og:image' content='https://ahao.ink/1.jpg' />
<meta name="twitter:title" content="MyBatisPlus(SpringBootç‰ˆ)--2022">
<meta name="twitter:description" content="MyBatisPlus(SpringBootç‰ˆ)&amp;ndash;2022  æ•™ç¨‹æ¥è‡ªå°šç¡…è°·
 MyBatis-Plusç®€ä»‹ ç®€ä»‹ MyBatis-Plus(ç®€ç§° MP)æ˜¯ä¸€ä¸ª MyBatisçš„å¢å¼ºå·¥å…·ï¼Œåœ¨ MyBatis çš„åŸºç¡€ä¸Šåªåšå¢å¼ºä¸åšæ”¹å˜ï¼Œä¸º ç®€åŒ–å¼€å‘ã€æé«˜æ•ˆç‡è€Œç”Ÿã€‚
æ„¿æ™¯
æˆ‘ä»¬çš„æ„¿æ™¯æ˜¯æˆä¸º MyBatis æœ€å¥½çš„æ­æ¡£ï¼Œå°±åƒé­‚æ–—ç½—ä¸­çš„ 1Pã€2Pï¼ŒåŸºå‹æ­é…ï¼Œæ•ˆç‡ç¿»å€ã€‚
ç‰¹æ€§  æ— ä¾µå…¥:åªåšå¢å¼ºä¸åšæ”¹å˜ï¼Œå¼•å…¥å®ƒä¸ä¼šå¯¹ç°æœ‰å·¥ç¨‹äº§ç”Ÿå½±å“ï¼Œå¦‚ä¸èˆ¬é¡ºæ»‘ æŸè€—å°:å¯åŠ¨å³ä¼šè‡ªåŠ¨æ³¨å…¥åŸºæœ¬ CURDï¼Œæ€§èƒ½åŸºæœ¬æ— æŸè€—ï¼Œç›´æ¥é¢å‘å¯¹è±¡æ“ä½œ å¼ºå¤§çš„ CRUD æ“ä½œ:å†…ç½®é€šç”¨ Mapperã€é€šç”¨ Serviceï¼Œä»…ä»…é€šè¿‡å°‘é‡é…ç½®å³å¯å®ç°å•è¡¨å¤§éƒ¨åˆ† CRUD æ“ä½œï¼Œæ›´æœ‰å¼ºå¤§çš„æ¡ä»¶æ„é€ å™¨ï¼Œæ»¡è¶³å„ç±»ä½¿ç”¨éœ€æ±‚ æ”¯æŒ Lambda å½¢å¼è°ƒç”¨:é€šè¿‡ Lambda è¡¨è¾¾å¼ï¼Œæ–¹ä¾¿çš„ç¼–å†™å„ç±»æŸ¥è¯¢æ¡ä»¶ï¼Œæ— éœ€å†æ‹…å¿ƒå­—æ®µå†™é”™ æ”¯æŒä¸»é”®è‡ªåŠ¨ç”Ÿæˆ:æ”¯æŒå¤šè¾¾ 4 ç§ä¸»é”®ç­–ç•¥(å†…å«åˆ†å¸ƒå¼å”¯ä¸€ ID ç”Ÿæˆå™¨ - Sequence)ï¼Œå¯è‡ªç”± é…ç½®ï¼Œå®Œç¾è§£å†³ä¸»é”®é—®é¢˜ æ”¯æŒ ActiveRecord æ¨¡å¼:æ”¯æŒ ActiveRecord å½¢å¼è°ƒç”¨ï¼Œå®ä½“ç±»åªéœ€ç»§æ‰¿ Model ç±»å³å¯è¿›è¡Œå¼º å¤§çš„ CRUD æ“ä½œ æ”¯æŒè‡ªå®šä¹‰å…¨å±€é€šç”¨æ“ä½œ:æ”¯æŒå…¨å±€é€šç”¨æ–¹æ³•æ³¨å…¥( Write once, use anywhere ) å†…ç½®ä»£ç ç”Ÿæˆå™¨:é‡‡ç”¨ä»£ç æˆ–è€… Maven æ’ä»¶å¯å¿«é€Ÿç”Ÿæˆ Mapper ã€ Model ã€ Service ã€ Controller å±‚ä»£ç ï¼Œæ”¯æŒæ¨¡æ¿å¼•æ“ï¼Œæ›´æœ‰è¶…å¤šè‡ªå®šä¹‰é…ç½®ç­‰æ‚¨æ¥ä½¿ç”¨ å†…ç½®åˆ†é¡µæ’ä»¶:åŸºäº MyBatis ç‰©ç†åˆ†é¡µï¼Œå¼€å‘è€…æ— éœ€å…³å¿ƒå…·ä½“æ“ä½œï¼Œé…ç½®å¥½æ’ä»¶ä¹‹åï¼Œå†™åˆ†é¡µç­‰ åŒäºæ™®é€š List æŸ¥è¯¢ åˆ†é¡µæ’ä»¶æ”¯æŒå¤šç§æ•°æ®åº“:æ”¯æŒ MySQLã€MariaDBã€Oracleã€DB2ã€H2ã€HSQLã€SQLiteã€ Postgreã€SQLServer ç­‰å¤šç§æ•°æ®åº“ å†…ç½®æ€§èƒ½åˆ†ææ’ä»¶:å¯è¾“å‡º SQL è¯­å¥ä»¥åŠå…¶æ‰§è¡Œæ—¶é—´ï¼Œå»ºè®®å¼€å‘æµ‹è¯•æ—¶å¯ç”¨è¯¥åŠŸèƒ½ï¼Œèƒ½å¿«é€Ÿæªå‡º æ…¢æŸ¥è¯¢ å†…ç½®å…¨å±€æ‹¦æˆªæ’ä»¶:æä¾›å…¨è¡¨ delete ã€ update æ“ä½œæ™ºèƒ½åˆ†æé˜»æ–­ï¼Œä¹Ÿå¯è‡ªå®šä¹‰æ‹¦æˆªè§„åˆ™ï¼Œé¢„é˜² è¯¯æ“ä½œ  æ”¯æŒæ•°æ®åº“ ä»»ä½•èƒ½ä½¿ç”¨MyBatisè¿›è¡Œ CRUD, å¹¶ä¸”æ”¯æŒæ ‡å‡† SQL çš„æ•°æ®åº“ï¼Œå…·ä½“æ”¯æŒæƒ…å†µå¦‚ä¸‹"><meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image" content='https://ahao.ink/1.jpg' />
    <link rel="shortcut icon" href="img/avatar_hua8acc2063f8134c9d13980a8a63800c2_11114_300x0_resize_box_3.png" />

    </head>
    <body class="
    article-page
    ">
    <script>
        (function() {
            const colorSchemeKey = 'StackColorScheme';
            if(!localStorage.getItem(colorSchemeKey)){
                localStorage.setItem(colorSchemeKey, "auto");
            }
        })();
    </script><script>
    (function() {
        const colorSchemeKey = 'StackColorScheme';
        const colorSchemeItem = localStorage.getItem(colorSchemeKey);
        const supportDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches === true;

        if (colorSchemeItem == 'dark' || colorSchemeItem === 'auto' && supportDarkMode) {
            

            document.documentElement.dataset.scheme = 'dark';
        } else {
            document.documentElement.dataset.scheme = 'light';
        }
    })();
</script>
<div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky ">
    <button class="hamburger hamburger--spin" type="button" id="toggle-menu" aria-label="åˆ‡æ¢èœå•">
        <span class="hamburger-box">
            <span class="hamburger-inner"></span>
        </span>
    </button>

    <header>
        
            
            <figure class="site-avatar">
                <a href="/">
                
                    
                    
                    
                        
                        <img src="/img/avatar_hua8acc2063f8134c9d13980a8a63800c2_11114_300x0_resize_box_3.png" width="300"
                            height="300" class="site-logo" loading="lazy" alt="Avatar">
                    
                
                </a>
                
                    <span class="emoji">ğŸ·</span>
                
            </figure>
            
        
        
        <div class="site-meta">
            <h1 class="site-name"><a href="/">ahao&#39;s Blog</a></h1>
            <h2 class="site-description">é“é˜»ä¸”é•¿ï¼Œè¡Œåˆ™å°†è‡³</h2>
        </div>
    </header><ol class="social-menu">
            
                <li>
                    <a 
                        href='https://github.com/'
                        target="_blank"
                        title="GitHub"
                    >
                        
                        
                            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-brand-github" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
  <path d="M9 19c-4.3 1.4 -4.3 -2.5 -6 -3m12 5v-3.5c0 -1 .1 -1.4 -.5 -2c2.8 -.3 5.5 -1.4 5.5 -6a4.6 4.6 0 0 0 -1.3 -3.2a4.2 4.2 0 0 0 -.1 -3.2s-1.1 -.3 -3.5 1.3a12.3 12.3 0 0 0 -6.2 0c-2.4 -1.6 -3.5 -1.3 -3.5 -1.3a4.2 4.2 0 0 0 -.1 3.2a4.6 4.6 0 0 0 -1.3 3.2c0 4.6 2.7 5.7 5.5 6c-.6 .6 -.6 1.2 -.5 2v3.5" />
</svg>



                        
                    </a>
                </li>
            
                <li>
                    <a 
                        href='https://twitter.com'
                        target="_blank"
                        title="Twitter"
                    >
                        
                        
                            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-brand-twitter" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
  <path d="M22 4.01c-1 .49 -1.98 .689 -3 .99c-1.121 -1.265 -2.783 -1.335 -4.38 -.737s-2.643 2.06 -2.62 3.737v1c-3.245 .083 -6.135 -1.395 -8 -4c0 0 -4.182 7.433 4 11c-1.872 1.247 -3.739 2.088 -6 2c3.308 1.803 6.913 2.423 10.034 1.517c3.58 -1.04 6.522 -3.723 7.651 -7.742a13.84 13.84 0 0 0 .497 -3.753c-.002 -.249 1.51 -2.772 1.818 -4.013z" />
</svg>



                        
                    </a>
                </li>
            
        </ol><ol class="menu" id="main-menu">
        
        
        

        <li >
            <a href='/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <polyline points="5 12 3 12 12 3 21 12 19 12" />
  <path d="M5 12v7a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-7" />
  <path d="M9 21v-6a2 2 0 0 1 2 -2h2a2 2 0 0 1 2 2v6" />
</svg>



                
                <span>ä¸»é¡µ / Home</span>
            </a>
        </li>
        
        

        <li >
            <a href='/archives/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <rect x="3" y="4" width="18" height="4" rx="2" />
  <path d="M5 8v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-10" />
  <line x1="10" y1="12" x2="14" y2="12" />
</svg>



                
                <span>å½’æ¡£ / Archives</span>
            </a>
        </li>
        
        

        <li >
            <a href='/search/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="10" cy="10" r="7" />
  <line x1="21" y1="21" x2="15" y2="15" />
</svg>



                
                <span>æœç´¢ / Search</span>
            </a>
        </li>
        
        

        <li >
            <a href='/about/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-user" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="7" r="4" />
  <path d="M6 21v-2a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4v2" />
</svg>



                
                <span>å…³äº / About</span>
            </a>
        </li>
        

        <div class="menu-bottom-section">
            
            
                <li id="dark-mode-toggle">
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="8" cy="12" r="2" />
  <rect x="2" y="6" width="20" height="12" rx="6" />
</svg>



                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="16" cy="12" r="2" />
  <rect x="2" y="6" width="20" height="12" rx="6" />
</svg>



                    <span>æš—è‰²æ¨¡å¼</span>
                </li>
            
        </div>
    </ol>
</aside>
<main class="main full-width">
    <article class="has-image main-article">
    <header class="article-header">
        <div class="article-image">
            <a href="/posts/mybatisplusspringboot%E7%89%88--2022/">
                
                    <img src="/1.jpg" loading="lazy" alt="Featured image of post MyBatisPlus(SpringBootç‰ˆ)--2022" />
                
            </a>
        </div>
    

    <div class="article-details">
    
    <header class="article-category">
        
            <a href="/categories/mybatis/" >
                MyBatis
            </a>
        
    </header>
    

    <div class="article-title-wrapper">
        <h2 class="article-title">
            <a href="/posts/mybatisplusspringboot%E7%89%88--2022/">MyBatisPlus(SpringBootç‰ˆ)--2022</a>
        </h2>
    
        
    </div>

    
    <footer class="article-time">
        
            <div>
                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <path d="M11.795 21h-6.795a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v4" />
  <circle cx="18" cy="18" r="4" />
  <path d="M15 3v4" />
  <path d="M7 3v4" />
  <path d="M3 11h16" />
  <path d="M18 16.496v1.504l1 1" />
</svg>
                <time class="article-time--published">2022å¹´3æœˆ9æ—¥</time>
            </div>
        

        
            <div>
                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="12" r="9" />
  <polyline points="12 7 12 12 15 15" />
</svg>



                <time class="article-time--reading">
                    é˜…è¯»æ—¶é•¿: 20 åˆ†é’Ÿ
                </time>
            </div>
        
    </footer>
    

    
</div>
</header>

    <section class="article-content">
    
    
    <h1 id="mybatisplusspringbootç‰ˆ--2022">MyBatisPlus(SpringBootç‰ˆ)&ndash;2022</h1>
<blockquote>
<p>æ•™ç¨‹æ¥è‡ª<a class="link" href="https://www.bilibili.com/video/BV12R4y157Be"  target="_blank" rel="noopener"
    >å°šç¡…è°·</a></p>
</blockquote>
<h2 id="mybatis-plusç®€ä»‹">MyBatis-Plusç®€ä»‹</h2>
<h3 id="ç®€ä»‹">ç®€ä»‹</h3>
<p><strong>MyBatis-Plus</strong>(ç®€ç§° MP)æ˜¯ä¸€ä¸ª <strong>MyBatisçš„å¢å¼ºå·¥å…·</strong>ï¼Œåœ¨ MyBatis çš„åŸºç¡€ä¸Š<strong>åªåšå¢å¼ºä¸åšæ”¹å˜</strong>ï¼Œä¸º <strong>ç®€åŒ–å¼€å‘ã€æé«˜æ•ˆç‡è€Œç”Ÿã€‚</strong></p>
<p>æ„¿æ™¯</p>
<p>æˆ‘ä»¬çš„æ„¿æ™¯æ˜¯æˆä¸º MyBatis æœ€å¥½çš„æ­æ¡£ï¼Œå°±åƒé­‚æ–—ç½—ä¸­çš„ 1Pã€2Pï¼ŒåŸºå‹æ­é…ï¼Œæ•ˆç‡ç¿»å€ã€‚</p>
<p><img src="https://s2.loli.net/2022/03/10/ZtpoF2OCiqN3jrh.png"
	
	
	
	loading="lazy"
	
		alt="img"
	
	
></p>
<h3 id="ç‰¹æ€§">ç‰¹æ€§</h3>
<ul>
<li><strong>æ— ä¾µå…¥</strong>:åªåšå¢å¼ºä¸åšæ”¹å˜ï¼Œå¼•å…¥å®ƒä¸ä¼šå¯¹ç°æœ‰å·¥ç¨‹äº§ç”Ÿå½±å“ï¼Œå¦‚ä¸èˆ¬é¡ºæ»‘</li>
<li><strong>æŸè€—å°</strong>:å¯åŠ¨å³ä¼šè‡ªåŠ¨æ³¨å…¥åŸºæœ¬ CURDï¼Œæ€§èƒ½åŸºæœ¬æ— æŸè€—ï¼Œç›´æ¥é¢å‘å¯¹è±¡æ“ä½œ</li>
<li><strong>å¼ºå¤§çš„ CRUD æ“ä½œ</strong>:å†…ç½®é€šç”¨ Mapperã€é€šç”¨ Serviceï¼Œä»…ä»…é€šè¿‡å°‘é‡é…ç½®å³å¯å®ç°å•è¡¨å¤§éƒ¨åˆ† CRUD æ“ä½œï¼Œæ›´æœ‰å¼ºå¤§çš„æ¡ä»¶æ„é€ å™¨ï¼Œæ»¡è¶³å„ç±»ä½¿ç”¨éœ€æ±‚</li>
<li><strong>æ”¯æŒ Lambda å½¢å¼è°ƒç”¨</strong>:é€šè¿‡ Lambda è¡¨è¾¾å¼ï¼Œæ–¹ä¾¿çš„ç¼–å†™å„ç±»æŸ¥è¯¢æ¡ä»¶ï¼Œæ— éœ€å†æ‹…å¿ƒå­—æ®µå†™é”™ æ”¯æŒä¸»é”®è‡ªåŠ¨ç”Ÿæˆ:æ”¯æŒå¤šè¾¾ 4 ç§ä¸»é”®ç­–ç•¥(å†…å«åˆ†å¸ƒå¼å”¯ä¸€ ID ç”Ÿæˆå™¨ - Sequence)ï¼Œå¯è‡ªç”± é…ç½®ï¼Œå®Œç¾è§£å†³ä¸»é”®é—®é¢˜</li>
<li><strong>æ”¯æŒ ActiveRecord æ¨¡å¼:æ”¯æŒ ActiveRecord å½¢å¼è°ƒç”¨</strong>ï¼Œå®ä½“ç±»åªéœ€ç»§æ‰¿ Model ç±»å³å¯è¿›è¡Œå¼º å¤§çš„ CRUD æ“ä½œ</li>
<li><strong>æ”¯æŒè‡ªå®šä¹‰å…¨å±€é€šç”¨æ“ä½œ</strong>:æ”¯æŒå…¨å±€é€šç”¨æ–¹æ³•æ³¨å…¥( Write once, use anywhere ) å†…ç½®ä»£ç ç”Ÿæˆå™¨:é‡‡ç”¨ä»£ç æˆ–è€… Maven æ’ä»¶å¯å¿«é€Ÿç”Ÿæˆ Mapper ã€ Model ã€ Service ã€ Controller å±‚ä»£ç ï¼Œæ”¯æŒæ¨¡æ¿å¼•æ“ï¼Œæ›´æœ‰è¶…å¤šè‡ªå®šä¹‰é…ç½®ç­‰æ‚¨æ¥ä½¿ç”¨</li>
<li><strong>å†…ç½®åˆ†é¡µæ’ä»¶</strong>:åŸºäº MyBatis ç‰©ç†åˆ†é¡µï¼Œå¼€å‘è€…æ— éœ€å…³å¿ƒå…·ä½“æ“ä½œï¼Œé…ç½®å¥½æ’ä»¶ä¹‹åï¼Œå†™åˆ†é¡µç­‰ åŒäºæ™®é€š List æŸ¥è¯¢</li>
<li><strong>åˆ†é¡µæ’ä»¶æ”¯æŒå¤šç§æ•°æ®åº“</strong>:æ”¯æŒ MySQLã€MariaDBã€Oracleã€DB2ã€H2ã€HSQLã€SQLiteã€ Postgreã€SQLServer ç­‰å¤šç§æ•°æ®åº“</li>
<li><strong>å†…ç½®æ€§èƒ½åˆ†ææ’ä»¶</strong>:å¯è¾“å‡º SQL è¯­å¥ä»¥åŠå…¶æ‰§è¡Œæ—¶é—´ï¼Œå»ºè®®å¼€å‘æµ‹è¯•æ—¶å¯ç”¨è¯¥åŠŸèƒ½ï¼Œèƒ½å¿«é€Ÿæªå‡º æ…¢æŸ¥è¯¢</li>
<li><strong>å†…ç½®å…¨å±€æ‹¦æˆªæ’ä»¶</strong>:æä¾›å…¨è¡¨ delete ã€ update æ“ä½œæ™ºèƒ½åˆ†æé˜»æ–­ï¼Œä¹Ÿå¯è‡ªå®šä¹‰æ‹¦æˆªè§„åˆ™ï¼Œé¢„é˜² è¯¯æ“ä½œ</li>
</ul>
<h3 id="æ”¯æŒæ•°æ®åº“">æ”¯æŒæ•°æ®åº“</h3>
<p>ä»»ä½•èƒ½ä½¿ç”¨MyBatisè¿›è¡Œ CRUD, å¹¶ä¸”æ”¯æŒæ ‡å‡† SQL çš„æ•°æ®åº“ï¼Œå…·ä½“æ”¯æŒæƒ…å†µå¦‚ä¸‹</p>
<ul>
<li>MySQLï¼ŒOracleï¼ŒDB2ï¼ŒH2ï¼ŒHSQLï¼ŒSQLiteï¼ŒPostgreSQLï¼ŒSQLServerï¼ŒPhoenixï¼ŒGauss ï¼Œ ClickHouseï¼ŒSybaseï¼ŒOceanBaseï¼ŒFirebirdï¼ŒCubridï¼ŒGoldilocksï¼Œcsiidb</li>
<li>è¾¾æ¢¦æ•°æ®åº“ï¼Œè™šè°·æ•°æ®åº“ï¼Œäººå¤§é‡‘ä»“æ•°æ®åº“ï¼Œå—å¤§é€šç”¨(ååº“)æ•°æ®åº“ï¼Œå—å¤§é€šç”¨æ•°æ®åº“ï¼Œç¥é€šæ•°æ® åº“ï¼Œç€šé«˜æ•°æ®åº“</li>
</ul>
<h3 id="æ¡†æ¶ç»“æ„">æ¡†æ¶ç»“æ„</h3>
<p><img src="https://s2.loli.net/2022/03/10/p7guojvTKYwVMBR.png"
	
	
	
	loading="lazy"
	
		alt="img"
	
	
></p>
<h3 id="ä»£ç æ–‡æ¡£åŠæ–‡æ¡£åœ°å€">ä»£ç æ–‡æ¡£åŠæ–‡æ¡£åœ°å€</h3>
<p>å®˜æ–¹åœ°å€: <a class="link" href="http://mp.baomidou.com"  target="_blank" rel="noopener"
    >http://mp.baomidou.com</a></p>
<p>ä»£ç å‘å¸ƒåœ°å€:</p>
<p>Github: <a class="link" href="https://github.com/baomidou/mybatis-plus"  target="_blank" rel="noopener"
    >https://github.com/baomidou/mybatis-plus</a></p>
<p>Gitee: <a class="link" href="https://gitee.com/baomidou/mybatis-plus"  target="_blank" rel="noopener"
    >https://gitee.com/baomidou/mybatis-plus</a></p>
<p>æ–‡æ¡£å‘å¸ƒåœ°å€: <a class="link" href="https://baomidou.com/pages/24112f"  target="_blank" rel="noopener"
    >https://baomidou.com/pages/24112f</a></p>
<h2 id="å…¥é—¨æ¡ˆä¾‹">å…¥é—¨æ¡ˆä¾‹</h2>
<h3 id="å¼€å‘ç¯å¢ƒ">å¼€å‘ç¯å¢ƒ</h3>
<p>IDE: ideaï¼š2021.3</p>
<p>JDK: JDK8+</p>
<p>æ„å»ºå·¥å…·: maven 3.8.4</p>
<p>MySQLç‰ˆæœ¬: MySQL 8.0.27</p>
<p>Spring Boot: 2.6.4</p>
<p>MyBatis-Plus: 3.5.1</p>
<h3 id="åˆ›å»ºæ•°æ®åº“åŠè¡¨">åˆ›å»ºæ•°æ®åº“åŠè¡¨</h3>
<h4 id="aåˆ›å»ºè¡¨">a&gt;åˆ›å»ºè¡¨</h4>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="line"><span class="cl"><span class="k">CREATE</span><span class="w"> </span><span class="k">DATABASE</span><span class="w"> </span><span class="o">`</span><span class="n">mybatis_plus</span><span class="o">`</span><span class="w"> </span><span class="cm">/*!40100 DEFAULT CHARACTER SET utf8mb4 */</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">use</span><span class="w"> </span><span class="o">`</span><span class="n">mybatis_plus</span><span class="o">`</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="o">`</span><span class="k">user</span><span class="o">`</span><span class="w"> </span><span class="p">(</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="o">`</span><span class="n">id</span><span class="o">`</span><span class="w"> </span><span class="nb">bigint</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="w"> </span><span class="k">COMMENT</span><span class="w"> </span><span class="s1">&#39;ä¸»é”®ID&#39;</span><span class="p">,</span><span class="w"> </span><span class="o">`</span><span class="n">name</span><span class="o">`</span><span class="w"> </span><span class="nb">varchar</span><span class="p">(</span><span class="mi">30</span><span class="p">)</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">NULL</span><span class="w"> </span><span class="k">COMMENT</span><span class="w"> </span><span class="s1">&#39;å§“å&#39;</span><span class="p">,</span><span class="w"> </span><span class="o">`</span><span class="n">age</span><span class="o">`</span><span class="w"> </span><span class="nb">int</span><span class="p">(</span><span class="mi">11</span><span class="p">)</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">NULL</span><span class="w"> </span><span class="k">COMMENT</span><span class="w"> </span><span class="s1">&#39;å¹´é¾„&#39;</span><span class="p">,</span><span class="w"> </span><span class="o">`</span><span class="n">email</span><span class="o">`</span><span class="w"> </span><span class="nb">varchar</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">NULL</span><span class="w"> </span><span class="k">COMMENT</span><span class="w"> </span><span class="s1">&#39;é‚®ç®±&#39;</span><span class="p">,</span><span class="w"> </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="o">`</span><span class="n">id</span><span class="o">`</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">)</span><span class="w"> </span><span class="n">ENGINE</span><span class="o">=</span><span class="n">InnoDB</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="n">CHARSET</span><span class="o">=</span><span class="n">utf8</span><span class="p">;</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><h4 id="bæ·»åŠ æ•°æ®">b&gt;æ·»åŠ æ•°æ®</h4>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="line"><span class="cl"><span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="k">user</span><span class="w"> </span><span class="p">(</span><span class="n">id</span><span class="p">,</span><span class="w"> </span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="n">age</span><span class="p">,</span><span class="w"> </span><span class="n">email</span><span class="p">)</span><span class="w"> </span><span class="k">VALUES</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;Jone&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">18</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;test1@baomidou.com&#39;</span><span class="p">),</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;Jack&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">20</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;test2@baomidou.com&#39;</span><span class="p">),</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;Tom&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">28</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;test3@baomidou.com&#39;</span><span class="p">),</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;Sandy&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">21</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;test4@baomidou.com&#39;</span><span class="p">),</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;Billie&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">24</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;test5@baomidou.com&#39;</span><span class="p">);</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><h3 id="åˆ›å»ºspringbootå·¥ç¨‹">åˆ›å»ºSpringBootå·¥ç¨‹</h3>
<h4 id="aåˆå§‹åŒ–å·¥ç¨‹">a&gt;åˆå§‹åŒ–å·¥ç¨‹</h4>
<p><img src="https://s2.loli.net/2022/03/10/HraBqKXG3h9gWV6.png"
	
	
	
	loading="lazy"
	
		alt="image-20220310214025471"
	
	
></p>
<p><img src="https://s2.loli.net/2022/03/10/XUmBcrg3stGLpOi.png"
	
	
	
	loading="lazy"
	
		alt="image-20220310214106538"
	
	
></p>
<h4 id="bå¼•å…¥ä¾èµ–">b&gt;å¼•å…¥ä¾èµ–</h4>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-xml" data-lang="xml"><span class="line"><span class="cl"><span class="nt">&lt;dependencies&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;dependency&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;groupId&gt;</span>org.springframework.boot<span class="nt">&lt;/groupId&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;artifactId&gt;</span>spring-boot-starter<span class="nt">&lt;/artifactId&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;/dependency&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;dependency&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;groupId&gt;</span>org.springframework.boot<span class="nt">&lt;/groupId&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;artifactId&gt;</span>spring-boot-starter-test<span class="nt">&lt;/artifactId&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;scope&gt;</span>test<span class="nt">&lt;/scope&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;/dependency&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c">&lt;!--MyBatis-pluså¯åŠ¨å™¨--&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;dependency&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;groupId&gt;</span>com.baomidou<span class="nt">&lt;/groupId&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;artifactId&gt;</span>mybatis-plus-boot-starter<span class="nt">&lt;/artifactId&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;version&gt;</span>3.5.1<span class="nt">&lt;/version&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;/dependency&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c">&lt;!--lombokç”¨äºç®€åŒ–å®ä½“ç±»å¼€å‘--&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;dependency&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;groupId&gt;</span>org.projectlombok<span class="nt">&lt;/groupId&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;artifactId&gt;</span>lombok<span class="nt">&lt;/artifactId&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;optional&gt;</span>true<span class="nt">&lt;/optional&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;/dependency&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c">&lt;!--mysqlé©±åŠ¨--&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;dependency&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;groupId&gt;</span>mysql<span class="nt">&lt;/groupId&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;artifactId&gt;</span>mysql-connector-java<span class="nt">&lt;/artifactId&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;/dependency&gt;</span>
</span></span><span class="line"><span class="cl"><span class="nt">&lt;/dependencies&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="cideaä¸­å®‰è£…lombokæ’ä»¶">c&gt;ideaä¸­å®‰è£…lombokæ’ä»¶</h4>
<p><img src="https://s2.loli.net/2022/03/10/u9vwgyD2tQJpqbK.png"
	
	
	
	loading="lazy"
	
		alt="image-20220310214435928"
	
	
></p>
<h3 id="ç¼–å†™ä»£ç ">ç¼–å†™ä»£ç </h3>
<h4 id="aé…ç½®applicationyml">a&gt;é…ç½®application.yml</h4>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nt">spring</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="c"># é…ç½®æ•°æ®æºä¿¡æ¯</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">datasource</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="c"># é…ç½®æ•°æ®æºç±»å‹</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l">com.zaxxer.hikari.HikariDataSource</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="c"># é…ç½®è¿æ¥æ•°æ®åº“ä¿¡æ¯</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">driver-class-name</span><span class="p">:</span><span class="w"> </span><span class="l">com.mysql.cj.jdbc.Driver</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="c"># æˆ‘çš„æ•°æ®åº“æ˜¯8.0.27 5ç‰ˆæœ¬çš„å¯ä»¥ä½¿ç”¨ jdbc:mysql://localhost:3306/mybatis_plus?characterEncoding=utf-8&amp;useSSL=false</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">url</span><span class="p">:</span><span class="w"> </span><span class="l">jdbc:mysql://localhost:3306/mybatis_plus?serverTimezone=GMT%2B8&amp;characterEncoding=utf-8&amp;useSSL=false</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">username</span><span class="p">:</span><span class="w"> </span><span class="l">root</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">password</span><span class="p">:</span><span class="w"> </span><span class="s1">&#39;root&#39;</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><h4 id="æ³¨æ„">æ³¨æ„ï¼š</h4>
<blockquote>
<p>ã€Šé˜¿é‡Œå·´å·´ Java å¼€å‘æ‰‹å†Œã€‹çš„æè¿°å¦‚ä¸‹ï¼š</p>
<p>1ã€é©±åŠ¨ç±»driver-class-name</p>
<p>spring boot 2.0(å†…ç½®jdbc5é©±åŠ¨)ï¼Œé©±åŠ¨ç±»ä½¿ç”¨:</p>
<p><strong>driver-class-name: com.mysql.jdbc.Driver</strong></p>
<p>spring boot 2.1åŠä»¥ä¸Š(å†…ç½®jdbc8é©±åŠ¨)ï¼Œé©±åŠ¨ç±»ä½¿ç”¨:</p>
<p><strong>driver-class-name: com.mysql.cj.jdbc.Driver</strong></p>
<p>å¦åˆ™è¿è¡Œæµ‹è¯•ç”¨ä¾‹çš„æ—¶å€™ä¼šæœ‰ WARN ä¿¡æ¯</p>
<p>2ã€è¿æ¥åœ°å€url</p>
<p>MySQL5.7ç‰ˆæœ¬çš„url:</p>
<p><strong>jdbc:mysql://localhost:3306/mybatis_plus?characterEncoding=utf-8&amp;useSSL=false</strong></p>
<p>MySQL8.0ç‰ˆæœ¬çš„url:</p>
<p><strong>jdbc:mysql://localhost:3306/mybatis_plus?serverTimezone=GMT%2B8&amp;characterEncoding=utf-8&amp;useSSL=false</strong></p>
<p>å¦åˆ™è¿è¡Œæµ‹è¯•ç”¨ä¾‹æŠ¥å‘Šå¦‚ä¸‹é”™è¯¯:</p>
<p>java.sql.SQLException: The server time zone value &lsquo;Ã–Ã1ÃºÂ±ÃªÃ—1â„4ÃŠÂ±1â„4Ã¤&rsquo; is unrecognized or represents more</p>
</blockquote>
<h4 id="bå¯åŠ¨ç±»">b&gt;å¯åŠ¨ç±»</h4>
<p>åœ¨Spring Bootå¯åŠ¨ç±»ä¸­æ·»åŠ @MapperScanæ³¨è§£ï¼Œæ‰«æmapperåŒ…</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="nd">@SpringBootApplication</span>
</span></span><span class="line"><span class="cl"><span class="c1">// æ‰«æmapperæ¥å£æ‰€åœ¨çš„åŒ…
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nd">@MapperScan</span><span class="o">(</span><span class="s">&#34;com.atguigu.mybatisplus.mapper&#34;</span><span class="o">)</span>
</span></span><span class="line"><span class="cl"><span class="kd">public</span> <span class="kd">class</span> <span class="nc">MybatisplusApplication</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">SpringApplication</span><span class="o">.</span><span class="na">run</span><span class="o">(</span><span class="n">MybatisplusApplication</span><span class="o">.</span><span class="na">class</span><span class="o">,</span> <span class="n">args</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">    <span class="o">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="o">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="cæ·»åŠ å®ä½“">c&gt;æ·»åŠ å®ä½“</h4>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="nd">@Data</span>
</span></span><span class="line"><span class="cl"><span class="nd">@AllArgsConstructor</span>
</span></span><span class="line"><span class="cl"><span class="nd">@NoArgsConstructor</span>
</span></span><span class="line"><span class="cl"><span class="kd">public</span> <span class="kd">class</span> <span class="nc">User</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="kd">private</span> <span class="n">Long</span> <span class="n">id</span><span class="o">;</span>
</span></span><span class="line"><span class="cl">    <span class="kd">private</span> <span class="n">String</span> <span class="n">name</span><span class="o">;</span>
</span></span><span class="line"><span class="cl">    <span class="kd">private</span> <span class="n">Integer</span> <span class="n">age</span><span class="o">;</span>
</span></span><span class="line"><span class="cl">    <span class="kd">private</span> <span class="n">String</span> <span class="n">email</span><span class="o">;</span>
</span></span><span class="line"><span class="cl"><span class="o">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><strong>ä½¿ç”¨äº†Lombokæ³¨è§£</strong></p>
<p><img src="https://s2.loli.net/2022/03/10/CAhMvPVzdW5qiT6.png"
	
	
	
	loading="lazy"
	
		alt="image-20220310220124662"
	
	
></p>
<h4 id="dæ·»åŠ mapper">d&gt;æ·»åŠ mapper</h4>
<p><strong>BaseMapper</strong>æ˜¯MyBatis-Plusæä¾›çš„<strong>æ¨¡æ¿mapper</strong>ï¼Œå…¶ä¸­åŒ…å«äº†åŸºæœ¬çš„CRUDæ–¹æ³•ï¼Œ<strong>æ³›å‹ä¸ºæ“ä½œçš„å®ä½“ç±»å‹</strong></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="kd">public</span> <span class="kd">interface</span> <span class="nc">UserMapper</span> <span class="kd">extends</span> <span class="n">BaseMapper</span><span class="o">&lt;</span><span class="n">User</span><span class="o">&gt;</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl"><span class="o">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="eæµ‹è¯•">e&gt;æµ‹è¯•</h4>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="nd">@SpringBootTest</span>
</span></span><span class="line"><span class="cl"><span class="kd">class</span> <span class="nc">MybatisplusApplicationTests</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="nd">@Autowired</span>
</span></span><span class="line"><span class="cl">    <span class="kd">private</span> <span class="n">UserMapper</span> <span class="n">userMapper</span><span class="o">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="nd">@Test</span>
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">testSelectList</span><span class="o">()</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">        <span class="c1">// é€šè¿‡æ¡ä»¶æ„é€ å™¨æŸ¥è¯¢ä¸€ä¸ªListé›†åˆï¼Œè‹¥æ²¡æœ‰æ¡ä»¶ï¼Œåˆ™å¯ä»¥è®¾ç½®nullä¸ºå‚æ•°
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="n">List</span><span class="o">&lt;</span><span class="n">User</span><span class="o">&gt;</span> <span class="n">list</span> <span class="o">=</span> <span class="n">userMapper</span><span class="o">.</span><span class="na">selectList</span><span class="o">(</span><span class="kc">null</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">        <span class="n">list</span><span class="o">.</span><span class="na">forEach</span><span class="o">(</span><span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">::</span><span class="n">println</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">    <span class="o">}</span>
</span></span><span class="line"><span class="cl"><span class="o">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="ç»“æœ">ç»“æœ</h4>
<p><img src="https://s2.loli.net/2022/03/10/1Ws3a7L8KPkEcfi.png"
	
	
	
	loading="lazy"
	
		alt="img"
	
	
></p>
<h4 id="æ³¨æ„-1">æ³¨æ„ï¼š</h4>
<blockquote>
<p>IDEAåœ¨ userMapper å¤„æŠ¥é”™ï¼Œå› ä¸ºæ‰¾ä¸åˆ°æ³¨å…¥çš„å¯¹è±¡ï¼Œå› ä¸ºç±»æ˜¯åŠ¨æ€åˆ›å»ºçš„ï¼Œä½†æ˜¯ç¨‹åºå¯ä»¥æ­£ç¡® çš„æ‰§è¡Œã€‚</p>
<p>ä¸ºäº†é¿å…æŠ¥é”™ï¼Œå¯ä»¥åœ¨mapperæ¥å£ä¸Šæ·»åŠ  <strong>@Repository</strong> æ³¨è§£</p>
</blockquote>
<h4 id="fæ·»åŠ æ—¥å¿—">f&gt;æ·»åŠ æ—¥å¿—</h4>
<p>åœ¨application.ymlä¸­é…ç½®æ—¥å¿—è¾“å‡º</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="c"># åŠ å…¥æ—¥å¿—åŠŸèƒ½</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">mybatis-plus</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">configuration</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">log-impl</span><span class="p">:</span><span class="w"> </span><span class="l">org.apache.ibatis.logging.stdout.StdOutImpl</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><p><img src="https://s2.loli.net/2022/03/10/U7O6SRDKwnQaeAk.png"
	
	
	
	loading="lazy"
	
		alt="img"
	
	
></p>
<h2 id="åŸºæœ¬crud">åŸºæœ¬CRUD</h2>
<h3 id="basemapper">BaseMapper</h3>
<p>MyBatis-Plusä¸­çš„åŸºæœ¬CRUDåœ¨å†…ç½®çš„<strong>BaseMappe</strong>rä¸­å·²å¾—åˆ°äº†å®ç°ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥ä½¿ç”¨ï¼Œæ¥å£å¦‚ä¸‹ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">  1
</span><span class="lnt">  2
</span><span class="lnt">  3
</span><span class="lnt">  4
</span><span class="lnt">  5
</span><span class="lnt">  6
</span><span class="lnt">  7
</span><span class="lnt">  8
</span><span class="lnt">  9
</span><span class="lnt"> 10
</span><span class="lnt"> 11
</span><span class="lnt"> 12
</span><span class="lnt"> 13
</span><span class="lnt"> 14
</span><span class="lnt"> 15
</span><span class="lnt"> 16
</span><span class="lnt"> 17
</span><span class="lnt"> 18
</span><span class="lnt"> 19
</span><span class="lnt"> 20
</span><span class="lnt"> 21
</span><span class="lnt"> 22
</span><span class="lnt"> 23
</span><span class="lnt"> 24
</span><span class="lnt"> 25
</span><span class="lnt"> 26
</span><span class="lnt"> 27
</span><span class="lnt"> 28
</span><span class="lnt"> 29
</span><span class="lnt"> 30
</span><span class="lnt"> 31
</span><span class="lnt"> 32
</span><span class="lnt"> 33
</span><span class="lnt"> 34
</span><span class="lnt"> 35
</span><span class="lnt"> 36
</span><span class="lnt"> 37
</span><span class="lnt"> 38
</span><span class="lnt"> 39
</span><span class="lnt"> 40
</span><span class="lnt"> 41
</span><span class="lnt"> 42
</span><span class="lnt"> 43
</span><span class="lnt"> 44
</span><span class="lnt"> 45
</span><span class="lnt"> 46
</span><span class="lnt"> 47
</span><span class="lnt"> 48
</span><span class="lnt"> 49
</span><span class="lnt"> 50
</span><span class="lnt"> 51
</span><span class="lnt"> 52
</span><span class="lnt"> 53
</span><span class="lnt"> 54
</span><span class="lnt"> 55
</span><span class="lnt"> 56
</span><span class="lnt"> 57
</span><span class="lnt"> 58
</span><span class="lnt"> 59
</span><span class="lnt"> 60
</span><span class="lnt"> 61
</span><span class="lnt"> 62
</span><span class="lnt"> 63
</span><span class="lnt"> 64
</span><span class="lnt"> 65
</span><span class="lnt"> 66
</span><span class="lnt"> 67
</span><span class="lnt"> 68
</span><span class="lnt"> 69
</span><span class="lnt"> 70
</span><span class="lnt"> 71
</span><span class="lnt"> 72
</span><span class="lnt"> 73
</span><span class="lnt"> 74
</span><span class="lnt"> 75
</span><span class="lnt"> 76
</span><span class="lnt"> 77
</span><span class="lnt"> 78
</span><span class="lnt"> 79
</span><span class="lnt"> 80
</span><span class="lnt"> 81
</span><span class="lnt"> 82
</span><span class="lnt"> 83
</span><span class="lnt"> 84
</span><span class="lnt"> 85
</span><span class="lnt"> 86
</span><span class="lnt"> 87
</span><span class="lnt"> 88
</span><span class="lnt"> 89
</span><span class="lnt"> 90
</span><span class="lnt"> 91
</span><span class="lnt"> 92
</span><span class="lnt"> 93
</span><span class="lnt"> 94
</span><span class="lnt"> 95
</span><span class="lnt"> 96
</span><span class="lnt"> 97
</span><span class="lnt"> 98
</span><span class="lnt"> 99
</span><span class="lnt">100
</span><span class="lnt">101
</span><span class="lnt">102
</span><span class="lnt">103
</span><span class="lnt">104
</span><span class="lnt">105
</span><span class="lnt">106
</span><span class="lnt">107
</span><span class="lnt">108
</span><span class="lnt">109
</span><span class="lnt">110
</span><span class="lnt">111
</span><span class="lnt">112
</span><span class="lnt">113
</span><span class="lnt">114
</span><span class="lnt">115
</span><span class="lnt">116
</span><span class="lnt">117
</span><span class="lnt">118
</span><span class="lnt">119
</span><span class="lnt">120
</span><span class="lnt">121
</span><span class="lnt">122
</span><span class="lnt">123
</span><span class="lnt">124
</span><span class="lnt">125
</span><span class="lnt">126
</span><span class="lnt">127
</span><span class="lnt">128
</span><span class="lnt">129
</span><span class="lnt">130
</span><span class="lnt">131
</span><span class="lnt">132
</span><span class="lnt">133
</span><span class="lnt">134
</span><span class="lnt">135
</span><span class="lnt">136
</span><span class="lnt">137
</span><span class="lnt">138
</span><span class="lnt">139
</span><span class="lnt">140
</span><span class="lnt">141
</span><span class="lnt">142
</span><span class="lnt">143
</span><span class="lnt">144
</span><span class="lnt">145
</span><span class="lnt">146
</span><span class="lnt">147
</span><span class="lnt">148
</span><span class="lnt">149
</span><span class="lnt">150
</span><span class="lnt">151
</span><span class="lnt">152
</span><span class="lnt">153
</span><span class="lnt">154
</span><span class="lnt">155
</span><span class="lnt">156
</span><span class="lnt">157
</span><span class="lnt">158
</span><span class="lnt">159
</span><span class="lnt">160
</span><span class="lnt">161
</span><span class="lnt">162
</span><span class="lnt">163
</span><span class="lnt">164
</span><span class="lnt">165
</span><span class="lnt">166
</span><span class="lnt">167
</span><span class="lnt">168
</span><span class="lnt">169
</span><span class="lnt">170
</span><span class="lnt">171
</span><span class="lnt">172
</span><span class="lnt">173
</span><span class="lnt">174
</span><span class="lnt">175
</span><span class="lnt">176
</span><span class="lnt">177
</span><span class="lnt">178
</span><span class="lnt">179
</span><span class="lnt">180
</span><span class="lnt">181
</span><span class="lnt">182
</span><span class="lnt">183
</span><span class="lnt">184
</span><span class="lnt">185
</span><span class="lnt">186
</span><span class="lnt">187
</span><span class="lnt">188
</span><span class="lnt">189
</span><span class="lnt">190
</span><span class="lnt">191
</span><span class="lnt">192
</span><span class="lnt">193
</span><span class="lnt">194
</span><span class="lnt">195
</span><span class="lnt">196
</span><span class="lnt">197
</span><span class="lnt">198
</span><span class="lnt">199
</span><span class="lnt">200
</span><span class="lnt">201
</span><span class="lnt">202
</span><span class="lnt">203
</span><span class="lnt">204
</span><span class="lnt">205
</span><span class="lnt">206
</span><span class="lnt">207
</span><span class="lnt">208
</span><span class="lnt">209
</span><span class="lnt">210
</span><span class="lnt">211
</span><span class="lnt">212
</span><span class="lnt">213
</span><span class="lnt">214
</span><span class="lnt">215
</span><span class="lnt">216
</span><span class="lnt">217
</span><span class="lnt">218
</span><span class="lnt">219
</span><span class="lnt">220
</span><span class="lnt">221
</span><span class="lnt">222
</span><span class="lnt">223
</span><span class="lnt">224
</span><span class="lnt">225
</span><span class="lnt">226
</span><span class="lnt">227
</span><span class="lnt">228
</span><span class="lnt">229
</span><span class="lnt">230
</span><span class="lnt">231
</span><span class="lnt">232
</span><span class="lnt">233
</span><span class="lnt">234
</span><span class="lnt">235
</span><span class="lnt">236
</span><span class="lnt">237
</span><span class="lnt">238
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="cm">/*
</span></span></span><span class="line"><span class="cl"><span class="cm"> * Copyright (c) 2011-2022, baomidou (jobob@qq.com).
</span></span></span><span class="line"><span class="cl"><span class="cm"> *
</span></span></span><span class="line"><span class="cl"><span class="cm"> * Licensed under the Apache License, Version 2.0 (the &#34;License&#34;);
</span></span></span><span class="line"><span class="cl"><span class="cm"> * you may not use this file except in compliance with the License.
</span></span></span><span class="line"><span class="cl"><span class="cm"> * You may obtain a copy of the License at
</span></span></span><span class="line"><span class="cl"><span class="cm"> *
</span></span></span><span class="line"><span class="cl"><span class="cm"> *     http://www.apache.org/licenses/LICENSE-2.0
</span></span></span><span class="line"><span class="cl"><span class="cm"> *
</span></span></span><span class="line"><span class="cl"><span class="cm"> * Unless required by applicable law or agreed to in writing, software
</span></span></span><span class="line"><span class="cl"><span class="cm"> * distributed under the License is distributed on an &#34;AS IS&#34; BASIS,
</span></span></span><span class="line"><span class="cl"><span class="cm"> * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
</span></span></span><span class="line"><span class="cl"><span class="cm"> * See the License for the specific language governing permissions and
</span></span></span><span class="line"><span class="cl"><span class="cm"> * limitations under the License.
</span></span></span><span class="line"><span class="cl"><span class="cm"> */</span>
</span></span><span class="line"><span class="cl"><span class="kn">package</span> <span class="nn">com.baomidou.mybatisplus.core.mapper</span><span class="o">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">com.baomidou.mybatisplus.core.conditions.Wrapper</span><span class="o">;</span>
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">com.baomidou.mybatisplus.core.metadata.IPage</span><span class="o">;</span>
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">com.baomidou.mybatisplus.core.toolkit.CollectionUtils</span><span class="o">;</span>
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">com.baomidou.mybatisplus.core.toolkit.Constants</span><span class="o">;</span>
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">com.baomidou.mybatisplus.core.toolkit.ExceptionUtils</span><span class="o">;</span>
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">org.apache.ibatis.annotations.Param</span><span class="o">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">java.io.Serializable</span><span class="o">;</span>
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">java.util.Collection</span><span class="o">;</span>
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">java.util.List</span><span class="o">;</span>
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">java.util.Map</span><span class="o">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="cm">/*
</span></span></span><span class="line"><span class="cl"><span class="cm">
</span></span></span><span class="line"><span class="cl"><span class="cm">               :`
</span></span></span><span class="line"><span class="cl"><span class="cm">                    .:,
</span></span></span><span class="line"><span class="cl"><span class="cm">                     :::,,.
</span></span></span><span class="line"><span class="cl"><span class="cm">             ::      `::::::
</span></span></span><span class="line"><span class="cl"><span class="cm">             ::`    `,:,` .:`
</span></span></span><span class="line"><span class="cl"><span class="cm">             `:: `::::::::.:`      `:&#39;;,`
</span></span></span><span class="line"><span class="cl"><span class="cm">              ::::,     .:::`   `@++++++++:
</span></span></span><span class="line"><span class="cl"><span class="cm">               ``        :::`  @+++++++++++#
</span></span></span><span class="line"><span class="cl"><span class="cm">                         :::, #++++++++++++++`
</span></span></span><span class="line"><span class="cl"><span class="cm">                 ,:      `::::::;&#39;##++++++++++
</span></span></span><span class="line"><span class="cl"><span class="cm">                 .@#@;`   ::::::::::::::::::::;
</span></span></span><span class="line"><span class="cl"><span class="cm">                  #@####@, :::::::::::::::+#;::.
</span></span></span><span class="line"><span class="cl"><span class="cm">                  @@######+@:::::::::::::.  #@:;
</span></span></span><span class="line"><span class="cl"><span class="cm">           ,      @@########&#39;:::::::::::: .#&#39;&#39;&#39;:`
</span></span></span><span class="line"><span class="cl"><span class="cm">           ;##@@@+:##########@::::::::::: @#;.,:.
</span></span></span><span class="line"><span class="cl"><span class="cm">            #@@@######++++#####&#39;::::::::: .##+,:#`
</span></span></span><span class="line"><span class="cl"><span class="cm">            @@@@@#####+++++&#39;#####+::::::::` ,`::@#:`
</span></span></span><span class="line"><span class="cl"><span class="cm">            `@@@@#####++++++&#39;#####+#&#39;:::::::::::@.
</span></span></span><span class="line"><span class="cl"><span class="cm">             @@@@######+++++&#39;&#39;#######+##&#39;;::::;&#39;:,`
</span></span></span><span class="line"><span class="cl"><span class="cm">              @@@@#####+++++&#39;&#39;&#39;#######++++++++++`
</span></span></span><span class="line"><span class="cl"><span class="cm">               #@@#####++++++&#39;&#39;########++++++++&#39;
</span></span></span><span class="line"><span class="cl"><span class="cm">               `#@######+++++&#39;&#39;+########+++++++;
</span></span></span><span class="line"><span class="cl"><span class="cm">                `@@#####+++++&#39;&#39;##########++++++,
</span></span></span><span class="line"><span class="cl"><span class="cm">                 @@######+++++&#39;##########+++++#`
</span></span></span><span class="line"><span class="cl"><span class="cm">                @@@@#####+++++############++++;
</span></span></span><span class="line"><span class="cl"><span class="cm">              ;#@@@@@####++++##############+++,
</span></span></span><span class="line"><span class="cl"><span class="cm">             @@@@@@@@@@@###@###############++&#39;
</span></span></span><span class="line"><span class="cl"><span class="cm">           @#@@@@@@@@@@@@###################+:
</span></span></span><span class="line"><span class="cl"><span class="cm">        `@#@@@@@@@@@@@@@@###################&#39;`
</span></span></span><span class="line"><span class="cl"><span class="cm">      :@#@@@@@@@@@@@@@@@@@##################,
</span></span></span><span class="line"><span class="cl"><span class="cm">      ,@@@@@@@@@@@@@@@@@@@@################;
</span></span></span><span class="line"><span class="cl"><span class="cm">       ,#@@@@@@@@@@@@@@@@@@@##############+`
</span></span></span><span class="line"><span class="cl"><span class="cm">        .#@@@@@@@@@@@@@@@@@@#############@,
</span></span></span><span class="line"><span class="cl"><span class="cm">          @@@@@@@@@@@@@@@@@@@###########@,
</span></span></span><span class="line"><span class="cl"><span class="cm">           :#@@@@@@@@@@@@@@@@##########@,
</span></span></span><span class="line"><span class="cl"><span class="cm">            `##@@@@@@@@@@@@@@@########+,
</span></span></span><span class="line"><span class="cl"><span class="cm">              `+@@@@@@@@@@@@@@@#####@:`
</span></span></span><span class="line"><span class="cl"><span class="cm">                `:@@@@@@@@@@@@@@##@;.
</span></span></span><span class="line"><span class="cl"><span class="cm">                   `,&#39;@@@@##@@@+;,`
</span></span></span><span class="line"><span class="cl"><span class="cm">                        ``...``
</span></span></span><span class="line"><span class="cl"><span class="cm">
</span></span></span><span class="line"><span class="cl"><span class="cm"> _ _     /_ _ _/_. ____  /    _
</span></span></span><span class="line"><span class="cl"><span class="cm">/ / //_//_//_|/ /_\  /_///_/_\      Talk is cheap. Show me the code.
</span></span></span><span class="line"><span class="cl"><span class="cm">     _/             /
</span></span></span><span class="line"><span class="cl"><span class="cm"> */</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="cm">/**
</span></span></span><span class="line"><span class="cl"><span class="cm"> * Mapper ç»§æ‰¿è¯¥æ¥å£åï¼Œæ— éœ€ç¼–å†™ mapper.xml æ–‡ä»¶ï¼Œå³å¯è·å¾—CRUDåŠŸèƒ½
</span></span></span><span class="line"><span class="cl"><span class="cm"> * &lt;p&gt;è¿™ä¸ª Mapper æ”¯æŒ id æ³›å‹&lt;/p&gt;
</span></span></span><span class="line"><span class="cl"><span class="cm"> *
</span></span></span><span class="line"><span class="cl"><span class="cm"> * @author hubin
</span></span></span><span class="line"><span class="cl"><span class="cm"> * @since 2016-01-23
</span></span></span><span class="line"><span class="cl"><span class="cm"> */</span>
</span></span><span class="line"><span class="cl"><span class="kd">public</span> <span class="kd">interface</span> <span class="nc">BaseMapper</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span> <span class="kd">extends</span> <span class="n">Mapper</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="cm">/**
</span></span></span><span class="line"><span class="cl"><span class="cm">     * æ’å…¥ä¸€æ¡è®°å½•
</span></span></span><span class="line"><span class="cl"><span class="cm">     *
</span></span></span><span class="line"><span class="cl"><span class="cm">     * @param entity å®ä½“å¯¹è±¡
</span></span></span><span class="line"><span class="cl"><span class="cm">     */</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="nf">insert</span><span class="o">(</span><span class="n">T</span> <span class="n">entity</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="cm">/**
</span></span></span><span class="line"><span class="cl"><span class="cm">     * æ ¹æ® ID åˆ é™¤
</span></span></span><span class="line"><span class="cl"><span class="cm">     *
</span></span></span><span class="line"><span class="cl"><span class="cm">     * @param id ä¸»é”®ID
</span></span></span><span class="line"><span class="cl"><span class="cm">     */</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="nf">deleteById</span><span class="o">(</span><span class="n">Serializable</span> <span class="n">id</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="cm">/**
</span></span></span><span class="line"><span class="cl"><span class="cm">     * æ ¹æ®å®ä½“(ID)åˆ é™¤
</span></span></span><span class="line"><span class="cl"><span class="cm">     *
</span></span></span><span class="line"><span class="cl"><span class="cm">     * @param entity å®ä½“å¯¹è±¡
</span></span></span><span class="line"><span class="cl"><span class="cm">     * @since 3.4.4
</span></span></span><span class="line"><span class="cl"><span class="cm">     */</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="nf">deleteById</span><span class="o">(</span><span class="n">T</span> <span class="n">entity</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="cm">/**
</span></span></span><span class="line"><span class="cl"><span class="cm">     * æ ¹æ® columnMap æ¡ä»¶ï¼Œåˆ é™¤è®°å½•
</span></span></span><span class="line"><span class="cl"><span class="cm">     *
</span></span></span><span class="line"><span class="cl"><span class="cm">     * @param columnMap è¡¨å­—æ®µ map å¯¹è±¡
</span></span></span><span class="line"><span class="cl"><span class="cm">     */</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="nf">deleteByMap</span><span class="o">(</span><span class="nd">@Param</span><span class="o">(</span><span class="n">Constants</span><span class="o">.</span><span class="na">COLUMN_MAP</span><span class="o">)</span> <span class="n">Map</span><span class="o">&lt;</span><span class="n">String</span><span class="o">,</span> <span class="n">Object</span><span class="o">&gt;</span> <span class="n">columnMap</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="cm">/**
</span></span></span><span class="line"><span class="cl"><span class="cm">     * æ ¹æ® entity æ¡ä»¶ï¼Œåˆ é™¤è®°å½•
</span></span></span><span class="line"><span class="cl"><span class="cm">     *
</span></span></span><span class="line"><span class="cl"><span class="cm">     * @param queryWrapper å®ä½“å¯¹è±¡å°è£…æ“ä½œç±»ï¼ˆå¯ä»¥ä¸º null,é‡Œé¢çš„ entity ç”¨äºç”Ÿæˆ where è¯­å¥ï¼‰
</span></span></span><span class="line"><span class="cl"><span class="cm">     */</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="nf">delete</span><span class="o">(</span><span class="nd">@Param</span><span class="o">(</span><span class="n">Constants</span><span class="o">.</span><span class="na">WRAPPER</span><span class="o">)</span> <span class="n">Wrapper</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span> <span class="n">queryWrapper</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="cm">/**
</span></span></span><span class="line"><span class="cl"><span class="cm">     * åˆ é™¤ï¼ˆæ ¹æ®IDæˆ–å®ä½“ æ‰¹é‡åˆ é™¤ï¼‰
</span></span></span><span class="line"><span class="cl"><span class="cm">     *
</span></span></span><span class="line"><span class="cl"><span class="cm">     * @param idList ä¸»é”®IDåˆ—è¡¨æˆ–å®ä½“åˆ—è¡¨(ä¸èƒ½ä¸º null ä»¥åŠ empty)
</span></span></span><span class="line"><span class="cl"><span class="cm">     */</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="nf">deleteBatchIds</span><span class="o">(</span><span class="nd">@Param</span><span class="o">(</span><span class="n">Constants</span><span class="o">.</span><span class="na">COLLECTION</span><span class="o">)</span> <span class="n">Collection</span><span class="o">&lt;?&gt;</span> <span class="n">idList</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="cm">/**
</span></span></span><span class="line"><span class="cl"><span class="cm">     * æ ¹æ® ID ä¿®æ”¹
</span></span></span><span class="line"><span class="cl"><span class="cm">     *
</span></span></span><span class="line"><span class="cl"><span class="cm">     * @param entity å®ä½“å¯¹è±¡
</span></span></span><span class="line"><span class="cl"><span class="cm">     */</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="nf">updateById</span><span class="o">(</span><span class="nd">@Param</span><span class="o">(</span><span class="n">Constants</span><span class="o">.</span><span class="na">ENTITY</span><span class="o">)</span> <span class="n">T</span> <span class="n">entity</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="cm">/**
</span></span></span><span class="line"><span class="cl"><span class="cm">     * æ ¹æ® whereEntity æ¡ä»¶ï¼Œæ›´æ–°è®°å½•
</span></span></span><span class="line"><span class="cl"><span class="cm">     *
</span></span></span><span class="line"><span class="cl"><span class="cm">     * @param entity        å®ä½“å¯¹è±¡ (set æ¡ä»¶å€¼,å¯ä»¥ä¸º null)
</span></span></span><span class="line"><span class="cl"><span class="cm">     * @param updateWrapper å®ä½“å¯¹è±¡å°è£…æ“ä½œç±»ï¼ˆå¯ä»¥ä¸º null,é‡Œé¢çš„ entity ç”¨äºç”Ÿæˆ where è¯­å¥ï¼‰
</span></span></span><span class="line"><span class="cl"><span class="cm">     */</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="nf">update</span><span class="o">(</span><span class="nd">@Param</span><span class="o">(</span><span class="n">Constants</span><span class="o">.</span><span class="na">ENTITY</span><span class="o">)</span> <span class="n">T</span> <span class="n">entity</span><span class="o">,</span> <span class="nd">@Param</span><span class="o">(</span><span class="n">Constants</span><span class="o">.</span><span class="na">WRAPPER</span><span class="o">)</span> <span class="n">Wrapper</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span> <span class="n">updateWrapper</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="cm">/**
</span></span></span><span class="line"><span class="cl"><span class="cm">     * æ ¹æ® ID æŸ¥è¯¢
</span></span></span><span class="line"><span class="cl"><span class="cm">     *
</span></span></span><span class="line"><span class="cl"><span class="cm">     * @param id ä¸»é”®ID
</span></span></span><span class="line"><span class="cl"><span class="cm">     */</span>
</span></span><span class="line"><span class="cl">    <span class="n">T</span> <span class="nf">selectById</span><span class="o">(</span><span class="n">Serializable</span> <span class="n">id</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="cm">/**
</span></span></span><span class="line"><span class="cl"><span class="cm">     * æŸ¥è¯¢ï¼ˆæ ¹æ®ID æ‰¹é‡æŸ¥è¯¢ï¼‰
</span></span></span><span class="line"><span class="cl"><span class="cm">     *
</span></span></span><span class="line"><span class="cl"><span class="cm">     * @param idList ä¸»é”®IDåˆ—è¡¨(ä¸èƒ½ä¸º null ä»¥åŠ empty)
</span></span></span><span class="line"><span class="cl"><span class="cm">     */</span>
</span></span><span class="line"><span class="cl">    <span class="n">List</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span> <span class="nf">selectBatchIds</span><span class="o">(</span><span class="nd">@Param</span><span class="o">(</span><span class="n">Constants</span><span class="o">.</span><span class="na">COLLECTION</span><span class="o">)</span> <span class="n">Collection</span><span class="o">&lt;?</span> <span class="kd">extends</span> <span class="n">Serializable</span><span class="o">&gt;</span> <span class="n">idList</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="cm">/**
</span></span></span><span class="line"><span class="cl"><span class="cm">     * æŸ¥è¯¢ï¼ˆæ ¹æ® columnMap æ¡ä»¶ï¼‰
</span></span></span><span class="line"><span class="cl"><span class="cm">     *
</span></span></span><span class="line"><span class="cl"><span class="cm">     * @param columnMap è¡¨å­—æ®µ map å¯¹è±¡
</span></span></span><span class="line"><span class="cl"><span class="cm">     */</span>
</span></span><span class="line"><span class="cl">    <span class="n">List</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span> <span class="nf">selectByMap</span><span class="o">(</span><span class="nd">@Param</span><span class="o">(</span><span class="n">Constants</span><span class="o">.</span><span class="na">COLUMN_MAP</span><span class="o">)</span> <span class="n">Map</span><span class="o">&lt;</span><span class="n">String</span><span class="o">,</span> <span class="n">Object</span><span class="o">&gt;</span> <span class="n">columnMap</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="cm">/**
</span></span></span><span class="line"><span class="cl"><span class="cm">     * æ ¹æ® entity æ¡ä»¶ï¼ŒæŸ¥è¯¢ä¸€æ¡è®°å½•
</span></span></span><span class="line"><span class="cl"><span class="cm">     * &lt;p&gt;æŸ¥è¯¢ä¸€æ¡è®°å½•ï¼Œä¾‹å¦‚ qw.last(&#34;limit 1&#34;) é™åˆ¶å–ä¸€æ¡è®°å½•, æ³¨æ„ï¼šå¤šæ¡æ•°æ®ä¼šæŠ¥å¼‚å¸¸&lt;/p&gt;
</span></span></span><span class="line"><span class="cl"><span class="cm">     *
</span></span></span><span class="line"><span class="cl"><span class="cm">     * @param queryWrapper å®ä½“å¯¹è±¡å°è£…æ“ä½œç±»ï¼ˆå¯ä»¥ä¸º nullï¼‰
</span></span></span><span class="line"><span class="cl"><span class="cm">     */</span>
</span></span><span class="line"><span class="cl">    <span class="k">default</span> <span class="n">T</span> <span class="nf">selectOne</span><span class="o">(</span><span class="nd">@Param</span><span class="o">(</span><span class="n">Constants</span><span class="o">.</span><span class="na">WRAPPER</span><span class="o">)</span> <span class="n">Wrapper</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span> <span class="n">queryWrapper</span><span class="o">)</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">List</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span> <span class="n">ts</span> <span class="o">=</span> <span class="k">this</span><span class="o">.</span><span class="na">selectList</span><span class="o">(</span><span class="n">queryWrapper</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="o">(</span><span class="n">CollectionUtils</span><span class="o">.</span><span class="na">isNotEmpty</span><span class="o">(</span><span class="n">ts</span><span class="o">))</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">            <span class="k">if</span> <span class="o">(</span><span class="n">ts</span><span class="o">.</span><span class="na">size</span><span class="o">()</span> <span class="o">!=</span> <span class="n">1</span><span class="o">)</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">                <span class="k">throw</span> <span class="n">ExceptionUtils</span><span class="o">.</span><span class="na">mpe</span><span class="o">(</span><span class="s">&#34;One record is expected, but the query result is multiple records&#34;</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">            <span class="o">}</span>
</span></span><span class="line"><span class="cl">            <span class="k">return</span> <span class="n">ts</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">0</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">        <span class="o">}</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="kc">null</span><span class="o">;</span>
</span></span><span class="line"><span class="cl">    <span class="o">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="cm">/**
</span></span></span><span class="line"><span class="cl"><span class="cm">     * æ ¹æ® Wrapper æ¡ä»¶ï¼Œåˆ¤æ–­æ˜¯å¦å­˜åœ¨è®°å½•
</span></span></span><span class="line"><span class="cl"><span class="cm">     *
</span></span></span><span class="line"><span class="cl"><span class="cm">     * @param queryWrapper å®ä½“å¯¹è±¡å°è£…æ“ä½œç±»
</span></span></span><span class="line"><span class="cl"><span class="cm">     * @return
</span></span></span><span class="line"><span class="cl"><span class="cm">     */</span>
</span></span><span class="line"><span class="cl">    <span class="k">default</span> <span class="kt">boolean</span> <span class="nf">exists</span><span class="o">(</span><span class="n">Wrapper</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span> <span class="n">queryWrapper</span><span class="o">)</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">Long</span> <span class="n">count</span> <span class="o">=</span> <span class="k">this</span><span class="o">.</span><span class="na">selectCount</span><span class="o">(</span><span class="n">queryWrapper</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="kc">null</span> <span class="o">!=</span> <span class="n">count</span> <span class="o">&amp;&amp;</span> <span class="n">count</span> <span class="o">&gt;</span> <span class="n">0</span><span class="o">;</span>
</span></span><span class="line"><span class="cl">    <span class="o">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="cm">/**
</span></span></span><span class="line"><span class="cl"><span class="cm">     * æ ¹æ® Wrapper æ¡ä»¶ï¼ŒæŸ¥è¯¢æ€»è®°å½•æ•°
</span></span></span><span class="line"><span class="cl"><span class="cm">     *
</span></span></span><span class="line"><span class="cl"><span class="cm">     * @param queryWrapper å®ä½“å¯¹è±¡å°è£…æ“ä½œç±»ï¼ˆå¯ä»¥ä¸º nullï¼‰
</span></span></span><span class="line"><span class="cl"><span class="cm">     */</span>
</span></span><span class="line"><span class="cl">    <span class="n">Long</span> <span class="nf">selectCount</span><span class="o">(</span><span class="nd">@Param</span><span class="o">(</span><span class="n">Constants</span><span class="o">.</span><span class="na">WRAPPER</span><span class="o">)</span> <span class="n">Wrapper</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span> <span class="n">queryWrapper</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="cm">/**
</span></span></span><span class="line"><span class="cl"><span class="cm">     * æ ¹æ® entity æ¡ä»¶ï¼ŒæŸ¥è¯¢å…¨éƒ¨è®°å½•
</span></span></span><span class="line"><span class="cl"><span class="cm">     *
</span></span></span><span class="line"><span class="cl"><span class="cm">     * @param queryWrapper å®ä½“å¯¹è±¡å°è£…æ“ä½œç±»ï¼ˆå¯ä»¥ä¸º nullï¼‰
</span></span></span><span class="line"><span class="cl"><span class="cm">     */</span>
</span></span><span class="line"><span class="cl">    <span class="n">List</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span> <span class="nf">selectList</span><span class="o">(</span><span class="nd">@Param</span><span class="o">(</span><span class="n">Constants</span><span class="o">.</span><span class="na">WRAPPER</span><span class="o">)</span> <span class="n">Wrapper</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span> <span class="n">queryWrapper</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="cm">/**
</span></span></span><span class="line"><span class="cl"><span class="cm">     * æ ¹æ® Wrapper æ¡ä»¶ï¼ŒæŸ¥è¯¢å…¨éƒ¨è®°å½•
</span></span></span><span class="line"><span class="cl"><span class="cm">     *
</span></span></span><span class="line"><span class="cl"><span class="cm">     * @param queryWrapper å®ä½“å¯¹è±¡å°è£…æ“ä½œç±»ï¼ˆå¯ä»¥ä¸º nullï¼‰
</span></span></span><span class="line"><span class="cl"><span class="cm">     */</span>
</span></span><span class="line"><span class="cl">    <span class="n">List</span><span class="o">&lt;</span><span class="n">Map</span><span class="o">&lt;</span><span class="n">String</span><span class="o">,</span> <span class="n">Object</span><span class="o">&gt;&gt;</span> <span class="nf">selectMaps</span><span class="o">(</span><span class="nd">@Param</span><span class="o">(</span><span class="n">Constants</span><span class="o">.</span><span class="na">WRAPPER</span><span class="o">)</span> <span class="n">Wrapper</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span> <span class="n">queryWrapper</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="cm">/**
</span></span></span><span class="line"><span class="cl"><span class="cm">     * æ ¹æ® Wrapper æ¡ä»¶ï¼ŒæŸ¥è¯¢å…¨éƒ¨è®°å½•
</span></span></span><span class="line"><span class="cl"><span class="cm">     * &lt;p&gt;æ³¨æ„ï¼š åªè¿”å›ç¬¬ä¸€ä¸ªå­—æ®µçš„å€¼&lt;/p&gt;
</span></span></span><span class="line"><span class="cl"><span class="cm">     *
</span></span></span><span class="line"><span class="cl"><span class="cm">     * @param queryWrapper å®ä½“å¯¹è±¡å°è£…æ“ä½œç±»ï¼ˆå¯ä»¥ä¸º nullï¼‰
</span></span></span><span class="line"><span class="cl"><span class="cm">     */</span>
</span></span><span class="line"><span class="cl">    <span class="n">List</span><span class="o">&lt;</span><span class="n">Object</span><span class="o">&gt;</span> <span class="nf">selectObjs</span><span class="o">(</span><span class="nd">@Param</span><span class="o">(</span><span class="n">Constants</span><span class="o">.</span><span class="na">WRAPPER</span><span class="o">)</span> <span class="n">Wrapper</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span> <span class="n">queryWrapper</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="cm">/**
</span></span></span><span class="line"><span class="cl"><span class="cm">     * æ ¹æ® entity æ¡ä»¶ï¼ŒæŸ¥è¯¢å…¨éƒ¨è®°å½•ï¼ˆå¹¶ç¿»é¡µï¼‰
</span></span></span><span class="line"><span class="cl"><span class="cm">     *
</span></span></span><span class="line"><span class="cl"><span class="cm">     * @param page         åˆ†é¡µæŸ¥è¯¢æ¡ä»¶ï¼ˆå¯ä»¥ä¸º RowBounds.DEFAULTï¼‰
</span></span></span><span class="line"><span class="cl"><span class="cm">     * @param queryWrapper å®ä½“å¯¹è±¡å°è£…æ“ä½œç±»ï¼ˆå¯ä»¥ä¸º nullï¼‰
</span></span></span><span class="line"><span class="cl"><span class="cm">     */</span>
</span></span><span class="line"><span class="cl">    <span class="o">&lt;</span><span class="n">P</span> <span class="kd">extends</span> <span class="n">IPage</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;&gt;</span> <span class="n">P</span> <span class="nf">selectPage</span><span class="o">(</span><span class="n">P</span> <span class="n">page</span><span class="o">,</span> <span class="nd">@Param</span><span class="o">(</span><span class="n">Constants</span><span class="o">.</span><span class="na">WRAPPER</span><span class="o">)</span> <span class="n">Wrapper</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span> <span class="n">queryWrapper</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="cm">/**
</span></span></span><span class="line"><span class="cl"><span class="cm">     * æ ¹æ® Wrapper æ¡ä»¶ï¼ŒæŸ¥è¯¢å…¨éƒ¨è®°å½•ï¼ˆå¹¶ç¿»é¡µï¼‰
</span></span></span><span class="line"><span class="cl"><span class="cm">     *
</span></span></span><span class="line"><span class="cl"><span class="cm">     * @param page         åˆ†é¡µæŸ¥è¯¢æ¡ä»¶
</span></span></span><span class="line"><span class="cl"><span class="cm">     * @param queryWrapper å®ä½“å¯¹è±¡å°è£…æ“ä½œç±»
</span></span></span><span class="line"><span class="cl"><span class="cm">     */</span>
</span></span><span class="line"><span class="cl">    <span class="o">&lt;</span><span class="n">P</span> <span class="kd">extends</span> <span class="n">IPage</span><span class="o">&lt;</span><span class="n">Map</span><span class="o">&lt;</span><span class="n">String</span><span class="o">,</span> <span class="n">Object</span><span class="o">&gt;&gt;&gt;</span> <span class="n">P</span> <span class="nf">selectMapsPage</span><span class="o">(</span><span class="n">P</span> <span class="n">page</span><span class="o">,</span> <span class="nd">@Param</span><span class="o">(</span><span class="n">Constants</span><span class="o">.</span><span class="na">WRAPPER</span><span class="o">)</span> <span class="n">Wrapper</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span> <span class="n">queryWrapper</span><span class="o">);</span>
</span></span><span class="line"><span class="cl"><span class="o">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="æ’å…¥">æ’å…¥</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="cm">/** æµ‹è¯•BaseMapperçš„æ–°å¢åŠŸèƒ½ **/</span>
</span></span><span class="line"><span class="cl"><span class="nd">@Test</span>
</span></span><span class="line"><span class="cl"><span class="kd">public</span> <span class="kt">void</span> <span class="nf">testInsert</span><span class="o">()</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// å®ç°æ–°å¢ç”¨æˆ·ä¿¡æ¯
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="n">User</span> <span class="n">user</span> <span class="o">=</span> <span class="k">new</span> <span class="n">User</span><span class="o">(</span><span class="kc">null</span><span class="o">,</span> <span class="s">&#34;å¼ ä¸‰&#34;</span><span class="o">,</span> <span class="n">23</span><span class="o">,</span> <span class="s">&#34;zhangsan@atguigu.com&#34;</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">	<span class="c1">//INSERT INTO user ( id, name, age, email ) VALUES ( ?, ?, ?, ? )
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="kt">int</span> <span class="n">result</span> <span class="o">=</span> <span class="n">userMapper</span><span class="o">.</span><span class="na">insert</span><span class="o">(</span><span class="n">user</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">	<span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&#34;å—å½±å“è¡Œæ•°ï¼š&#34;</span><span class="o">+</span><span class="n">result</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">		<span class="c1">//1475754982694199298
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&#34;idè‡ªåŠ¨è·å–ï¼š&#34;</span><span class="o">+</span><span class="n">user</span><span class="o">.</span><span class="na">getId</span><span class="o">());</span>
</span></span><span class="line"><span class="cl"><span class="o">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><blockquote>
<p>æœ€ç»ˆæ‰§è¡Œçš„ç»“æœï¼Œæ‰€è·å–çš„idä¸º1475754982694199298</p>
<p>è¿™æ˜¯å› ä¸ºMyBatis-Plusåœ¨å®ç°æ’å…¥æ•°æ®æ—¶ï¼Œ<strong>ä¼šé»˜è®¤åŸºäºé›ªèŠ±ç®—æ³•çš„ç­–ç•¥ç”Ÿæˆid</strong></p>
</blockquote>
<h3 id="åˆ é™¤">åˆ é™¤</h3>
<h4 id="aé€šè¿‡idåˆ é™¤è®°å½•">a&gt;é€šè¿‡idåˆ é™¤è®°å½•</h4>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="nd">@Test</span> 
</span></span><span class="line"><span class="cl"><span class="kd">public</span> <span class="kt">void</span> <span class="nf">testDeleteById</span><span class="o">(){</span>
</span></span><span class="line"><span class="cl">    <span class="c1">//é€šè¿‡idåˆ é™¤ç”¨æˆ·ä¿¡æ¯ 
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">//DELETE FROM user WHERE id=? 
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="kt">int</span> <span class="n">result</span> <span class="o">=</span> <span class="n">userMapper</span><span class="o">.</span><span class="na">deleteById</span><span class="o">(</span><span class="n">1475754982694199298L</span><span class="o">);</span> 
</span></span><span class="line"><span class="cl">    <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&#34;å—å½±å“è¡Œæ•°ï¼š&#34;</span><span class="o">+</span><span class="n">result</span><span class="o">);</span> 
</span></span><span class="line"><span class="cl"><span class="o">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="bé€šè¿‡idæ‰¹é‡åˆ é™¤è®°å½•">b&gt;é€šè¿‡idæ‰¹é‡åˆ é™¤è®°å½•</h4>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="nd">@Test</span>
</span></span><span class="line"><span class="cl"><span class="kd">public</span> <span class="kt">void</span> <span class="nf">testDeleteBatchIds</span><span class="o">(){</span>
</span></span><span class="line"><span class="cl">    <span class="c1">//é€šè¿‡å¤šä¸ªidæ‰¹é‡åˆ é™¤ 
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">//DELETE FROM user WHERE id IN ( ? , ? , ? ) 
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="n">List</span><span class="o">&lt;</span><span class="n">Long</span><span class="o">&gt;</span> <span class="n">idList</span> <span class="o">=</span> <span class="n">Arrays</span><span class="o">.</span><span class="na">asList</span><span class="o">(</span><span class="n">1L</span><span class="o">,</span> <span class="n">2L</span><span class="o">,</span> <span class="n">3L</span><span class="o">);</span> 
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">result</span> <span class="o">=</span> <span class="n">userMapper</span><span class="o">.</span><span class="na">deleteBatchIds</span><span class="o">(</span><span class="n">idList</span><span class="o">);</span> 
</span></span><span class="line"><span class="cl">    <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&#34;å—å½±å“è¡Œæ•°ï¼š&#34;</span><span class="o">+</span><span class="n">result</span><span class="o">);</span> 
</span></span><span class="line"><span class="cl"><span class="o">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="cé€šè¿‡mapæ¡ä»¶åˆ é™¤è®°å½•">c&gt;é€šè¿‡mapæ¡ä»¶åˆ é™¤è®°å½•</h4>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="cm">/** æµ‹è¯•BaseMapperçš„ æ·»åŠ åŠŸèƒ½  **/</span>
</span></span><span class="line"><span class="cl"><span class="nd">@Test</span> 
</span></span><span class="line"><span class="cl"><span class="kd">public</span> <span class="kt">void</span> <span class="nf">testDeleteByMap</span><span class="o">(){</span>
</span></span><span class="line"><span class="cl">    <span class="c1">//æ ¹æ®mapé›†åˆä¸­æ‰€è®¾ç½®çš„æ¡ä»¶åˆ é™¤è®°å½• 
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">//DELETE FROM user WHERE name = ? AND age = ? 
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="n">Map</span><span class="o">&lt;</span><span class="n">String</span><span class="o">,</span> <span class="n">Object</span><span class="o">&gt;</span> <span class="n">map</span> <span class="o">=</span> <span class="k">new</span> <span class="n">HashMap</span><span class="o">&lt;&gt;();</span> 
</span></span><span class="line"><span class="cl">    <span class="n">map</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">&#34;age&#34;</span><span class="o">,</span> <span class="n">23</span><span class="o">);</span> 
</span></span><span class="line"><span class="cl">    <span class="n">map</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">&#34;name&#34;</span><span class="o">,</span> <span class="s">&#34;å¼ ä¸‰&#34;</span><span class="o">);</span> 
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">result</span> <span class="o">=</span> <span class="n">userMapper</span><span class="o">.</span><span class="na">deleteByMap</span><span class="o">(</span><span class="n">map</span><span class="o">);</span> 
</span></span><span class="line"><span class="cl">    <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&#34;å—å½±å“è¡Œæ•°ï¼š&#34;</span><span class="o">+</span><span class="n">result</span><span class="o">);</span> 
</span></span><span class="line"><span class="cl"><span class="o">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="ä¿®æ”¹">ä¿®æ”¹</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="nd">@Test</span>
</span></span><span class="line"><span class="cl"><span class="kd">public</span> <span class="kt">void</span> <span class="nf">testUpdateById</span><span class="o">(){</span>
</span></span><span class="line"><span class="cl"><span class="n">User</span> <span class="n">user</span> <span class="o">=</span> <span class="k">new</span> <span class="n">User</span><span class="o">(</span><span class="n">4L</span><span class="o">,</span> <span class="s">&#34;admin&#34;</span><span class="o">,</span> <span class="n">22</span><span class="o">,</span> <span class="kc">null</span><span class="o">);</span>
</span></span><span class="line"><span class="cl"><span class="c1">//UPDATE user SET name=?, age=? WHERE id=?
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kt">int</span> <span class="n">result</span> <span class="o">=</span> <span class="n">userMapper</span><span class="o">.</span><span class="na">updateById</span><span class="o">(</span><span class="n">user</span><span class="o">);</span>
</span></span><span class="line"><span class="cl"><span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&#34;å—å½±å“è¡Œæ•°ï¼š&#34;</span><span class="o">+</span><span class="n">result</span><span class="o">);</span>
</span></span><span class="line"><span class="cl"><span class="o">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="æŸ¥è¯¢">æŸ¥è¯¢</h3>
<h4 id="aæ ¹æ®idæŸ¥è¯¢ç”¨æˆ·ä¿¡æ¯">a&gt;æ ¹æ®idæŸ¥è¯¢ç”¨æˆ·ä¿¡æ¯</h4>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="nd">@Test</span>
</span></span><span class="line"><span class="cl"><span class="kd">public</span> <span class="kt">void</span> <span class="nf">testSelectById</span><span class="o">(){</span>
</span></span><span class="line"><span class="cl"><span class="c1">//æ ¹æ®idæŸ¥è¯¢ç”¨æˆ·ä¿¡æ¯
</span></span></span><span class="line"><span class="cl"><span class="c1">//SELECT id,name,age,email FROM user WHERE id=?
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="n">User</span> <span class="n">user</span> <span class="o">=</span> <span class="n">userMapper</span><span class="o">.</span><span class="na">selectById</span><span class="o">(</span><span class="n">4L</span><span class="o">);</span>
</span></span><span class="line"><span class="cl"><span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">user</span><span class="o">);</span>
</span></span><span class="line"><span class="cl"><span class="o">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="bæ ¹æ®å¤šä¸ªidæŸ¥è¯¢å¤šä¸ªç”¨æˆ·ä¿¡æ¯">b&gt;æ ¹æ®å¤šä¸ªidæŸ¥è¯¢å¤šä¸ªç”¨æˆ·ä¿¡æ¯</h4>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="nd">@Test</span> 
</span></span><span class="line"><span class="cl"><span class="kd">public</span> <span class="kt">void</span> <span class="nf">testSelectBatchIds</span><span class="o">(){</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// æ ¹æ®å¤šä¸ªidæŸ¥è¯¢å¤šä¸ªç”¨æˆ·ä¿¡æ¯
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">// SELECT id,name,age,email FROM user WHERE id IN ( ? , ? , ? )
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="n">List</span><span class="o">&lt;</span><span class="n">Long</span><span class="o">&gt;</span> <span class="n">list</span> <span class="o">=</span> <span class="n">Arrays</span><span class="o">.</span><span class="na">asListÆ‘L</span><span class="o">,</span> <span class="n">2L</span><span class="o">,</span> <span class="n">3L</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">    <span class="n">List</span><span class="o">&lt;</span><span class="n">User</span><span class="o">&gt;</span> <span class="n">users</span> <span class="o">=</span> <span class="n">userMapper</span><span class="o">.</span><span class="na">selectBatchIds</span><span class="o">(</span><span class="n">list</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">    <span class="n">users</span><span class="o">.</span><span class="na">forEach</span><span class="o">(</span><span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">::</span><span class="n">println</span><span class="o">);</span>
</span></span><span class="line"><span class="cl"><span class="o">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="cé€šè¿‡mapæ¡ä»¶æŸ¥è¯¢ç”¨æˆ·ä¿¡æ¯">c&gt;é€šè¿‡mapæ¡ä»¶æŸ¥è¯¢ç”¨æˆ·ä¿¡æ¯</h4>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="nd">@Test</span>
</span></span><span class="line"><span class="cl"><span class="kd">public</span> <span class="kt">void</span> <span class="nf">testSelectByMap</span><span class="o">(){</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// æ ¹æ®mapé›†åˆä¸­çš„æ¡ä»¶æŸ¥è¯¢ç”¨æˆ·ä¿¡æ¯
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">// SELECT id,name,age,email FROM user WHERE name = ? AND age = ?
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="n">Map</span><span class="o">&lt;</span><span class="n">String</span><span class="o">,</span> <span class="n">Object</span><span class="o">&gt;</span> <span class="n">map</span> <span class="o">=</span> <span class="k">new</span> <span class="n">HashMap</span><span class="o">&lt;&gt;();</span>
</span></span><span class="line"><span class="cl">    <span class="n">map</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">&#34;name&#34;</span><span class="o">,</span> <span class="s">&#34;Jack&#34;</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">    <span class="n">map</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">&#34;age&#34;</span><span class="o">,</span> <span class="n">18</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">    <span class="n">List</span><span class="o">&lt;</span><span class="n">User</span><span class="o">&gt;</span> <span class="n">users</span> <span class="o">=</span> <span class="n">userMapper</span><span class="o">.</span><span class="na">selectByMap</span><span class="o">(</span><span class="n">map</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">    <span class="n">users</span><span class="o">.</span><span class="na">forEach</span><span class="o">(</span><span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">::</span><span class="n">println</span><span class="o">);</span>
</span></span><span class="line"><span class="cl"><span class="o">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="d-æŸ¥è¯¢æ‰€æœ‰æ•°æ®">d&gt; æŸ¥è¯¢æ‰€æœ‰æ•°æ®</h4>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="nd">@Test</span>
</span></span><span class="line"><span class="cl"><span class="kd">public</span> <span class="kt">void</span> <span class="nf">testSelectList</span><span class="o">(){</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// æŸ¥è¯¢æ‰€æœ‰æ•°æ®
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">// SELECT id,name,age,email FROM user
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="n">List</span><span class="o">&lt;</span><span class="n">User</span><span class="o">&gt;</span> <span class="n">users</span> <span class="o">=</span> <span class="n">userMapper</span><span class="o">.</span><span class="na">selectList</span><span class="o">(</span><span class="kc">null</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">    <span class="n">users</span><span class="o">.</span><span class="na">forEach</span><span class="o">(</span><span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">::</span><span class="n">println</span><span class="o">);</span>
</span></span><span class="line"><span class="cl"><span class="o">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="e-è‡ªå®šä¹‰åŠŸèƒ½">e&gt; è‡ªå®šä¹‰åŠŸèƒ½</h4>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="cm">/** æ ¹æ®idæŸ¥è¯¢ç”¨æˆ·ä¿¡æ¯ä¸ºmapé›†åˆ **/</span>
</span></span><span class="line"><span class="cl"><span class="n">Map</span><span class="o">&lt;</span><span class="n">String</span><span class="o">,</span><span class="n">Object</span><span class="o">&gt;</span> <span class="nf">selectMapById</span><span class="o">(</span><span class="n">Long</span> <span class="n">id</span><span class="o">);</span>
</span></span><span class="line"><span class="cl"><span class="o">&lt;!--</span><span class="n">Map</span><span class="o">&lt;</span><span class="n">String</span><span class="o">,</span><span class="n">Object</span><span class="o">&gt;</span> <span class="nf">selectMapById</span><span class="o">(</span><span class="n">Long</span> <span class="n">id</span><span class="o">);--&gt;</span>
</span></span><span class="line"><span class="cl"><span class="o">&lt;</span><span class="n">select</span> <span class="n">id</span><span class="o">=</span><span class="s">&#34;selectMapById&#34;</span> <span class="n">resultType</span><span class="o">=</span><span class="s">&#34;map&#34;</span><span class="o">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="n">select</span> <span class="n">id</span><span class="o">,</span><span class="n">name</span><span class="o">,</span><span class="n">age</span><span class="o">,</span><span class="n">email</span> <span class="n">from</span> <span class="n">t_user</span> <span class="n">where</span> <span class="n">id</span> <span class="o">=</span> <span class="err">#</span><span class="o">{</span><span class="n">id</span><span class="o">}</span>
</span></span><span class="line"><span class="cl"><span class="o">&lt;/</span><span class="n">select</span><span class="o">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="nd">@Test</span>
</span></span><span class="line"><span class="cl"><span class="kd">public</span> <span class="kt">void</span> <span class="nf">testConsumer</span><span class="o">()</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">    <span class="n">Map</span><span class="o">&lt;</span><span class="n">String</span><span class="o">,</span> <span class="n">Object</span><span class="o">&gt;</span> <span class="n">map</span> <span class="o">=</span> <span class="n">userMapper</span><span class="o">.</span><span class="na">selectMapById</span><span class="o">(</span><span class="n">1L</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">    <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&#34;map = &#34;</span> <span class="o">+</span> <span class="n">map</span><span class="o">);</span>
</span></span><span class="line"><span class="cl"><span class="o">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><blockquote>
<p>é€šè¿‡è§‚å¯ŸBaseMapperä¸­çš„æ–¹æ³•ï¼Œå¤§å¤šæ–¹æ³•ä¸­éƒ½æœ‰Wrapperç±»å‹çš„å½¢å‚ï¼Œæ­¤ä¸ºæ¡ä»¶æ„é€ å™¨ï¼Œ<strong>å¯é’ˆå¯¹äºSQLè¯­å¥è®¾ç½®ä¸åŒçš„æ¡ä»¶ï¼Œè‹¥æ²¡æœ‰æ¡ä»¶ï¼Œåˆ™å¯ä»¥ä¸ºè¯¥å½¢å‚èµ‹å€¼nullï¼Œå³æŸ¥è¯¢ï¼ˆåˆ é™¤/ä¿®æ”¹ï¼‰æ‰€æœ‰æ•°æ®</strong></p>
</blockquote>
<h3 id="é€šç”¨service">é€šç”¨Service</h3>
<ul>
<li>é€šç”¨ Service CRUD å°è£…<strong>IService</strong>æ¥å£ï¼Œè¿›ä¸€æ­¥å°è£… CRUD é‡‡ç”¨ <strong>get</strong> æŸ¥è¯¢å•è¡Œ <strong>remove</strong> åˆ é™¤ <strong>list</strong> æŸ¥è¯¢é›†åˆ <strong>page</strong> åˆ†é¡µ å‰ç¼€å‘½åæ–¹å¼åŒºåˆ† Mapper å±‚é¿å…æ··æ·†</li>
<li>æ³›å‹ T ä¸ºä»»æ„å®ä½“å¯¹è±¡</li>
<li>å»ºè®®å¦‚æœå­˜åœ¨è‡ªå®šä¹‰é€šç”¨ Service æ–¹æ³•çš„å¯èƒ½ï¼Œè¯·åˆ›å»ºè‡ªå·±çš„ IBaseService ç»§æ‰¿ Mybatis-Plus æä¾›çš„åŸºç±»</li>
<li><a class="link" href="https://baomidou.com/pages/49cc81/#service-crud-%e6%8e%a5%e5%8f%a3"  target="_blank" rel="noopener"
    >å®˜ç½‘åœ°å€</a></li>
</ul>
<h4 id="aiservice">a&gt;IService</h4>
<p>MyBatis-Plusä¸­æœ‰ä¸€ä¸ª<strong>æ¥å£ IService</strong>å’Œ<strong>å…¶å®ç°ç±» ServiceImpl</strong>ï¼Œ<strong>å°è£…äº†å¸¸è§çš„ä¸šåŠ¡å±‚é€»è¾‘</strong></p>
<p>è¯¦æƒ…æŸ¥çœ‹æºç <strong>IService</strong>å’Œ<strong>ServiceImpl</strong></p>
<h4 id="båˆ›å»ºserviceæ¥å£å’Œå®ç°ç±»">b&gt;åˆ›å»ºServiceæ¥å£å’Œå®ç°ç±»</h4>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="c1">// æ¥å£  UserServiceç»§æ‰¿IServiceæ¨¡æ¿æä¾›çš„åŸºç¡€åŠŸèƒ½
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kd">public</span> <span class="kd">interface</span> <span class="nc">UserService</span> <span class="kd">extends</span> <span class="n">IService</span><span class="o">&lt;</span><span class="n">User</span><span class="o">&gt;</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="o">}</span>
</span></span><span class="line"><span class="cl"><span class="c1">// å®ç°ç±»
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="cm">/*
</span></span></span><span class="line"><span class="cl"><span class="cm">   ServiceImplå®ç°äº†IServiceï¼Œæä¾›äº†IServiceä¸­åŸºç¡€åŠŸèƒ½çš„å®ç°
</span></span></span><span class="line"><span class="cl"><span class="cm">   è‹¥ServiceImplæ— æ³•æ»¡è¶³ä¸šåŠ¡éœ€æ±‚ï¼Œåˆ™å¯ä»¥ä½¿ç”¨è‡ªå®šçš„UserServiceå®šä¹‰æ–¹æ³•ï¼Œ
</span></span></span><span class="line"><span class="cl"><span class="cm">   å¹¶åœ¨å®ç°ç±»ä¸­å®ç°
</span></span></span><span class="line"><span class="cl"><span class="cm">*/</span>
</span></span><span class="line"><span class="cl"><span class="nd">@Service</span>
</span></span><span class="line"><span class="cl"><span class="kd">public</span> <span class="kd">class</span> <span class="nc">UserServiceImpl</span> <span class="kd">extends</span> <span class="n">ServiceImpl</span><span class="o">&lt;</span><span class="n">UserMapper</span><span class="o">,</span> <span class="n">User</span><span class="o">&gt;</span> <span class="kd">implements</span> <span class="n">UserService</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="o">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="cæµ‹è¯•æŸ¥è¯¢è®°å½•æ•°">c&gt;æµ‹è¯•æŸ¥è¯¢è®°å½•æ•°</h4>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="nd">@Autowired</span>
</span></span><span class="line"><span class="cl"><span class="kd">private</span> <span class="n">UserService</span> <span class="n">userService</span><span class="o">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="cm">/** æŸ¥è¯¢æ€»è®°å½•æ•° **/</span>
</span></span><span class="line"><span class="cl"><span class="nd">@Test</span>
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">testGetCount</span><span class="o">()</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// æŸ¥è¯¢è®°å½•æ•°
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">// SELECT COUNT( * ) FROM user
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="kt">long</span> <span class="n">count</span> <span class="o">=</span> <span class="n">userService</span><span class="o">.</span><span class="na">count</span><span class="o">();</span>
</span></span><span class="line"><span class="cl">    <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&#34;æ€»è®°å½•æ•° = &#34;</span> <span class="o">+</span> <span class="n">count</span><span class="o">);</span>
</span></span><span class="line"><span class="cl"><span class="o">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="dæµ‹è¯•æ‰¹é‡æ’å…¥">d&gt;æµ‹è¯•æ‰¹é‡æ’å…¥</h4>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="cm">/** æ‰¹é‡æ·»åŠ çš„åŠŸèƒ½ **/</span>
</span></span><span class="line"><span class="cl"><span class="nd">@Test</span>
</span></span><span class="line"><span class="cl"><span class="kd">public</span> <span class="kt">void</span> <span class="nf">testInsertMore</span><span class="o">()</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// SQLé•¿åº¦æœ‰é™åˆ¶ï¼Œæµ·é‡æ•°æ®æ’å…¥å•æ¡SQLæ— æ³•å®è¡Œï¼Œ
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">// å› æ­¤MPå°†æ‰¹é‡æ’å…¥æ”¾åœ¨äº†é€šç”¨Serviceä¸­å®ç°ï¼Œè€Œä¸æ˜¯é€šç”¨Mapper
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">// æ‰¹é‡æ·»åŠ 
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">// INSERT INTO user ( id, name, age ) VALUES ( ?, ?, ? )
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="n">List</span><span class="o">&lt;</span><span class="n">User</span><span class="o">&gt;</span> <span class="n">users</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ArrayList</span><span class="o">&lt;&gt;();</span>
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="n">1</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;=</span> <span class="n">10</span><span class="o">;</span> <span class="n">i</span><span class="o">++)</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">User</span> <span class="n">user</span> <span class="o">=</span> <span class="k">new</span> <span class="n">User</span><span class="o">();</span>
</span></span><span class="line"><span class="cl">        <span class="n">user</span><span class="o">.</span><span class="na">setName</span><span class="o">(</span><span class="s">&#34;lxg&#34;</span> <span class="o">+</span> <span class="n">i</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">        <span class="n">user</span><span class="o">.</span><span class="na">setAge</span><span class="o">(</span><span class="n">20</span> <span class="o">+</span> <span class="n">i</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">        <span class="n">users</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">user</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">    <span class="o">}</span>
</span></span><span class="line"><span class="cl">    <span class="kt">boolean</span> <span class="n">b</span> <span class="o">=</span> <span class="n">userService</span><span class="o">.</span><span class="na">saveBatch</span><span class="o">(</span><span class="n">users</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">    <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">b</span><span class="o">);</span>
</span></span><span class="line"><span class="cl"><span class="o">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="å¸¸ç”¨æ³¨è§£">å¸¸ç”¨æ³¨è§£</h2>
<h3 id="tablename">@TableName</h3>
<blockquote>
<p>ç»è¿‡ä»¥ä¸Šçš„æµ‹è¯•ï¼Œåœ¨ä½¿ç”¨MyBatis-Pluså®ç°åŸºæœ¬çš„CRUDæ—¶ï¼Œæˆ‘ä»¬å¹¶æ²¡æœ‰æŒ‡å®šè¦æ“ä½œçš„è¡¨ï¼Œåªæ˜¯åœ¨ <strong>Mapperæ¥å£ç»§æ‰¿BaseMapper</strong>æ—¶ï¼Œ<strong>è®¾ç½®äº†æ³›å‹Userï¼Œè€Œæ“ä½œçš„è¡¨ä¸ºuserè¡¨</strong></p>
<p>ç”±æ­¤å¾—å‡ºç»“è®ºï¼ŒMyBatis-Plusåœ¨<strong>ç¡®å®šæ“ä½œçš„è¡¨</strong>æ—¶ï¼Œ<strong>ç”±BaseMapperçš„æ³›å‹å†³å®š</strong>ï¼Œå³å®ä½“ç±»å‹å†³ å®šï¼Œä¸”<strong>é»˜è®¤æ“ä½œçš„è¡¨åå’Œå®ä½“ç±»å‹çš„ç±»åä¸€è‡´</strong></p>
</blockquote>
<h4 id="aé—®é¢˜">a&gt;é—®é¢˜</h4>
<blockquote>
<p>è‹¥å®ä½“ç±»ç±»å‹çš„ç±»åå’Œè¦æ“ä½œçš„è¡¨çš„è¡¨åä¸ä¸€è‡´ï¼Œä¼šå‡ºç°ä»€ä¹ˆé—®é¢˜ï¼Ÿ</p>
<p>æˆ‘ä»¬å°†è¡¨useræ›´åä¸ºt_userï¼Œæµ‹è¯•æŸ¥è¯¢åŠŸèƒ½ç¨‹åºæŠ›å‡ºå¼‚å¸¸ï¼Œ<strong>Table &lsquo;mybatis_plus.user&rsquo; doesn&rsquo;t exist</strong>ï¼Œå› ä¸ºç°åœ¨çš„è¡¨åä¸ºt_userï¼Œè€Œé»˜è®¤æ“ä½œçš„è¡¨åå’Œå®ä½“ç±»å‹çš„ç±»åä¸€è‡´ï¼Œå³userè¡¨</p>
</blockquote>
<p><img src="https://cdn.nlark.com/yuque/0/2022/png/26045818/1646266713305-df5d996d-f674-4bed-a204-75a1c2bf4735.png"
	
	
	
	loading="lazy"
	
		alt="img"
	
	
></p>
<h4 id="bé€šè¿‡tablename-è§£å†³é—®é¢˜">b&gt;é€šè¿‡@TableName è§£å†³é—®é¢˜</h4>
<p>åœ¨å®ä½“ç±»ç±»å‹ä¸Šæ·»åŠ **@TableName(&ldquo;t_user&rdquo;)**ï¼Œæ ‡è¯†å®ä½“ç±»å¯¹åº”çš„è¡¨ï¼Œå³å¯æˆåŠŸæ‰§è¡ŒSQLè¯­å¥</p>
<p><img src="https://s2.loli.net/2022/03/10/9nivm14cbqMxs7W.png"
	
	
	
	loading="lazy"
	
		alt="img"
	
	
></p>
<h4 id="cé€šè¿‡å…¨å±€é…ç½®è§£å†³é—®é¢˜">c&gt;é€šè¿‡å…¨å±€é…ç½®è§£å†³é—®é¢˜</h4>
<p>åœ¨å¼€å‘çš„è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬ç»å¸¸é‡åˆ°ä»¥ä¸Šçš„é—®é¢˜ï¼Œå³å®ä½“ç±»æ‰€å¯¹åº”çš„è¡¨éƒ½æœ‰å›ºå®šçš„å‰ç¼€ï¼Œä¾‹å¦‚ t_ æˆ– tbl_  .æ­¤æ—¶ï¼Œå¯ä»¥ä½¿ç”¨<strong>MyBatis-Plusæä¾›çš„å…¨å±€é…ç½®</strong>ï¼Œä¸ºå®ä½“ç±»æ‰€å¯¹åº”çš„è¡¨åè®¾ç½®é»˜è®¤çš„å‰ç¼€ï¼Œé‚£ä¹ˆå°± ä¸éœ€è¦åœ¨æ¯ä¸ªå®ä½“ç±»ä¸Šé€šè¿‡**@TableNameæ ‡è¯†å®ä½“ç±»å¯¹åº”çš„è¡¨**</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nt">mybatis-plus</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">configuration</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="c"># é…ç½®MyBatisæ—¥å¿—</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">log-impl</span><span class="p">:</span><span class="w"> </span><span class="l">org.apache.ibatis.logging.stdout.StdOutImpl</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="c"># è®¾ç½®MyBatis-Plusçš„å…¨å±€é…ç½®</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">global-config</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">db-config</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="c"># è®¾ç½®å®ä½“ç±»æ‰€å¯¹åº”çš„è¡¨çš„ç»Ÿä¸€å‰ç¼€</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">table-prefix</span><span class="p">:</span><span class="w"> </span><span class="l">t_</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><h3 id="tableld">@Tableld</h3>
<p>ç»è¿‡ä»¥ä¸Šçš„æµ‹è¯•ï¼Œ<strong>MyBatis-Plusåœ¨å®ç°CRUDæ—¶ï¼Œä¼šé»˜è®¤å°†idä½œä¸ºä¸»é”®åˆ—</strong>ï¼Œå¹¶åœ¨æ’å…¥æ•°æ®æ—¶ï¼Œ<strong>é»˜è®¤</strong> <strong>åŸºäºé›ªèŠ±ç®—æ³•çš„ç­–ç•¥ç”Ÿæˆid</strong></p>
<h4 id="aé—®é¢˜-1">a&gt;é—®é¢˜</h4>
<p>è‹¥å®ä½“ç±»å’Œè¡¨ä¸­è¡¨ç¤º<strong>ä¸»é”®çš„ä¸æ˜¯idï¼Œè€Œæ˜¯å…¶ä»–å­—æ®µ</strong>ï¼Œä¾‹å¦‚uidï¼ŒMyBatis-Plusä¼šè‡ªåŠ¨è¯†åˆ«uidä¸ºä¸» é”®åˆ—å—ï¼Ÿ</p>
<p>æˆ‘ä»¬å®ä½“ç±»ä¸­çš„å±æ€§idæ”¹ä¸ºuidï¼Œå°†è¡¨ä¸­çš„å­—æ®µidä¹Ÿæ”¹ä¸ºuidï¼Œæµ‹è¯•æ·»åŠ åŠŸèƒ½</p>
<p>ç¨‹åºæŠ›å‡ºå¼‚å¸¸ï¼Œ<strong>Field &lsquo;uid&rsquo; doesn&rsquo;t have a default value</strong>ï¼Œè¯´æ˜MyBatis-Plusæ²¡æœ‰å°†uidä½œä¸ºä¸»é”®</p>
<p>èµ‹å€¼</p>
<p><img src="https://s2.loli.net/2022/03/10/hm7HGI98OQ42xzd.png"
	
	
	
	loading="lazy"
	
		alt="img"
	
	
></p>
<h4 id="bé€šè¿‡tableidè§£å†³é—®é¢˜"><strong>b&gt;é€šè¿‡@TableIdè§£å†³é—®é¢˜</strong></h4>
<p>åœ¨å®ä½“ç±»ä¸­uidå±æ€§ä¸Šé€šè¿‡**@TableId**å°†å…¶æ ‡è¯†ä¸ºä¸»é”®ï¼Œå³å¯æˆåŠŸæ‰§è¡ŒSQLè¯­å¥</p>
<p><img src="https://cdn.nlark.com/yuque/0/2022/png/26045818/1646301763647-a9c60654-9eb0-4aab-8a7a-9d0d1651ce83.png"
	
	
	
	loading="lazy"
	
		alt="img"
	
	
></p>
<h4 id="ctableidçš„valueå±æ€§"><strong>c&gt;@TableIdçš„valueå±æ€§</strong></h4>
<p>è‹¥å®ä½“ç±»ä¸­ä¸»é”®å¯¹åº”çš„å±æ€§ä¸ºidï¼Œè€Œè¡¨ä¸­è¡¨ç¤ºä¸»é”®çš„å­—æ®µä¸ºuidï¼Œæ­¤æ—¶è‹¥åªåœ¨å±æ€§idä¸Šæ·»åŠ æ³¨è§£ <strong>@TableId</strong>ï¼Œåˆ™æŠ›å‡ºå¼‚å¸¸<strong>Unknown column &lsquo;id&rsquo; in &lsquo;field list&rsquo;</strong>ï¼Œå³MyBatis-Plusä»ç„¶ä¼šå°†idä½œä¸ºè¡¨çš„ä¸»é”®æ“ä½œï¼Œè€Œè¡¨ä¸­è¡¨ç¤ºä¸»é”®çš„æ˜¯å­—æ®µuid</p>
<p>æ­¤æ—¶éœ€è¦é€šè¿‡**@TableIdæ³¨è§£çš„valueå±æ€§ï¼ŒæŒ‡å®šè¡¨ä¸­çš„ä¸»é”®å­—æ®µ**ï¼Œ@TableId(&ldquo;uid&rdquo;)æˆ– <strong>@TableId(value=&ldquo;uid&rdquo;)</strong></p>
<p><img src="https://s2.loli.net/2022/03/10/tcxlCmiRgTPU1LI.png"
	
	
	
	loading="lazy"
	
		alt="img"
	
	
></p>
<h4 id="dtableldçš„typeå±æ€§">d&gt;@Tableldçš„typeå±æ€§</h4>
<p>typeå±æ€§ç”¨æ¥å®šä¹‰ä¸»é”®ç­–ç•¥</p>
<h5 id="å¸¸ç”¨çš„ä¸»é”®ç­–ç•¥">å¸¸ç”¨çš„ä¸»é”®ç­–ç•¥ï¼š</h5>
<p><img src="https://s2.loli.net/2022/03/10/k8zM5eO4ZiJ3tSb.png"
	
	
	
	loading="lazy"
	
		alt="img"
	
	
></p>
<h5 id="é…ç½®å…¨å±€ä¸»é”®ç­–ç•¥">é…ç½®å…¨å±€ä¸»é”®ç­–ç•¥ï¼š</h5>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="c"># åŠ å…¥æ—¥å¿—åŠŸèƒ½</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">mybatis-plus</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">configuration</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">log-impl</span><span class="p">:</span><span class="w"> </span><span class="l">org.apache.ibatis.logging.stdout.StdOutImpl</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="c"># è®¾ç½®MyBatis-Plusçš„å…¨å±€é…ç½®</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">global-config</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">db-config</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="c"># è®¾ç½®å®ä½“ç±»æ‰€å¯¹åº”çš„è¡¨çš„ç»Ÿä¸€å‰ç¼€</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">table-prefix</span><span class="p">:</span><span class="w"> </span><span class="l">t_</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="c"># è®¾ç½®ç»Ÿä¸€çš„ä¸»é”®ç”Ÿæˆç­–ç•¥</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">id-type</span><span class="p">:</span><span class="w"> </span><span class="l">auto</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><h4 id="eé›ªèŠ±ç®—æ³•">e&gt;é›ªèŠ±ç®—æ³•</h4>
<h5 id="--èƒŒæ™¯">- èƒŒæ™¯</h5>
<p>éœ€è¦é€‰æ‹©åˆé€‚çš„æ–¹æ¡ˆå»åº”å¯¹æ•°æ®è§„æ¨¡çš„å¢é•¿ï¼Œä»¥åº”å¯¹<strong>é€æ¸å¢é•¿çš„è®¿é—®å‹åŠ›å’Œæ•°æ®é‡</strong>ã€‚</p>
<p>æ•°æ®åº“çš„æ‰©å±•æ–¹å¼ä¸»è¦åŒ…æ‹¬ï¼šä¸šåŠ¡åˆ†åº“ã€ä¸»ä»å¤åˆ¶ï¼Œæ•°æ®åº“åˆ†è¡¨ã€‚</p>
<h5 id="--æ•°æ®åº“åˆ†è¡¨">- æ•°æ®åº“åˆ†è¡¨</h5>
<p>å°†ä¸åŒä¸šåŠ¡æ•°æ®åˆ†æ•£å­˜å‚¨åˆ°ä¸åŒçš„æ•°æ®åº“æœåŠ¡å™¨ï¼Œèƒ½å¤Ÿæ”¯æ’‘ç™¾ä¸‡ç”šè‡³åƒä¸‡ç”¨æˆ·è§„æ¨¡çš„ä¸šåŠ¡ï¼Œä½†å¦‚æœä¸šåŠ¡</p>
<p>ç»§ç»­å‘å±•ï¼ŒåŒä¸€ä¸šåŠ¡çš„å•è¡¨æ•°æ®ä¹Ÿä¼šè¾¾åˆ°å•å°æ•°æ®åº“æœåŠ¡å™¨çš„å¤„ç†ç“¶é¢ˆã€‚ä¾‹å¦‚ï¼Œæ·˜å®çš„å‡ äº¿ç”¨æˆ·æ•°æ®ï¼Œ</p>
<p>å¦‚æœå…¨éƒ¨å­˜æ”¾åœ¨ä¸€å°æ•°æ®åº“æœåŠ¡å™¨çš„ä¸€å¼ è¡¨ä¸­ï¼Œè‚¯å®šæ˜¯æ— æ³•æ»¡è¶³æ€§èƒ½è¦æ±‚çš„ï¼Œæ­¤æ—¶å°±éœ€è¦å¯¹å•è¡¨æ•°æ®è¿›</p>
<p>è¡Œæ‹†åˆ†ã€‚</p>
<p>å•è¡¨æ•°æ®æ‹†åˆ†æœ‰ä¸¤ç§æ–¹å¼ï¼š<strong>å‚ç›´åˆ†è¡¨å’Œæ°´å¹³åˆ†è¡¨</strong>ã€‚ç¤ºæ„å›¾å¦‚ä¸‹ï¼š</p>
<p><img src="https://s2.loli.net/2022/03/10/lxeDFgpCUZqHLN8.png"
	
	
	
	loading="lazy"
	
		alt="img"
	
	
></p>
<h6 id="--å‚ç›´åˆ†è¡¨">- å‚ç›´åˆ†è¡¨</h6>
<p>å‚ç›´åˆ†è¡¨é€‚åˆå°†è¡¨ä¸­æŸäº›ä¸å¸¸ç”¨ä¸”å äº†å¤§é‡ç©ºé—´çš„åˆ—æ‹†åˆ†å‡ºå»ã€‚</p>
<p>ä¾‹å¦‚ï¼Œå‰é¢ç¤ºæ„å›¾ä¸­çš„ nickname å’Œ description å­—æ®µï¼Œå‡è®¾æˆ‘ä»¬æ˜¯ä¸€ä¸ªå©šæ‹ç½‘ç«™ï¼Œç”¨æˆ·åœ¨ç­›é€‰å…¶ä»–ç”¨</p>
<p>æˆ·çš„æ—¶å€™ï¼Œä¸»è¦æ˜¯ç”¨ age å’Œ sex ä¸¤ä¸ªå­—æ®µè¿›è¡ŒæŸ¥è¯¢ï¼Œè€Œ nickname å’Œ description ä¸¤ä¸ªå­—æ®µä¸»è¦ç”¨äºå±•</p>
<p>ç¤ºï¼Œä¸€èˆ¬ä¸ä¼šåœ¨ä¸šåŠ¡æŸ¥è¯¢ä¸­ç”¨åˆ°ã€‚description æœ¬èº«åˆæ¯”è¾ƒé•¿ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥å°†è¿™ä¸¤ä¸ªå­—æ®µç‹¬ç«‹åˆ°å¦å¤–</p>
<p>ä¸€å¼ è¡¨ä¸­ï¼Œè¿™æ ·åœ¨æŸ¥è¯¢ age å’Œ sex æ—¶ï¼Œå°±èƒ½å¸¦æ¥ä¸€å®šçš„æ€§èƒ½æå‡ã€‚</p>
<h6 id="--æ°´å¹³åˆ†è¡¨">- æ°´å¹³åˆ†è¡¨</h6>
<p>æ°´å¹³åˆ†è¡¨é€‚åˆè¡¨è¡Œæ•°ç‰¹åˆ«å¤§çš„è¡¨ï¼Œæœ‰çš„å…¬å¸è¦æ±‚å•è¡¨è¡Œæ•°è¶…è¿‡ 5000 ä¸‡å°±å¿…é¡»è¿›è¡Œåˆ†è¡¨ï¼Œè¿™ä¸ªæ•°å­—å¯ä»¥</p>
<p>ä½œä¸ºå‚è€ƒï¼Œä½†å¹¶ä¸æ˜¯ç»å¯¹æ ‡å‡†ï¼Œå…³é”®è¿˜æ˜¯è¦çœ‹è¡¨çš„è®¿é—®æ€§èƒ½ã€‚å¯¹äºä¸€äº›æ¯”è¾ƒå¤æ‚çš„è¡¨ï¼Œå¯èƒ½è¶…è¿‡ 1000</p>
<p>ä¸‡å°±è¦åˆ†è¡¨äº†ï¼›è€Œå¯¹äºä¸€äº›ç®€å•çš„è¡¨ï¼Œå³ä½¿å­˜å‚¨æ•°æ®è¶…è¿‡ 1 äº¿è¡Œï¼Œä¹Ÿå¯ä»¥ä¸åˆ†è¡¨ã€‚</p>
<p>ä½†ä¸ç®¡æ€æ ·ï¼Œå½“çœ‹åˆ°è¡¨çš„æ•°æ®é‡è¾¾åˆ°åƒä¸‡çº§åˆ«æ—¶ï¼Œä½œä¸ºæ¶æ„å¸ˆå°±è¦è­¦è§‰èµ·æ¥ï¼Œå› ä¸ºè¿™å¾ˆå¯èƒ½æ˜¯æ¶æ„çš„æ€§</p>
<p>èƒ½ç“¶é¢ˆæˆ–è€…éšæ‚£ã€‚</p>
<p>æ°´å¹³åˆ†è¡¨ç›¸æ¯”å‚ç›´åˆ†è¡¨ï¼Œä¼šå¼•å…¥æ›´å¤šçš„å¤æ‚æ€§ï¼Œä¾‹å¦‚è¦æ±‚å…¨å±€å”¯ä¸€çš„æ•°æ®idè¯¥å¦‚ä½•å¤„</p>
<p><strong>ä¸»é”®è‡ªå¢</strong></p>
<p>â‘ ä»¥æœ€å¸¸è§çš„ç”¨æˆ· ID ä¸ºä¾‹ï¼Œå¯ä»¥æŒ‰ç…§ 1000000 çš„èŒƒå›´å¤§å°è¿›è¡Œåˆ†æ®µï¼Œ1 ~ 999999 æ”¾åˆ°è¡¨ 1ä¸­ï¼Œ</p>
<p>1000000 ~ 1999999 æ”¾åˆ°è¡¨2ä¸­ï¼Œä»¥æ­¤ç±»æ¨ã€‚</p>
<p>â‘¡<strong>å¤æ‚ç‚¹</strong>ï¼šåˆ†æ®µå¤§å°çš„é€‰å–ã€‚åˆ†æ®µå¤ªå°ä¼šå¯¼è‡´åˆ‡åˆ†åå­è¡¨æ•°é‡è¿‡å¤šï¼Œå¢åŠ ç»´æŠ¤å¤æ‚åº¦ï¼›åˆ†æ®µå¤ªå¤§å¯èƒ½ä¼š</p>
<p>å¯¼è‡´å•è¡¨ä¾ç„¶å­˜åœ¨æ€§èƒ½é—®é¢˜ï¼Œä¸€èˆ¬å»ºè®®åˆ†æ®µå¤§å°åœ¨ 100 ä¸‡è‡³ 2000 ä¸‡ä¹‹é—´ï¼Œå…·ä½“éœ€è¦æ ¹æ®ä¸šåŠ¡é€‰å–åˆé€‚</p>
<p>çš„åˆ†æ®µå¤§å°ã€‚</p>
<p>â‘¢<strong>ä¼˜ç‚¹</strong>ï¼šå¯ä»¥éšç€æ•°æ®çš„å¢åŠ å¹³æ»‘åœ°æ‰©å……æ–°çš„è¡¨ã€‚ä¾‹å¦‚ï¼Œç°åœ¨çš„ç”¨æˆ·æ˜¯ 100 ä¸‡ï¼Œå¦‚æœå¢åŠ åˆ° 1000 ä¸‡ï¼Œ</p>
<p>åªéœ€è¦å¢åŠ æ–°çš„è¡¨å°±å¯ä»¥äº†ï¼ŒåŸæœ‰çš„æ•°æ®ä¸éœ€è¦åŠ¨ã€‚</p>
<p>â‘£<strong>ç¼ºç‚¹</strong>ï¼šåˆ†å¸ƒä¸å‡åŒ€ã€‚å‡å¦‚æŒ‰ç…§ 1000 ä¸‡æ¥è¿›è¡Œåˆ†è¡¨ï¼Œæœ‰å¯èƒ½æŸä¸ªåˆ†æ®µå®é™…å­˜å‚¨çš„æ•°æ®é‡åªæœ‰ 1 æ¡ï¼Œè€Œ</p>
<p>å¦å¤–ä¸€ä¸ªåˆ†æ®µå®é™…å­˜å‚¨çš„æ•°æ®é‡æœ‰ 1000 ä¸‡æ¡ã€‚</p>
<p><strong>å–æ¨¡</strong></p>
<p>â‘ åŒæ ·ä»¥ç”¨æˆ· ID ä¸ºä¾‹ï¼Œå‡å¦‚æˆ‘ä»¬ä¸€å¼€å§‹å°±è§„åˆ’äº† 10 ä¸ªæ•°æ®åº“è¡¨ï¼Œå¯ä»¥ç®€å•åœ°ç”¨ user_id % 10 çš„å€¼æ¥</p>
<p>è¡¨ç¤ºæ•°æ®æ‰€å±çš„æ•°æ®åº“è¡¨ç¼–å·ï¼ŒID ä¸º 985 çš„ç”¨æˆ·æ”¾åˆ°ç¼–å·ä¸º 5 çš„å­è¡¨ä¸­ï¼ŒID ä¸º 10086 çš„ç”¨æˆ·æ”¾åˆ°ç¼–å·</p>
<p>ä¸º 6 çš„å­è¡¨ä¸­ã€‚</p>
<p>â‘¡<strong>å¤æ‚ç‚¹</strong>ï¼šåˆå§‹è¡¨æ•°é‡çš„ç¡®å®šã€‚è¡¨æ•°é‡å¤ªå¤šç»´æŠ¤æ¯”è¾ƒéº»çƒ¦ï¼Œè¡¨æ•°é‡å¤ªå°‘åˆå¯èƒ½å¯¼è‡´å•è¡¨æ€§èƒ½å­˜åœ¨é—®é¢˜ã€‚</p>
<p>â‘¢<strong>ä¼˜ç‚¹</strong>ï¼šè¡¨åˆ†å¸ƒæ¯”è¾ƒå‡åŒ€ã€‚</p>
<p>â‘£<strong>ç¼ºç‚¹</strong>ï¼šæ‰©å……æ–°çš„è¡¨å¾ˆéº»çƒ¦ï¼Œæ‰€æœ‰æ•°æ®éƒ½è¦é‡åˆ†å¸ƒã€‚</p>
<p><strong>é›ªèŠ±ç®—æ³•</strong></p>
<p>é›ªèŠ±ç®—æ³•æ˜¯ç”±Twitterå…¬å¸ƒçš„åˆ†å¸ƒå¼ä¸»é”®ç”Ÿæˆç®—æ³•ï¼Œå®ƒèƒ½å¤Ÿä¿è¯ä¸åŒè¡¨çš„ä¸»é”®çš„ä¸é‡å¤æ€§ï¼Œä»¥åŠç›¸åŒè¡¨çš„</p>
<p>ä¸»é”®çš„æœ‰åºæ€§ã€‚</p>
<p>â‘ <strong>æ ¸å¿ƒæ€æƒ³ï¼š</strong></p>
<p>é•¿åº¦å…±64bitï¼ˆä¸€ä¸ªlongå‹ï¼‰ã€‚</p>
<p>é¦–å…ˆæ˜¯ä¸€ä¸ªç¬¦å·ä½ï¼Œ1bitæ ‡è¯†ï¼Œç”±äºlongåŸºæœ¬ç±»å‹åœ¨Javaä¸­æ˜¯å¸¦ç¬¦å·çš„ï¼Œæœ€é«˜ä½æ˜¯ç¬¦å·ä½ï¼Œæ­£æ•°æ˜¯0ï¼Œè´Ÿ</p>
<p>æ•°æ˜¯1ï¼Œæ‰€ä»¥idä¸€èˆ¬æ˜¯æ­£æ•°ï¼Œæœ€é«˜ä½æ˜¯0ã€‚</p>
<p>41bitæ—¶é—´æˆª(æ¯«ç§’çº§)ï¼Œå­˜å‚¨çš„æ˜¯æ—¶é—´æˆªçš„å·®å€¼ï¼ˆå½“å‰æ—¶é—´æˆª - å¼€å§‹æ—¶é—´æˆª)ï¼Œç»“æœçº¦ç­‰äº69.73å¹´ã€‚</p>
<p>10bitä½œä¸ºæœºå™¨çš„IDï¼ˆ</p>
<p>5ä¸ªbitæ˜¯æ•°æ®ä¸­å¿ƒï¼Œ5ä¸ªbitçš„æœºå™¨IDï¼Œå¯ä»¥éƒ¨ç½²åœ¨1024ä¸ªèŠ‚ç‚¹ï¼‰ã€‚</p>
<p>12bitä½œä¸ºæ¯«ç§’å†…çš„æµæ°´å·ï¼ˆæ„å‘³ç€æ¯ä¸ªèŠ‚ç‚¹åœ¨æ¯æ¯«ç§’å¯ä»¥äº§ç”Ÿ 4096 ä¸ª IDï¼‰ã€‚</p>
<p><img src="https://cdn.nlark.com/yuque/0/2022/png/26045818/1646267447730-bbdf4140-afd8-4021-afe0-03c35f1ab5fc.png"
	
	
	
	loading="lazy"
	
		alt="img"
	
	
></p>
<p>â‘¡<strong>ä¼˜ç‚¹</strong>ï¼šæ•´ä½“ä¸ŠæŒ‰ç…§æ—¶é—´è‡ªå¢æ’åºï¼Œå¹¶ä¸”æ•´ä¸ªåˆ†å¸ƒå¼ç³»ç»Ÿå†…ä¸ä¼šäº§ç”ŸIDç¢°æ’ï¼Œå¹¶ä¸”æ•ˆç‡è¾ƒé«˜ã€‚</p>
<h3 id="tablefield">@TableField</h3>
<p>ç»è¿‡ä»¥ä¸Šçš„æµ‹è¯•ï¼Œæˆ‘ä»¬å¯ä»¥å‘ç°ï¼ŒMyBatis-Plusåœ¨æ‰§è¡ŒSQLè¯­å¥æ—¶ï¼Œè¦ä¿è¯å®ä½“ç±»ä¸­çš„å±æ€§åå’Œè¡¨ä¸­çš„å­—æ®µåä¸€è‡´</p>
<p>å¦‚æœ<strong>å®ä½“ç±»ä¸­çš„å±æ€§åå’Œå­—æ®µåä¸ä¸€è‡´çš„æƒ…å†µ</strong>ï¼Œä¼šå‡ºç°ä»€ä¹ˆé—®é¢˜å‘¢ï¼Ÿ</p>
<h4 id="aæƒ…å†µ1">a&gt;æƒ…å†µ1</h4>
<p>è‹¥å®ä½“ç±»ä¸­çš„å±æ€§ä½¿ç”¨çš„æ˜¯é©¼å³°å‘½åé£æ ¼ï¼Œè€Œè¡¨ä¸­çš„å­—æ®µä½¿ç”¨çš„æ˜¯ä¸‹åˆ’çº¿å‘½åé£æ ¼</p>
<p>ä¾‹å¦‚å®ä½“ç±»å±æ€§userNameï¼Œè¡¨ä¸­å­—æ®µuser_name</p>
<p>æ­¤æ—¶<strong>MyBatis-Plusä¼šè‡ªåŠ¨å°†ä¸‹åˆ’çº¿å‘½åé£æ ¼è½¬åŒ–ä¸ºé©¼å³°å‘½åé£æ ¼</strong></p>
<p>ç›¸å½“äºåœ¨MyBatisä¸­é…ç½®</p>
<h4 id="aæƒ…å†µ2">a&gt;æƒ…å†µ2</h4>
<p>è‹¥å®ä½“ç±»ä¸­çš„å±æ€§å’Œè¡¨ä¸­çš„å­—æ®µä¸æ»¡è¶³æƒ…å†µ1</p>
<p>ä¾‹å¦‚å®ä½“ç±»å±æ€§nameï¼Œè¡¨ä¸­å­—æ®µusername</p>
<p>æ­¤æ—¶éœ€è¦åœ¨å®ä½“ç±»å±æ€§ä¸Šä½¿ç”¨**@TableField(&ldquo;username&rdquo;)<strong>è®¾ç½®</strong>å±æ€§æ‰€å¯¹åº”çš„å­—æ®µå**</p>
<p><img src="https://cdn.nlark.com/yuque/0/2022/png/26045818/1646301856677-9a24bc6c-c8bc-4b11-a97b-197c177b8f20.png"
	
	
	
	loading="lazy"
	
		alt="img"
	
	
></p>
<h3 id="tablelogic">@TableLogic</h3>
<h4 id="aé€»è¾‘åˆ é™¤">a&gt;é€»è¾‘åˆ é™¤</h4>
<ul>
<li>ç‰©ç†åˆ é™¤ï¼šçœŸå®åˆ é™¤ï¼Œå°†å¯¹åº”æ•°æ®ä»æ•°æ®åº“ä¸­åˆ é™¤ï¼Œä¹‹åæŸ¥è¯¢ä¸åˆ°æ­¤æ¡è¢«åˆ é™¤çš„æ•°æ®</li>
<li><strong>é€»è¾‘åˆ é™¤</strong>ï¼šå‡åˆ é™¤ï¼Œ<strong>å°†å¯¹åº”æ•°æ®ä¸­ä»£è¡¨æ˜¯å¦è¢«åˆ é™¤å­—æ®µçš„çŠ¶æ€ä¿®æ”¹ä¸ºâ€œè¢«åˆ é™¤çŠ¶æ€â€</strong>ï¼Œä¹‹ååœ¨æ•°æ®åº“</li>
</ul>
<p>ä¸­ä»æ—§èƒ½çœ‹åˆ°æ­¤æ¡æ•°æ®è®°å½•</p>
<ul>
<li>ä½¿ç”¨åœºæ™¯ï¼šå¯ä»¥è¿›è¡Œæ•°æ®æ¢å¤</li>
</ul>
<h4 id="bå®ç°é€»è¾‘åˆ é™¤">b&gt;å®ç°é€»è¾‘åˆ é™¤</h4>
<p>**step1ï¼š**<strong>æ•°æ®åº“ä¸­åˆ›å»ºé€»è¾‘åˆ é™¤çŠ¶æ€åˆ—ï¼Œè®¾ç½®é»˜è®¤å€¼ä¸º0</strong></p>
<p><img src="https://s2.loli.net/2022/03/10/sfXkZNyobaCq98E.png"
	
	
	
	loading="lazy"
	
		alt="img"
	
	
></p>
<p>**step2ï¼š**å®ä½“ç±»ä¸­æ·»åŠ é€»è¾‘åˆ é™¤å±æ€§</p>
<p><img src="https://cdn.nlark.com/yuque/0/2022/png/26045818/1646301871678-59327a23-17e2-4606-913d-a887358f764a.png"
	
	
	
	loading="lazy"
	
		alt="img"
	
	
></p>
<p><strong>step3</strong>**ï¼š**æµ‹è¯•</p>
<p>æµ‹è¯•åˆ é™¤åŠŸèƒ½ï¼ŒçœŸæ­£æ‰§è¡Œçš„æ˜¯ä¿®æ”¹</p>
<p><strong>UPDATE t_user SET is_deleted=1 WHERE id=? AND is_deleted=0</strong></p>
<p>æµ‹è¯•æŸ¥è¯¢åŠŸèƒ½ï¼Œè¢«é€»è¾‘åˆ é™¤çš„æ•°æ®é»˜è®¤ä¸ä¼šè¢«æŸ¥è¯¢</p>
<p><strong>SELECT id,username AS name,age,email,is_deleted FROM t_user WHERE is_deleted=0</strong></p>
<h2 id="æ¡ä»¶æ„é€ å™¨å’Œå¸¸ç”¨æ¥å£">æ¡ä»¶æ„é€ å™¨å’Œå¸¸ç”¨æ¥å£</h2>
<h3 id="wrapperä»‹ç»">wrapperä»‹ç»</h3>
<p><img src="https://s2.loli.net/2022/03/10/EUtJpbNvcF9lkV7.png"
	
	
	
	loading="lazy"
	
		alt="img"
	
	
></p>
<p>Wrapper ï¼š <strong>æ¡ä»¶æ„é€ æŠ½è±¡ç±»</strong>ï¼Œæœ€é¡¶ç«¯çˆ¶ç±»</p>
<ul>
<li>
<p>AbstractWrapper ï¼š ç”¨äºæŸ¥è¯¢æ¡ä»¶å°è£…ï¼Œç”Ÿæˆ sql çš„ where æ¡ä»¶</p>
</li>
<li>
<ul>
<li>QueryWrapper ï¼š æŸ¥è¯¢æ¡ä»¶å°è£…</li>
<li>UpdateWrapper ï¼š Update æ¡ä»¶å°è£…</li>
<li>AbstractLambdaWrapper ï¼š ä½¿ç”¨Lambda è¯­æ³•</li>
</ul>
</li>
<li>
<ul>
<li>
<ul>
<li>LambdaQueryWrapper ï¼šç”¨äºLambdaè¯­æ³•ä½¿ç”¨çš„æŸ¥è¯¢Wrapper</li>
<li>LambdaUpdateWrapper ï¼š Lambda æ›´æ–°å°è£…Wrapper</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="querywrapper">QueryWrapper</h3>
<h4 id="aä¾‹1ç»„è£…æŸ¥è¯¢æ¡ä»¶">a&gt;ä¾‹1ï¼šç»„è£…æŸ¥è¯¢æ¡ä»¶</h4>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="cm">/** æŸ¥è¯¢ç”¨æˆ·åŒ…å«a,å¹´é¾„åœ¨20åˆ°30ä¹‹é—´ï¼Œé‚®ç®±ä¿¡æ¯ä¸ä¸ºnullçš„ç”¨æˆ·ä¿¡æ¯ **/</span>
</span></span><span class="line"><span class="cl"><span class="nd">@Test</span>
</span></span><span class="line"><span class="cl"><span class="kd">public</span> <span class="kt">void</span> <span class="nf">test01</span><span class="o">()</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">    <span class="cm">/*
</span></span></span><span class="line"><span class="cl"><span class="cm">        SELECT uid AS id,user_name AS name,age,email,is_deleted FROM t_user
</span></span></span><span class="line"><span class="cl"><span class="cm">        WHERE is_deleted=0 AND (user_name LIKE ?
</span></span></span><span class="line"><span class="cl"><span class="cm">        AND age BETWEEN ? AND ? AND email IS NOT NULL)
</span></span></span><span class="line"><span class="cl"><span class="cm">     */</span>
</span></span><span class="line"><span class="cl">    <span class="n">QueryWrapper</span><span class="o">&lt;</span><span class="n">User</span><span class="o">&gt;</span> <span class="n">queryWrapper</span> <span class="o">=</span> <span class="k">new</span> <span class="n">QueryWrapper</span><span class="o">&lt;&gt;();</span>
</span></span><span class="line"><span class="cl">    <span class="n">queryWrapper</span><span class="o">.</span><span class="na">like</span><span class="o">(</span><span class="s">&#34;user_name&#34;</span><span class="o">,</span> <span class="s">&#34;a&#34;</span><span class="o">)</span>
</span></span><span class="line"><span class="cl">            <span class="o">.</span><span class="na">between</span><span class="o">(</span><span class="s">&#34;age&#34;</span><span class="o">,</span> <span class="n">20</span><span class="o">,</span> <span class="n">30</span><span class="o">)</span>
</span></span><span class="line"><span class="cl">            <span class="o">.</span><span class="na">isNotNull</span><span class="o">(</span><span class="s">&#34;email&#34;</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">    <span class="n">List</span><span class="o">&lt;</span><span class="n">User</span><span class="o">&gt;</span> <span class="n">users</span> <span class="o">=</span> <span class="n">userMapper</span><span class="o">.</span><span class="na">selectList</span><span class="o">(</span><span class="n">queryWrapper</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">    <span class="n">users</span><span class="o">.</span><span class="na">forEach</span><span class="o">(</span><span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">::</span><span class="n">println</span><span class="o">);</span>
</span></span><span class="line"><span class="cl"><span class="o">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="bä¾‹2ç»„è£…æ’åºæ¡ä»¶">b&gt;ä¾‹2ï¼šç»„è£…æ’åºæ¡ä»¶</h4>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="cm">/** ç»„è£…æ’åºæ¡ä»¶ æŸ¥è¯¢ç”¨æˆ·ä¿¡æ¯ï¼ŒæŒ‰ç…§å¹´é¾„çš„é™åºæ’åºï¼Œè‹¥å¹´é¾„ç›¸åŒï¼Œåˆ™æŒ‰ç…§idå‡åºæ’åº **/</span>
</span></span><span class="line"><span class="cl"><span class="nd">@Test</span>
</span></span><span class="line"><span class="cl"><span class="kd">public</span> <span class="kt">void</span> <span class="nf">test02</span><span class="o">()</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">    <span class="cm">/*
</span></span></span><span class="line"><span class="cl"><span class="cm">        SELECT uid AS id,user_name AS name,age,email,is_deleted FROM t_user
</span></span></span><span class="line"><span class="cl"><span class="cm">        WHERE is_deleted=0 ORDER BY age DESC,uid ASC
</span></span></span><span class="line"><span class="cl"><span class="cm">     */</span>
</span></span><span class="line"><span class="cl">    <span class="n">QueryWrapper</span><span class="o">&lt;</span><span class="n">User</span><span class="o">&gt;</span> <span class="n">queryWrapper</span> <span class="o">=</span> <span class="k">new</span> <span class="n">QueryWrapper</span><span class="o">&lt;&gt;();</span>
</span></span><span class="line"><span class="cl">    <span class="n">queryWrapper</span><span class="o">.</span><span class="na">orderByDesc</span><span class="o">(</span><span class="s">&#34;age&#34;</span><span class="o">)</span>
</span></span><span class="line"><span class="cl">            <span class="o">.</span><span class="na">orderByAsc</span><span class="o">(</span><span class="s">&#34;uid&#34;</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">    <span class="n">List</span><span class="o">&lt;</span><span class="n">User</span><span class="o">&gt;</span> <span class="n">users</span> <span class="o">=</span> <span class="n">userMapper</span><span class="o">.</span><span class="na">selectList</span><span class="o">(</span><span class="n">queryWrapper</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">    <span class="n">users</span><span class="o">.</span><span class="na">forEach</span><span class="o">(</span><span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">::</span><span class="n">println</span><span class="o">);</span>
</span></span><span class="line"><span class="cl"><span class="o">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="cä¾‹3ç»„è£…åˆ é™¤æ¡ä»¶">c&gt;ä¾‹3ï¼šç»„è£…åˆ é™¤æ¡ä»¶</h4>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="cm">/** ç»„è£…åˆ é™¤æ¡ä»¶ åˆ é™¤é‚®ç®±åœ°å€ä¸ºnullçš„ç”¨æˆ·ä¿¡æ¯ **/</span>
</span></span><span class="line"><span class="cl"><span class="nd">@Test</span>
</span></span><span class="line"><span class="cl"><span class="kd">public</span> <span class="kt">void</span> <span class="nf">test03</span><span class="o">()</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">    <span class="cm">/*
</span></span></span><span class="line"><span class="cl"><span class="cm">        UPDATE t_user SET is_deleted=1 WHERE is_deleted=0 AND (email IS NOT NULL)
</span></span></span><span class="line"><span class="cl"><span class="cm">     */</span>
</span></span><span class="line"><span class="cl">    <span class="n">QueryWrapper</span><span class="o">&lt;</span><span class="n">User</span><span class="o">&gt;</span> <span class="n">queryWrapper</span> <span class="o">=</span> <span class="k">new</span> <span class="n">QueryWrapper</span><span class="o">&lt;&gt;();</span>
</span></span><span class="line"><span class="cl">    <span class="n">queryWrapper</span><span class="o">.</span><span class="na">isNull</span><span class="o">(</span><span class="s">&#34;email&#34;</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">result</span> <span class="o">=</span> <span class="n">userMapper</span><span class="o">.</span><span class="na">delete</span><span class="o">(</span><span class="n">queryWrapper</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">    <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&#34;result = &#34;</span> <span class="o">+</span> <span class="n">result</span><span class="o">);</span>
</span></span><span class="line"><span class="cl"><span class="o">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="dä¾‹4æ¡ä»¶çš„ä¼˜å…ˆçº§">d&gt;ä¾‹4ï¼šæ¡ä»¶çš„ä¼˜å…ˆçº§</h4>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"> <span class="cm">/** ç»„è£…ä¿®æ”¹æ¡ä»¶  å°†(å¹´é¾„å¤§äº20å¹¶ä¸”ç”¨æˆ·åä¸­åŒ…å«æœ‰a)æˆ–é‚®ç®±ä¸ºnullçš„ç”¨æˆ·ä¿¡æ¯ä¿®æ”¹ **/</span>
</span></span><span class="line"><span class="cl"><span class="nd">@Test</span>
</span></span><span class="line"><span class="cl"><span class="kd">public</span> <span class="kt">void</span> <span class="nf">test04</span><span class="o">()</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">    <span class="cm">/*
</span></span></span><span class="line"><span class="cl"><span class="cm">        UPDATE t_user SET user_name=?, email=?
</span></span></span><span class="line"><span class="cl"><span class="cm">        WHERE is_deleted=0 AND (age &gt; ? AND user_name LIKE ? OR email IS NOT NULL)
</span></span></span><span class="line"><span class="cl"><span class="cm">     */</span>
</span></span><span class="line"><span class="cl">    <span class="n">QueryWrapper</span><span class="o">&lt;</span><span class="n">User</span><span class="o">&gt;</span> <span class="n">queryWrapper</span> <span class="o">=</span> <span class="k">new</span> <span class="n">QueryWrapper</span><span class="o">&lt;&gt;();</span>
</span></span><span class="line"><span class="cl">    <span class="n">queryWrapper</span><span class="o">.</span><span class="na">gt</span><span class="o">(</span><span class="s">&#34;age&#34;</span><span class="o">,</span> <span class="n">20</span><span class="o">)</span>
</span></span><span class="line"><span class="cl">            <span class="o">.</span><span class="na">like</span><span class="o">(</span><span class="s">&#34;user_name&#34;</span><span class="o">,</span> <span class="s">&#34;a&#34;</span><span class="o">)</span>
</span></span><span class="line"><span class="cl">            <span class="o">.</span><span class="na">or</span><span class="o">()</span>
</span></span><span class="line"><span class="cl">            <span class="o">.</span><span class="na">isNotNull</span><span class="o">(</span><span class="s">&#34;email&#34;</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">    <span class="n">User</span> <span class="n">user</span> <span class="o">=</span> <span class="k">new</span> <span class="n">User</span><span class="o">();</span>
</span></span><span class="line"><span class="cl">    <span class="n">user</span><span class="o">.</span><span class="na">setName</span><span class="o">(</span><span class="s">&#34;å°æ˜&#34;</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">    <span class="n">user</span><span class="o">.</span><span class="na">setEmail</span><span class="o">(</span><span class="s">&#34;test@atguigu.com&#34;</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">result</span> <span class="o">=</span> <span class="n">userMapper</span><span class="o">.</span><span class="na">update</span><span class="o">(</span><span class="n">user</span><span class="o">,</span> <span class="n">queryWrapper</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">    <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&#34;result = &#34;</span> <span class="o">+</span> <span class="n">result</span><span class="o">);</span>
</span></span><span class="line"><span class="cl"><span class="o">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="cm">/** æ¡ä»¶ä¼˜å…ˆçº§  å°†ç”¨æˆ·åä¸­åŒ…å«aå¹¶ä¸”(å¹´é¾„å¤§äº20æˆ–é‚®ç®±ä¸ºnull)çš„ç”¨æˆ·ä¿¡æ¯ä¿®æ”¹ **/</span>
</span></span><span class="line"><span class="cl"><span class="nd">@Test</span>
</span></span><span class="line"><span class="cl"><span class="kd">public</span> <span class="kt">void</span> <span class="nf">test05</span><span class="o">()</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// lambdaä¸­æ¡ä»¶ä¼˜å…ˆçº§
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="cm">/*
</span></span></span><span class="line"><span class="cl"><span class="cm">        UPDATE t_user SET user_name=?, email=?
</span></span></span><span class="line"><span class="cl"><span class="cm">        WHERE is_deleted=0 AND (user_name LIKE ? AND (age &gt; ? OR email IS NULL))
</span></span></span><span class="line"><span class="cl"><span class="cm">     */</span>
</span></span><span class="line"><span class="cl">    <span class="n">QueryWrapper</span><span class="o">&lt;</span><span class="n">User</span><span class="o">&gt;</span> <span class="n">queryWrapper</span> <span class="o">=</span> <span class="k">new</span> <span class="n">QueryWrapper</span><span class="o">&lt;&gt;();</span>
</span></span><span class="line"><span class="cl">    <span class="n">queryWrapper</span><span class="o">.</span><span class="na">like</span><span class="o">(</span><span class="s">&#34;user_name&#34;</span><span class="o">,</span> <span class="s">&#34;a&#34;</span><span class="o">)</span>
</span></span><span class="line"><span class="cl">            <span class="o">.</span><span class="na">and</span><span class="o">(</span><span class="n">i</span> <span class="o">-&gt;</span> <span class="n">i</span><span class="o">.</span><span class="na">gt</span><span class="o">(</span><span class="s">&#34;age&#34;</span><span class="o">,</span> <span class="n">20</span><span class="o">).</span><span class="na">or</span><span class="o">().</span><span class="na">isNull</span><span class="o">(</span><span class="s">&#34;email&#34;</span><span class="o">));</span>
</span></span><span class="line"><span class="cl">    <span class="n">User</span> <span class="n">user</span> <span class="o">=</span> <span class="k">new</span> <span class="n">User</span><span class="o">();</span>
</span></span><span class="line"><span class="cl">    <span class="n">user</span><span class="o">.</span><span class="na">setName</span><span class="o">(</span><span class="s">&#34;å°çº¢&#34;</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">    <span class="n">user</span><span class="o">.</span><span class="na">setEmail</span><span class="o">(</span><span class="s">&#34;test@atguigu.com&#34;</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">result</span> <span class="o">=</span> <span class="n">userMapper</span><span class="o">.</span><span class="na">update</span><span class="o">(</span><span class="n">user</span><span class="o">,</span> <span class="n">queryWrapper</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">    <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&#34;result = &#34;</span> <span class="o">+</span> <span class="n">result</span><span class="o">);</span>
</span></span><span class="line"><span class="cl"><span class="o">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="eä¾‹5ç»„è£…selectå­å¥">e&gt;ä¾‹5ï¼šç»„è£…selectå­å¥</h4>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="cm">/** ç»„è£…selectå­—å¥ æŸ¥è¯¢ç”¨æˆ·åçš„ç”¨æˆ·åã€å¹´é¾„ã€é‚®ç®±ä¿¡æ¯ **/</span>
</span></span><span class="line"><span class="cl"><span class="nd">@Test</span>
</span></span><span class="line"><span class="cl"><span class="kd">public</span> <span class="kt">void</span> <span class="nf">test06</span><span class="o">()</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">    <span class="cm">/*
</span></span></span><span class="line"><span class="cl"><span class="cm">        SELECT user_name,age,email FROM t_user WHERE is_deleted=0
</span></span></span><span class="line"><span class="cl"><span class="cm">     */</span>
</span></span><span class="line"><span class="cl">    <span class="n">QueryWrapper</span><span class="o">&lt;</span><span class="n">User</span><span class="o">&gt;</span> <span class="n">queryWrapper</span> <span class="o">=</span> <span class="k">new</span> <span class="n">QueryWrapper</span><span class="o">&lt;&gt;();</span>
</span></span><span class="line"><span class="cl">    <span class="n">queryWrapper</span><span class="o">.</span><span class="na">select</span><span class="o">(</span><span class="s">&#34;user_name&#34;</span><span class="o">,</span> <span class="s">&#34;age&#34;</span><span class="o">,</span> <span class="s">&#34;email&#34;</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">    <span class="n">List</span><span class="o">&lt;</span><span class="n">Map</span><span class="o">&lt;</span><span class="n">String</span><span class="o">,</span> <span class="n">Object</span><span class="o">&gt;&gt;</span> <span class="n">users</span> <span class="o">=</span> <span class="n">userMapper</span><span class="o">.</span><span class="na">selectMaps</span><span class="o">(</span><span class="n">queryWrapper</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">    <span class="n">users</span><span class="o">.</span><span class="na">forEach</span><span class="o">(</span><span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">::</span><span class="n">println</span><span class="o">);</span>
</span></span><span class="line"><span class="cl"><span class="o">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="fä¾‹6å®ç°å­æŸ¥è¯¢">f&gt;ä¾‹6ï¼šå®ç°å­æŸ¥è¯¢</h4>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="cm">/** ç»„è£…å­æŸ¥è¯¢ æŸ¥è¯¢idå°äº100çš„ç”¨æˆ·ä¿¡æ¯**/</span>
</span></span><span class="line"><span class="cl"><span class="nd">@Test</span>
</span></span><span class="line"><span class="cl"><span class="kd">public</span> <span class="kt">void</span> <span class="nf">test07</span><span class="o">()</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">    <span class="cm">/*
</span></span></span><span class="line"><span class="cl"><span class="cm">        SELECT uid AS id,user_name AS name,age,email,is_deleted FROM t_user
</span></span></span><span class="line"><span class="cl"><span class="cm">        WHERE is_deleted=0 AND (uid IN (select uid from t_user where uid &lt;= 100))
</span></span></span><span class="line"><span class="cl"><span class="cm">     */</span>
</span></span><span class="line"><span class="cl">    <span class="n">QueryWrapper</span><span class="o">&lt;</span><span class="n">User</span><span class="o">&gt;</span> <span class="n">queryWrapper</span> <span class="o">=</span> <span class="k">new</span> <span class="n">QueryWrapper</span><span class="o">&lt;&gt;();</span>
</span></span><span class="line"><span class="cl">    <span class="n">queryWrapper</span><span class="o">.</span><span class="na">inSql</span><span class="o">(</span><span class="s">&#34;uid&#34;</span><span class="o">,</span> <span class="s">&#34;select uid from t_user where uid &lt;= 100&#34;</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">    <span class="n">List</span><span class="o">&lt;</span><span class="n">User</span><span class="o">&gt;</span> <span class="n">list</span> <span class="o">=</span> <span class="n">userMapper</span><span class="o">.</span><span class="na">selectList</span><span class="o">(</span><span class="n">queryWrapper</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">    <span class="n">list</span><span class="o">.</span><span class="na">forEach</span><span class="o">(</span><span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">::</span><span class="n">println</span><span class="o">);</span>
</span></span><span class="line"><span class="cl"><span class="o">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="updatewrapper">UpdateWrapper</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="cm">/** ä½¿ç”¨UpdateWrapperå®ç°ä¿®æ”¹åŠŸèƒ½ å°†ç”¨æˆ·åä¸­åŒ…å«aå¹¶ä¸”(å¹´é¾„å¤§äº20æˆ–é‚®ç®±ä¸ºnull)çš„ç”¨æˆ·ä¿¡æ¯ä¿®æ”¹ **/</span>
</span></span><span class="line"><span class="cl"><span class="nd">@Test</span>
</span></span><span class="line"><span class="cl"><span class="kd">public</span> <span class="kt">void</span> <span class="nf">test08</span><span class="o">()</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">    <span class="cm">/*
</span></span></span><span class="line"><span class="cl"><span class="cm">        UPDATE t_user SET user_name=?,email=?
</span></span></span><span class="line"><span class="cl"><span class="cm">        WHERE is_deleted=0 AND (user_name LIKE ? AND (age &gt; ? OR email IS NULL))
</span></span></span><span class="line"><span class="cl"><span class="cm">     */</span>
</span></span><span class="line"><span class="cl">    <span class="n">UpdateWrapper</span><span class="o">&lt;</span><span class="n">User</span><span class="o">&gt;</span> <span class="n">updateWrapper</span> <span class="o">=</span> <span class="k">new</span> <span class="n">UpdateWrapper</span><span class="o">&lt;&gt;();</span>
</span></span><span class="line"><span class="cl">    <span class="n">updateWrapper</span><span class="o">.</span><span class="na">like</span><span class="o">(</span><span class="s">&#34;user_name&#34;</span><span class="o">,</span> <span class="s">&#34;a&#34;</span><span class="o">)</span>
</span></span><span class="line"><span class="cl">            <span class="o">.</span><span class="na">and</span><span class="o">(</span><span class="n">i</span> <span class="o">-&gt;</span> <span class="n">i</span><span class="o">.</span><span class="na">gt</span><span class="o">(</span><span class="s">&#34;age&#34;</span><span class="o">,</span> <span class="n">20</span><span class="o">).</span><span class="na">or</span><span class="o">().</span><span class="na">isNull</span><span class="o">(</span><span class="s">&#34;email&#34;</span><span class="o">));</span>
</span></span><span class="line"><span class="cl">    <span class="n">updateWrapper</span><span class="o">.</span><span class="na">set</span><span class="o">(</span><span class="s">&#34;user_name&#34;</span><span class="o">,</span> <span class="s">&#34;å°é»‘&#34;</span><span class="o">).</span><span class="na">set</span><span class="o">(</span><span class="s">&#34;email&#34;</span><span class="o">,</span> <span class="s">&#34;abc@atguigu.com&#34;</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">result</span> <span class="o">=</span> <span class="n">userMapper</span><span class="o">.</span><span class="na">update</span><span class="o">(</span><span class="kc">null</span><span class="o">,</span> <span class="n">updateWrapper</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">    <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&#34;result = &#34;</span> <span class="o">+</span> <span class="n">result</span><span class="o">);</span>
</span></span><span class="line"><span class="cl"><span class="o">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="condition">Condition</h3>
<p>åœ¨çœŸæ­£å¼€å‘çš„è¿‡ç¨‹ä¸­ï¼Œç»„è£…æ¡ä»¶æ˜¯å¸¸è§çš„åŠŸèƒ½ï¼Œ<strong>è€Œè¿™äº›æ¡ä»¶æ•°æ®æ¥æºäºç”¨æˆ·è¾“å…¥ï¼Œæ˜¯å¯é€‰çš„ï¼Œå› æ­¤æˆ‘ä»¬åœ¨ç»„è£…è¿™äº›æ¡ä»¶æ—¶ï¼Œå¿…é¡»å…ˆåˆ¤æ–­ç”¨æˆ·æ˜¯å¦é€‰æ‹©äº†è¿™äº›æ¡ä»¶</strong>ï¼Œè‹¥é€‰æ‹©åˆ™éœ€è¦ç»„è£…è¯¥æ¡ä»¶ï¼Œè‹¥</p>
<p>æ²¡æœ‰é€‰æ‹©åˆ™ä¸€å®šä¸èƒ½ç»„è£…ï¼Œä»¥å…å½±å“SQLæ‰§è¡Œçš„ç»“æœ</p>
<h4 id="æ€è·¯ä¸€">æ€è·¯ä¸€ï¼š</h4>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="cm">/** æ¨¡æ‹Ÿå¼€å‘ä¸­ç»„è£…æ¡ä»¶çš„æƒ…å†µ  **/</span>
</span></span><span class="line"><span class="cl"><span class="nd">@Test</span>
</span></span><span class="line"><span class="cl"><span class="kd">public</span> <span class="kt">void</span> <span class="nf">test09</span><span class="o">()</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">    <span class="cm">/*
</span></span></span><span class="line"><span class="cl"><span class="cm">        SELECT uid AS id,user_name AS name,age,email,is_deleted FROM t_user
</span></span></span><span class="line"><span class="cl"><span class="cm">        WHERE is_deleted=0 AND (user_name LIKE ? AND age &lt;= ?)
</span></span></span><span class="line"><span class="cl"><span class="cm">     */</span>
</span></span><span class="line"><span class="cl">    <span class="n">String</span> <span class="n">username</span> <span class="o">=</span> <span class="s">&#34;a&#34;</span><span class="o">;</span>
</span></span><span class="line"><span class="cl">    <span class="n">Integer</span> <span class="n">ageBegin</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
</span></span><span class="line"><span class="cl">    <span class="n">Integer</span> <span class="n">ageEnd</span> <span class="o">=</span> <span class="n">30</span><span class="o">;</span>
</span></span><span class="line"><span class="cl">    <span class="n">QueryWrapper</span><span class="o">&lt;</span><span class="n">User</span><span class="o">&gt;</span> <span class="n">queryWrapper</span> <span class="o">=</span> <span class="k">new</span> <span class="n">QueryWrapper</span><span class="o">&lt;&gt;();</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="o">(</span><span class="n">StringUtils</span><span class="o">.</span><span class="na">isNotBlank</span><span class="o">(</span><span class="n">username</span><span class="o">))</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">        <span class="c1">// isNotBlankåˆ¤æ–­æŸä¸ªå­—ç¬¦ä¸²æ˜¯å¦ä¸ä¸ºç©ºå­—ç¬¦ä¸²ã€ä¸ä¸ºnullã€ä¸ä¸ºç©ºç™½ç¬¦
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="n">queryWrapper</span><span class="o">.</span><span class="na">like</span><span class="o">(</span><span class="s">&#34;user_name&#34;</span><span class="o">,</span> <span class="n">username</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">    <span class="o">}</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="o">(</span><span class="n">ageBegin</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">queryWrapper</span><span class="o">.</span><span class="na">gt</span><span class="o">(</span><span class="s">&#34;age&#34;</span><span class="o">,</span> <span class="n">ageBegin</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">    <span class="o">}</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="o">(</span><span class="n">ageEnd</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">queryWrapper</span><span class="o">.</span><span class="na">le</span><span class="o">(</span><span class="s">&#34;age&#34;</span><span class="o">,</span> <span class="n">ageEnd</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">    <span class="o">}</span>
</span></span><span class="line"><span class="cl">    <span class="n">List</span><span class="o">&lt;</span><span class="n">User</span><span class="o">&gt;</span> <span class="n">list</span> <span class="o">=</span> <span class="n">userMapper</span><span class="o">.</span><span class="na">selectList</span><span class="o">(</span><span class="n">queryWrapper</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">    <span class="n">list</span><span class="o">.</span><span class="na">forEach</span><span class="o">(</span><span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">::</span><span class="n">println</span><span class="o">);</span>
</span></span><span class="line"><span class="cl"><span class="o">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="æ€è·¯äºŒ">æ€è·¯äºŒï¼š</h4>
<p>ä¸Šé¢çš„å®ç°æ–¹æ¡ˆæ²¡æœ‰é—®é¢˜ï¼Œä½†æ˜¯ä»£ç æ¯”è¾ƒå¤æ‚ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨å¸¦conditionå‚æ•°çš„é‡è½½æ–¹æ³•æ„å»ºæŸ¥è¯¢æ¡ä»¶**ï¼Œ**<strong>ç®€åŒ–ä»£ç çš„ç¼–å†™</strong></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="cm">/** ä½¿ç”¨conditionç»„è£…æ¡ä»¶ **/</span>
</span></span><span class="line"><span class="cl"><span class="nd">@Test</span>
</span></span><span class="line"><span class="cl"><span class="kd">public</span> <span class="kt">void</span> <span class="nf">test10</span><span class="o">()</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">    <span class="cm">/*
</span></span></span><span class="line"><span class="cl"><span class="cm">        SELECT uid AS id,user_name AS name,age,email,is_deleted FROM t_user
</span></span></span><span class="line"><span class="cl"><span class="cm">        WHERE is_deleted=0 AND (user_name LIKE ? AND age &lt;= ?)
</span></span></span><span class="line"><span class="cl"><span class="cm">     */</span>
</span></span><span class="line"><span class="cl">    <span class="n">String</span> <span class="n">username</span> <span class="o">=</span> <span class="s">&#34;a&#34;</span><span class="o">;</span>
</span></span><span class="line"><span class="cl">    <span class="n">Integer</span> <span class="n">ageBegin</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
</span></span><span class="line"><span class="cl">    <span class="n">Integer</span> <span class="n">ageEnd</span> <span class="o">=</span> <span class="n">30</span><span class="o">;</span>
</span></span><span class="line"><span class="cl">    <span class="n">QueryWrapper</span><span class="o">&lt;</span><span class="n">User</span><span class="o">&gt;</span> <span class="n">queryWrapper</span> <span class="o">=</span> <span class="k">new</span> <span class="n">QueryWrapper</span><span class="o">&lt;&gt;();</span>
</span></span><span class="line"><span class="cl">    <span class="n">queryWrapper</span><span class="o">.</span><span class="na">like</span><span class="o">(</span><span class="n">StringUtils</span><span class="o">.</span><span class="na">isNotBlank</span><span class="o">(</span><span class="n">username</span><span class="o">),</span> <span class="s">&#34;user_name&#34;</span><span class="o">,</span> <span class="n">username</span><span class="o">)</span>
</span></span><span class="line"><span class="cl">            <span class="o">.</span><span class="na">gt</span><span class="o">(</span><span class="n">ageBegin</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">,</span> <span class="s">&#34;age&#34;</span><span class="o">,</span> <span class="n">ageBegin</span><span class="o">)</span>
</span></span><span class="line"><span class="cl">            <span class="o">.</span><span class="na">le</span><span class="o">(</span><span class="n">ageEnd</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">,</span> <span class="s">&#34;age&#34;</span><span class="o">,</span> <span class="n">ageEnd</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">    <span class="n">List</span><span class="o">&lt;</span><span class="n">User</span><span class="o">&gt;</span> <span class="n">list</span> <span class="o">=</span> <span class="n">userMapper</span><span class="o">.</span><span class="na">selectList</span><span class="o">(</span><span class="n">queryWrapper</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">    <span class="n">list</span><span class="o">.</span><span class="na">forEach</span><span class="o">(</span><span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">::</span><span class="n">println</span><span class="o">);</span>
</span></span><span class="line"><span class="cl"><span class="o">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="lambdaquerywrapper">LambdaQueryWrapper</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="cm">/** LambdaQueryWrapper **/</span>
</span></span><span class="line"><span class="cl"><span class="nd">@Test</span>
</span></span><span class="line"><span class="cl"><span class="kd">public</span> <span class="kt">void</span> <span class="nf">test11</span><span class="o">()</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">    <span class="cm">/*
</span></span></span><span class="line"><span class="cl"><span class="cm">        SELECT uid AS id,user_name AS name,age,email,is_deleted FROM t_user
</span></span></span><span class="line"><span class="cl"><span class="cm">        WHERE is_deleted=0 AND (user_name LIKE ? AND age &lt;= ?)
</span></span></span><span class="line"><span class="cl"><span class="cm">     */</span>
</span></span><span class="line"><span class="cl">    <span class="n">String</span> <span class="n">username</span> <span class="o">=</span> <span class="s">&#34;a&#34;</span><span class="o">;</span>
</span></span><span class="line"><span class="cl">    <span class="n">Integer</span> <span class="n">ageBegin</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
</span></span><span class="line"><span class="cl">    <span class="n">Integer</span> <span class="n">ageEnd</span> <span class="o">=</span> <span class="n">30</span><span class="o">;</span>
</span></span><span class="line"><span class="cl">    <span class="c1">//ç»„è£…setå­å¥
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="n">LambdaQueryWrapper</span><span class="o">&lt;</span><span class="n">User</span><span class="o">&gt;</span> <span class="n">queryWrapper</span> <span class="o">=</span> <span class="k">new</span> <span class="n">LambdaQueryWrapper</span><span class="o">&lt;&gt;();</span>
</span></span><span class="line"><span class="cl">    <span class="c1">//é¿å…ä½¿ç”¨å­—ç¬¦ä¸²è¡¨ç¤ºå­—æ®µï¼Œé˜²æ­¢è¿è¡Œæ—¶é”™è¯¯
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="n">queryWrapper</span><span class="o">.</span><span class="na">like</span><span class="o">(</span><span class="n">StringUtils</span><span class="o">.</span><span class="na">isNotBlank</span><span class="o">(</span><span class="n">username</span><span class="o">),</span> <span class="n">User</span><span class="o">::</span><span class="n">getName</span><span class="o">,</span> <span class="n">username</span><span class="o">)</span>
</span></span><span class="line"><span class="cl">            <span class="o">.</span><span class="na">gt</span><span class="o">(</span><span class="n">ageBegin</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">,</span> <span class="n">User</span><span class="o">::</span><span class="n">getAge</span><span class="o">,</span> <span class="n">ageBegin</span><span class="o">)</span>
</span></span><span class="line"><span class="cl">            <span class="o">.</span><span class="na">le</span><span class="o">(</span><span class="n">ageEnd</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">,</span> <span class="n">User</span><span class="o">::</span><span class="n">getAge</span><span class="o">,</span> <span class="n">ageEnd</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">    <span class="n">List</span><span class="o">&lt;</span><span class="n">User</span><span class="o">&gt;</span> <span class="n">list</span> <span class="o">=</span> <span class="n">userMapper</span><span class="o">.</span><span class="na">selectList</span><span class="o">(</span><span class="n">queryWrapper</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">    <span class="n">list</span><span class="o">.</span><span class="na">forEach</span><span class="o">(</span><span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">::</span><span class="n">println</span><span class="o">);</span>
</span></span><span class="line"><span class="cl"><span class="o">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="lambdaupdatewrapper">LambdaUpdateWrapper</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="cm">/** LambdaUpdateWrapper **/</span>
</span></span><span class="line"><span class="cl"><span class="nd">@Test</span>
</span></span><span class="line"><span class="cl"><span class="kd">public</span> <span class="kt">void</span> <span class="nf">test12</span><span class="o">()</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">    <span class="cm">/*
</span></span></span><span class="line"><span class="cl"><span class="cm">        UPDATE t_user SET user_name=?,email=?
</span></span></span><span class="line"><span class="cl"><span class="cm">        WHERE is_deleted=0 AND (user_name LIKE ? AND (age &gt; ? OR email IS NULL))
</span></span></span><span class="line"><span class="cl"><span class="cm">     */</span>
</span></span><span class="line"><span class="cl">    <span class="n">LambdaUpdateWrapper</span><span class="o">&lt;</span><span class="n">User</span><span class="o">&gt;</span> <span class="n">updateWrapper</span> <span class="o">=</span> <span class="k">new</span> <span class="n">LambdaUpdateWrapper</span><span class="o">&lt;&gt;();</span>
</span></span><span class="line"><span class="cl">    <span class="n">updateWrapper</span><span class="o">.</span><span class="na">like</span><span class="o">(</span><span class="n">User</span><span class="o">::</span><span class="n">getName</span><span class="o">,</span> <span class="s">&#34;a&#34;</span><span class="o">)</span>
</span></span><span class="line"><span class="cl">            <span class="c1">//lambdaè¡¨è¾¾å¼å†…çš„é€»è¾‘ä¼˜å…ˆè¿ç®—
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>            <span class="o">.</span><span class="na">and</span><span class="o">(</span><span class="n">i</span> <span class="o">-&gt;</span> <span class="n">i</span><span class="o">.</span><span class="na">gt</span><span class="o">(</span><span class="n">User</span><span class="o">::</span><span class="n">getAge</span><span class="o">,</span> <span class="n">20</span><span class="o">).</span><span class="na">or</span><span class="o">().</span><span class="na">isNull</span><span class="o">(</span><span class="n">User</span><span class="o">::</span><span class="n">getEmail</span><span class="o">));</span> 
</span></span><span class="line"><span class="cl">    <span class="n">updateWrapper</span><span class="o">.</span><span class="na">set</span><span class="o">(</span><span class="n">User</span><span class="o">::</span><span class="n">getName</span><span class="o">,</span> <span class="s">&#34;å°é»‘&#34;</span><span class="o">).</span><span class="na">set</span><span class="o">(</span><span class="n">User</span><span class="o">::</span><span class="n">getEmail</span><span class="o">,</span> <span class="s">&#34;abc@atguigu.com&#34;</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">result</span> <span class="o">=</span> <span class="n">userMapper</span><span class="o">.</span><span class="na">update</span><span class="o">(</span><span class="kc">null</span><span class="o">,</span> <span class="n">updateWrapper</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">    <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&#34;result = &#34;</span> <span class="o">+</span> <span class="n">result</span><span class="o">);</span>
</span></span><span class="line"><span class="cl"><span class="o">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="æ’ä»¶">æ’ä»¶</h2>
<h3 id="åˆ†é¡µæ’ä»¶">åˆ†é¡µæ’ä»¶</h3>
<p>MyBatis Plusè‡ªå¸¦åˆ†é¡µæ’ä»¶ï¼Œåªè¦ç®€å•çš„é…ç½®å³å¯å®ç°åˆ†é¡µåŠŸèƒ½</p>
<h4 id="aæ·»åŠ é…ç½®ç±»">a&gt;æ·»åŠ é…ç½®ç±»</h4>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="nd">@Configuration</span>
</span></span><span class="line"><span class="cl"><span class="c1">// æ‰«æmapperæ¥å£æ‰€åœ¨çš„åŒ…
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nd">@MapperScan</span><span class="o">(</span><span class="s">&#34;com.atguigu.mybatisplus.mapper&#34;</span><span class="o">)</span> <span class="c1">// //å¯ä»¥å°†ä¸»ç±»ä¸­çš„æ³¨è§£ç§»åˆ°æ­¤å¤„
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kd">public</span> <span class="kd">class</span> <span class="nc">myBatisPlusConfig</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="cm">/** æ·»åŠ MyBatisPlusåˆ†é¡µæ’ä»¶ **/</span>
</span></span><span class="line"><span class="cl">    <span class="nd">@Bean</span>
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="n">MybatisPlusInterceptor</span> <span class="nf">mybatisPlusInterceptor</span><span class="o">()</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">MybatisPlusInterceptor</span> <span class="n">interceptor</span> <span class="o">=</span> <span class="k">new</span> <span class="n">MybatisPlusInterceptor</span><span class="o">();</span>
</span></span><span class="line"><span class="cl">        <span class="c1">// æ·»åŠ åˆ†é¡µæ’ä»¶
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="n">interceptor</span><span class="o">.</span><span class="na">addInnerInterceptor</span><span class="o">(</span><span class="k">new</span> <span class="n">PaginationInnerInterceptor</span><span class="o">(</span><span class="n">DbType</span><span class="o">.</span><span class="na">MYSQL</span><span class="o">));</span>
</span></span><span class="line"><span class="cl">    <span class="o">}</span>
</span></span><span class="line"><span class="cl"><span class="o">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="bæµ‹è¯•">b&gt;æµ‹è¯•</h4>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="nd">@Autowired</span>
</span></span><span class="line"><span class="cl"><span class="kd">private</span> <span class="n">ProductMapper</span> <span class="n">productMapper</span><span class="o">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="cm">/** MyBatis-Plusåˆ†é¡µæ’ä»¶çš„é…ç½®å’Œä½¿ç”¨å’Œåˆ†é¡µç›¸å…³æ•°æ®çš„è·å– **/</span>
</span></span><span class="line"><span class="cl"><span class="nd">@Test</span>
</span></span><span class="line"><span class="cl"><span class="kd">public</span> <span class="kt">void</span> <span class="nf">testPage</span><span class="o">()</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">    <span class="cm">/*
</span></span></span><span class="line"><span class="cl"><span class="cm">        SELECT uid AS id,user_name AS name,age,email,is_deleted FROM t_user
</span></span></span><span class="line"><span class="cl"><span class="cm">        WHERE is_deleted=0 LIMIT ?
</span></span></span><span class="line"><span class="cl"><span class="cm">     */</span>
</span></span><span class="line"><span class="cl">    <span class="n">Page</span><span class="o">&lt;</span><span class="n">User</span><span class="o">&gt;</span> <span class="n">page</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Page</span><span class="o">&lt;&gt;(</span><span class="n">1</span><span class="o">,</span> <span class="n">3</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">    <span class="n">userMapper</span><span class="o">.</span><span class="na">selectPage</span><span class="o">(</span><span class="n">page</span><span class="o">,</span> <span class="kc">null</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">    <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span> <span class="n">page</span><span class="o">.</span><span class="na">getRecords</span><span class="o">());</span>
</span></span><span class="line"><span class="cl">    <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&#34;æ€»é¡µæ•°:&#34;</span>  <span class="o">+</span> <span class="n">page</span><span class="o">.</span><span class="na">getPages</span><span class="o">());</span>
</span></span><span class="line"><span class="cl">    <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&#34;æ€»è®°å½•æ•°&#34;</span> <span class="o">+</span> <span class="n">page</span><span class="o">.</span><span class="na">getTotal</span><span class="o">());</span>
</span></span><span class="line"><span class="cl">    <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&#34;æ˜¯å¦æœ‰ä¸Šä¸€é¡µ&#34;</span> <span class="o">+</span> <span class="n">page</span><span class="o">.</span><span class="na">hasNext</span><span class="o">());</span>
</span></span><span class="line"><span class="cl">    <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&#34;æ˜¯å¦æœ‰ä¸‹ä¸€é¡µ:&#34;</span> <span class="o">+</span> <span class="n">page</span><span class="o">.</span><span class="na">hasPrevious</span><span class="o">());</span>
</span></span><span class="line"><span class="cl"><span class="o">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><blockquote>
<p>æµ‹è¯•ç»“æœï¼š</p>
<p>[User(id=1, name=Jone, age=18, email=test1@baomidou.com, sex=null, isDeleted=0), User(id=2, name=Jack, age=18, email=test2@baomidou.com, sex=null, isDeleted=0), User(id=3, name=Tom, age=18, email=test3@baomidou.com, sex=null, isDeleted=0)]</p>
<p>æ€»é¡µæ•°:3</p>
<p>æ€»è®°å½•æ•°8</p>
<p>æ˜¯å¦æœ‰ä¸Šä¸€é¡µtrue</p>
<p>æ˜¯å¦æœ‰ä¸‹ä¸€é¡µ:false</p>
</blockquote>
<h3 id="xmlè‡ªå®šä¹‰åˆ†é¡µ">xmlè‡ªå®šä¹‰åˆ†é¡µ</h3>
<h4 id="ausermapperä¸­å®šä¹‰æ¥å£æ–¹æ³•">a&gt;UserMapperä¸­å®šä¹‰æ¥å£æ–¹æ³•</h4>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="cm">/**
</span></span></span><span class="line"><span class="cl"><span class="cm">* æ ¹æ®å¹´é¾„æŸ¥è¯¢ç”¨æˆ·åˆ—è¡¨ï¼Œåˆ†é¡µæ˜¾ç¤º
</span></span></span><span class="line"><span class="cl"><span class="cm">* @param page åˆ†é¡µå¯¹è±¡,xmlä¸­å¯ä»¥ä»é‡Œé¢è¿›è¡Œå–å€¼,ä¼ é€’å‚æ•° Page å³è‡ªåŠ¨åˆ†é¡µ,å¿…é¡»æ”¾åœ¨ç¬¬ä¸€ä½ * @param age å¹´é¾„
</span></span></span><span class="line"><span class="cl"><span class="cm">* @return
</span></span></span><span class="line"><span class="cl"><span class="cm">*/</span>
</span></span><span class="line"><span class="cl"><span class="n">Page</span><span class="o">&lt;</span><span class="n">User</span><span class="o">&gt;</span> <span class="nf">selectPageVo</span><span class="o">(</span><span class="nd">@Param</span><span class="o">(</span><span class="s">&#34;page&#34;</span><span class="o">)</span> <span class="n">Page</span><span class="o">&lt;</span><span class="n">User</span><span class="o">&gt;</span> <span class="n">page</span><span class="o">,</span> <span class="nd">@Param</span><span class="o">(</span><span class="s">&#34;age&#34;</span><span class="o">)</span> <span class="n">Integer</span> <span class="n">age</span><span class="o">);</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="busermapperxmlä¸­ç¼–å†™sql">b&gt;UserMapper.xmlä¸­ç¼–å†™SQL</h4>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="o">&lt;!--</span><span class="n">Page</span><span class="o">&lt;</span><span class="n">User</span><span class="o">&gt;</span> <span class="nf">selectPageVo</span><span class="o">(</span><span class="nd">@Param</span><span class="o">(</span><span class="s">&#34;page&#34;</span><span class="o">)</span> <span class="n">Page</span><span class="o">&lt;</span><span class="n">User</span><span class="o">&gt;</span> <span class="n">page</span><span class="o">,</span> <span class="nd">@Param</span><span class="o">(</span><span class="s">&#34;age&#34;</span><span class="o">)</span> <span class="n">Integer</span> <span class="n">age</span><span class="o">);--&gt;</span>
</span></span><span class="line"><span class="cl"><span class="o">&lt;</span><span class="n">select</span> <span class="n">id</span><span class="o">=</span><span class="s">&#34;selectPageVo&#34;</span> <span class="n">resultType</span><span class="o">=</span><span class="s">&#34;User&#34;</span><span class="o">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="n">select</span> <span class="n">uid</span> <span class="n">as</span> <span class="err">`</span><span class="n">id</span><span class="err">`</span><span class="o">,</span><span class="n">user_name</span> <span class="n">as</span> <span class="err">`</span><span class="n">name</span><span class="err">`</span><span class="o">,</span><span class="n">age</span><span class="o">,</span><span class="n">email</span> <span class="n">from</span> <span class="n">t_user</span> <span class="n">where</span> <span class="n">age</span> <span class="o">&gt;</span> <span class="err">#</span><span class="o">{</span><span class="n">age</span><span class="o">}</span>
</span></span><span class="line"><span class="cl"><span class="o">&lt;/</span><span class="n">select</span><span class="o">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="cæµ‹è¯•">c&gt;æµ‹è¯•</h4>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="nd">@Test</span>
</span></span><span class="line"><span class="cl"><span class="kd">public</span> <span class="kt">void</span> <span class="nf">testSelectPageVo</span><span class="o">(){</span> <span class="c1">//è®¾ç½®åˆ†é¡µå‚æ•°
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="n">Page</span><span class="o">&lt;</span><span class="n">User</span><span class="o">&gt;</span> <span class="n">page</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Page</span><span class="o">&lt;&gt;(</span><span class="n">1</span><span class="o">,</span> <span class="n">5</span><span class="o">);</span> 
</span></span><span class="line"><span class="cl">    <span class="n">userMapper</span><span class="o">.</span><span class="na">selectPageVo</span><span class="o">(</span><span class="n">page</span><span class="o">,</span> <span class="n">20</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">    <span class="c1">//è·å–åˆ†é¡µæ•°æ®
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="n">List</span><span class="o">&lt;</span><span class="n">User</span><span class="o">&gt;</span> <span class="n">list</span> <span class="o">=</span> <span class="n">page</span><span class="o">.</span><span class="na">getRecords</span><span class="o">();</span> 
</span></span><span class="line"><span class="cl">    <span class="n">list</span><span class="o">.</span><span class="na">forEach</span><span class="o">(</span><span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">::</span><span class="n">println</span><span class="o">);</span> 
</span></span><span class="line"><span class="cl">    <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&#34;å½“å‰é¡µ:&#34;</span><span class="o">+</span><span class="n">page</span><span class="o">.</span><span class="na">getCurrent</span><span class="o">());</span> 
</span></span><span class="line"><span class="cl">    <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&#34;æ¯é¡µæ˜¾ç¤ºçš„æ¡æ•°:&#34;</span><span class="o">+</span><span class="n">page</span><span class="o">.</span><span class="na">getSize</span><span class="o">());</span> 
</span></span><span class="line"><span class="cl">    <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&#34;æ€»è®°å½•æ•°:&#34;</span><span class="o">+</span><span class="n">page</span><span class="o">.</span><span class="na">getTotal</span><span class="o">());</span> 
</span></span><span class="line"><span class="cl">    <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&#34;æ€»é¡µæ•°:&#34;</span><span class="o">+</span><span class="n">page</span><span class="o">.</span><span class="na">getPages</span><span class="o">());</span> 
</span></span><span class="line"><span class="cl">    <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&#34;æ˜¯å¦æœ‰ä¸Šä¸€é¡µ:&#34;</span><span class="o">+</span><span class="n">page</span><span class="o">.</span><span class="na">hasPrevious</span><span class="o">());</span> 
</span></span><span class="line"><span class="cl">    <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&#34;æ˜¯å¦æœ‰ä¸‹ä¸€é¡µ:&#34;</span><span class="o">+</span><span class="n">page</span><span class="o">.</span><span class="na">hasNext</span><span class="o">());</span>
</span></span><span class="line"><span class="cl"><span class="o">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><blockquote>
<p>User(id=3, name=Tom, age=28, <a class="link" href="mailto:email=test3@baomidou.com" >email=test3@baomidou.com</a>, isDeleted=null) User(id=4,</p>
<p>name=Sandy, age=21, <a class="link" href="mailto:email=test4@baomidou.com" >email=test4@baomidou.com</a>, isDeleted=null) User(id=5, name=Billie,</p>
<p>age=24, <a class="link" href="mailto:email=test5@baomidou.com" >email=test5@baomidou.com</a>, isDeleted=null) User(id=8, name=ybc1, age=21,</p>
<p>email=null, isDeleted=null) User(id=9, name=ybc2, age=22, email=null, isDeleted=null)</p>
<p>å½“å‰é¡µï¼š1 æ¯é¡µæ˜¾ç¤ºçš„æ¡æ•°ï¼š5 æ€»è®°å½•æ•°ï¼š12 æ€»é¡µæ•°ï¼š3 æ˜¯å¦æœ‰ä¸Šä¸€é¡µï¼šfalse æ˜¯å¦æœ‰ä¸‹ä¸€é¡µï¼štrue</p>
</blockquote>
<h2 id="ä¹è§‚é”">ä¹è§‚é”</h2>
<h3 id="aåœºæ™¯">a&gt;åœºæ™¯</h3>
<p>ä¸€ä»¶å•†å“ï¼Œæˆæœ¬ä»·æ˜¯80å…ƒï¼Œå”®ä»·æ˜¯100å…ƒã€‚è€æ¿å…ˆæ˜¯é€šçŸ¥å°æï¼Œè¯´ä½ å»æŠŠå•†å“ä»·æ ¼å¢åŠ 50å…ƒã€‚å°</p>
<p>ææ­£åœ¨ç©æ¸¸æˆï¼Œè€½æäº†ä¸€ä¸ªå°æ—¶ã€‚æ­£å¥½ä¸€ä¸ªå°æ—¶åï¼Œè€æ¿è§‰å¾—å•†å“ä»·æ ¼å¢åŠ åˆ°150å…ƒï¼Œä»·æ ¼å¤ª</p>
<p>é«˜ï¼Œå¯èƒ½ä¼šå½±å“é”€é‡ã€‚åˆé€šçŸ¥å°ç‹ï¼Œä½ æŠŠå•†å“ä»·æ ¼é™ä½30å…ƒã€‚</p>
<p>æ­¤æ—¶ï¼Œå°æå’Œå°ç‹åŒæ—¶æ“ä½œå•†å“åå°ç³»ç»Ÿã€‚å°ææ“ä½œçš„æ—¶å€™ï¼Œç³»ç»Ÿå…ˆå–å‡ºå•†å“ä»·æ ¼100å…ƒï¼›å°ç‹</p>
<p>ä¹Ÿåœ¨æ“ä½œï¼Œå–å‡ºçš„å•†å“ä»·æ ¼ä¹Ÿæ˜¯100å…ƒã€‚å°æå°†ä»·æ ¼åŠ äº†50å…ƒï¼Œå¹¶å°†100+50=150å…ƒå­˜å…¥äº†æ•°æ®</p>
<p>åº“ï¼›å°ç‹å°†å•†å“å‡äº†30å…ƒï¼Œå¹¶å°†100-30=70å…ƒå­˜å…¥äº†æ•°æ®åº“ã€‚æ˜¯çš„ï¼Œå¦‚æœæ²¡æœ‰é”ï¼Œå°æçš„æ“ä½œå°±</p>
<p>å®Œå…¨è¢«å°ç‹çš„è¦†ç›–äº†ã€‚</p>
<p>ç°åœ¨å•†å“ä»·æ ¼æ˜¯70å…ƒï¼Œæ¯”æˆæœ¬ä»·ä½10å…ƒã€‚å‡ åˆ†é’Ÿåï¼Œè¿™ä¸ªå•†å“å¾ˆå¿«å‡ºå”®äº†1åƒå¤šä»¶å•†å“ï¼Œè€æ¿äº1</p>
<p>ä¸‡å¤šã€‚</p>
<h3 id="bä¹è§‚é”å’Œæ‚²è§‚é”">b&gt;ä¹è§‚é”å’Œæ‚²è§‚é”</h3>
<p>ä¸Šé¢çš„æ•…äº‹ï¼Œå¦‚æœæ˜¯ä¹è§‚é”ï¼Œå°ç‹ä¿å­˜ä»·æ ¼å‰ï¼Œä¼šæ£€æŸ¥ä¸‹ä»·æ ¼æ˜¯å¦è¢«äººä¿®æ”¹è¿‡äº†ã€‚å¦‚æœè¢«ä¿®æ”¹è¿‡äº†ï¼Œåˆ™é‡æ–°å–å‡ºçš„è¢«ä¿®æ”¹åçš„ä»·æ ¼ï¼Œ150å…ƒï¼Œè¿™æ ·ä»–ä¼šå°†120å…ƒå­˜å…¥æ•°æ®åº“ã€‚</p>
<p>å¦‚æœæ˜¯æ‚²è§‚é”ï¼Œå°æå–å‡ºæ•°æ®åï¼Œå°ç‹åªèƒ½ç­‰å°ææ“ä½œå®Œä¹‹åï¼Œæ‰èƒ½å¯¹ä»·æ ¼è¿›è¡Œæ“ä½œï¼Œä¹Ÿä¼šä¿è¯</p>
<p>æœ€ç»ˆçš„ä»·æ ¼æ˜¯120å…ƒã€‚</p>
<h3 id="cæ¨¡æ‹Ÿä¿®æ”¹å†²çª">c&gt;æ¨¡æ‹Ÿä¿®æ”¹å†²çª</h3>
<h4 id="æ•°æ®åº“ä¸­å¢åŠ å•†å“è¡¨">æ•°æ®åº“ä¸­å¢åŠ å•†å“è¡¨</h4>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="line"><span class="cl"><span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">t_product</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">(</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">id</span><span class="w"> </span><span class="nb">BIGINT</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="w"> </span><span class="k">COMMENT</span><span class="w"> </span><span class="s1">&#39;ä¸»é”®ID&#39;</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">NAME</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">30</span><span class="p">)</span><span class="w"> </span><span class="k">NULL</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">NULL</span><span class="w"> </span><span class="k">COMMENT</span><span class="w"> </span><span class="s1">&#39;å•†å“åç§°&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">price</span><span class="w"> </span><span class="nb">INT</span><span class="p">(</span><span class="mi">11</span><span class="p">)</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">COMMENT</span><span class="w"> </span><span class="s1">&#39;ä»·æ ¼&#39;</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">VERSION</span><span class="w"> </span><span class="nb">INT</span><span class="p">(</span><span class="mi">11</span><span class="p">)</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">COMMENT</span><span class="w"> </span><span class="s1">&#39;ä¹è§‚é”ç‰ˆæœ¬å·&#39;</span><span class="p">,</span><span class="w"> </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="n">id</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">);</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><h4 id="æ·»åŠ æ•°æ®">æ·»åŠ æ•°æ®</h4>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="line"><span class="cl"><span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n">t_product</span><span class="w"> </span><span class="p">(</span><span class="n">id</span><span class="p">,</span><span class="w"> </span><span class="n">NAME</span><span class="p">,</span><span class="w"> </span><span class="n">price</span><span class="p">)</span><span class="w"> </span><span class="k">VALUES</span><span class="w"> </span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;å¤–æ˜Ÿäººç¬”è®°æœ¬&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">100</span><span class="p">);</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><h4 id="æ·»åŠ å®ä½“">æ·»åŠ å®ä½“</h4>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="kn">package</span> <span class="nn">com.atguigu.mybatisplus.entity</span><span class="o">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">lombok.Data</span><span class="o">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nd">@Data</span>
</span></span><span class="line"><span class="cl"><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Product</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">    <span class="kd">private</span> <span class="n">Long</span> <span class="n">id</span><span class="o">;</span>
</span></span><span class="line"><span class="cl">    <span class="kd">private</span> <span class="n">String</span> <span class="n">name</span><span class="o">;</span>
</span></span><span class="line"><span class="cl">    <span class="kd">private</span> <span class="n">Integer</span> <span class="n">price</span><span class="o">;</span>
</span></span><span class="line"><span class="cl">    <span class="kd">private</span> <span class="n">Integer</span> <span class="n">version</span><span class="o">;</span>
</span></span><span class="line"><span class="cl"><span class="o">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="æ·»åŠ mapper">æ·»åŠ mapper</h4>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="nd">@Repository</span>
</span></span><span class="line"><span class="cl"><span class="kd">public</span> <span class="kd">interface</span> <span class="nc">ProductMapper</span> <span class="kd">extends</span> <span class="n">BaseMapper</span><span class="o">&lt;</span><span class="n">Product</span><span class="o">&gt;</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="o">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="æµ‹è¯•">æµ‹è¯•</h4>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="nd">@Test</span>
</span></span><span class="line"><span class="cl"><span class="kd">public</span> <span class="kt">void</span> <span class="nf">testProduct01</span><span class="o">()</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// 1.å°ææŸ¥è¯¢å•†å“ä»·æ ¼
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="n">Product</span> <span class="n">productLi</span> <span class="o">=</span> <span class="n">productMapper</span><span class="o">.</span><span class="na">selectById</span><span class="o">(</span><span class="n">1</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">    <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&#34;å°ææŸ¥è¯¢çš„å•†å“ä»·æ ¼:&#34;</span> <span class="o">+</span> <span class="n">productLi</span><span class="o">.</span><span class="na">getPrice</span><span class="o">());</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1">// 2.å°ç‹æŸ¥è¯¢å•†å“ä»·æ ¼
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="n">Product</span> <span class="n">productWang</span> <span class="o">=</span> <span class="n">productMapper</span><span class="o">.</span><span class="na">selectById</span><span class="o">(</span><span class="n">1</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">    <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&#34;å°ç‹æŸ¥è¯¢çš„å•†å“ä»·æ ¼:&#34;</span> <span class="o">+</span> <span class="n">productWang</span><span class="o">.</span><span class="na">getPrice</span><span class="o">());</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1">// 3.å°æå•†å“ä»·æ ¼+50
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="n">productLi</span><span class="o">.</span><span class="na">setPrice</span><span class="o">(</span><span class="n">productLi</span><span class="o">.</span><span class="na">getPrice</span><span class="o">()</span> <span class="o">+</span> <span class="n">50</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">    <span class="n">productMapper</span><span class="o">.</span><span class="na">updateById</span><span class="o">(</span><span class="n">productLi</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1">// 4.å°ç‹å°†å•†å“ä»·æ ¼-30
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="n">productWang</span><span class="o">.</span><span class="na">setPrice</span><span class="o">(</span><span class="n">productWang</span><span class="o">.</span><span class="na">getPrice</span><span class="o">()</span> <span class="o">-</span> <span class="n">30</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">result</span> <span class="o">=</span> <span class="n">productMapper</span><span class="o">.</span><span class="na">updateById</span><span class="o">(</span><span class="n">productWang</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1">// 5.è€æ¿æŸ¥è¯¢å•†å“ä»·æ ¼
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="n">Product</span> <span class="n">productBoss</span> <span class="o">=</span> <span class="n">productMapper</span><span class="o">.</span><span class="na">selectById</span><span class="o">(</span><span class="n">1</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">    <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&#34;è€æ¿æŸ¥è¯¢çš„å•†å“ä»·æ ¼:&#34;</span> <span class="o">+</span> <span class="n">productBoss</span><span class="o">.</span><span class="na">getPrice</span><span class="o">());</span>
</span></span><span class="line"><span class="cl"><span class="o">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="dä¹è§‚é”å®ç°æµç¨‹">d&gt;ä¹è§‚é”å®ç°æµç¨‹</h3>
<p>æ•°æ®åº“ä¸­<strong>æ·»åŠ versionå­—æ®µ</strong></p>
<p><strong>å–å‡ºè®°å½•æ—¶ï¼Œè·å–å½“å‰version</strong></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="line"><span class="cl"><span class="k">SELECT</span><span class="w"> </span><span class="n">id</span><span class="p">,</span><span class="o">`</span><span class="n">name</span><span class="o">`</span><span class="p">,</span><span class="n">price</span><span class="p">,</span><span class="o">`</span><span class="k">version</span><span class="o">`</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">product</span><span class="w"> </span><span class="k">WHERE</span><span class="w"> </span><span class="n">id</span><span class="o">=</span><span class="mi">1</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><p>æ›´æ–°æ—¶ï¼Œversion + 1ï¼Œå¦‚æœwhereè¯­å¥ä¸­çš„versionç‰ˆæœ¬ä¸å¯¹ï¼Œåˆ™æ›´æ–°å¤±è´¥</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="line"><span class="cl"><span class="k">UPDATE</span><span class="w"> </span><span class="n">product</span><span class="w"> </span><span class="k">SET</span><span class="w"> </span><span class="n">price</span><span class="o">=</span><span class="n">price</span><span class="o">+</span><span class="mi">50</span><span class="p">,</span><span class="w"> </span><span class="o">`</span><span class="k">version</span><span class="o">`=`</span><span class="k">version</span><span class="o">`</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="k">WHERE</span><span class="w"> </span><span class="n">id</span><span class="o">=</span><span class="mi">1</span><span class="w"> </span><span class="k">AND</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="o">`</span><span class="k">version</span><span class="o">`=</span><span class="mi">1</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><h3 id="emybatis-pluså®ç°ä¹è§‚é”">e&gt;MyBatis-Pluså®ç°ä¹è§‚é”</h3>
<h4 id="ä¿®æ”¹å®ä½“ç±»">ä¿®æ”¹å®ä½“ç±»</h4>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="nd">@Data</span>
</span></span><span class="line"><span class="cl"><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Product</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="kd">private</span> <span class="n">Long</span> <span class="n">id</span><span class="o">;</span>
</span></span><span class="line"><span class="cl">    <span class="kd">private</span> <span class="n">String</span> <span class="n">name</span><span class="o">;</span>
</span></span><span class="line"><span class="cl">    <span class="kd">private</span> <span class="n">Integer</span> <span class="n">price</span><span class="o">;</span>
</span></span><span class="line"><span class="cl">    <span class="nd">@Version</span> <span class="c1">// è®¾ç½®ä¹è§‚é”ç‰ˆæœ¬å·å­—æ®µ
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="kd">private</span> <span class="n">Integer</span> <span class="n">version</span><span class="o">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="o">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="æ·»åŠ ä¹è§‚é”æ’ä»¶é…ç½®">æ·»åŠ ä¹è§‚é”æ’ä»¶é…ç½®</h4>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="nd">@Configuration</span>
</span></span><span class="line"><span class="cl"><span class="c1">// æ‰«æmapperæ¥å£æ‰€åœ¨çš„åŒ…
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nd">@MapperScan</span><span class="o">(</span><span class="s">&#34;com.atguigu.mybatisplus.mapper&#34;</span><span class="o">)</span>
</span></span><span class="line"><span class="cl"><span class="kd">public</span> <span class="kd">class</span> <span class="nc">myBatisPlusConfig</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="cm">/** æ·»åŠ MyBatisPlusåˆ†é¡µæ’ä»¶ **/</span>
</span></span><span class="line"><span class="cl">    <span class="nd">@Bean</span>
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="n">MybatisPlusInterceptor</span> <span class="nf">mybatisPlusInterceptor</span><span class="o">()</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">MybatisPlusInterceptor</span> <span class="n">interceptor</span> <span class="o">=</span> <span class="k">new</span> <span class="n">MybatisPlusInterceptor</span><span class="o">();</span>
</span></span><span class="line"><span class="cl">        <span class="c1">// æ·»åŠ åˆ†é¡µæ’ä»¶
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="n">interceptor</span><span class="o">.</span><span class="na">addInnerInterceptor</span><span class="o">(</span><span class="k">new</span> <span class="n">PaginationInnerInterceptor</span><span class="o">(</span><span class="n">DbType</span><span class="o">.</span><span class="na">MYSQL</span><span class="o">));</span>
</span></span><span class="line"><span class="cl">        <span class="c1">// æ·»åŠ ä¹è§‚é”æ’ä»¶
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="n">interceptor</span><span class="o">.</span><span class="na">addInnerInterceptor</span><span class="o">(</span><span class="k">new</span> <span class="n">OptimisticLockerInnerInterceptor</span><span class="o">());</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="n">interceptor</span><span class="o">;</span>
</span></span><span class="line"><span class="cl">    <span class="o">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="o">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="æµ‹è¯•ä¿®æ”¹å†²çª">æµ‹è¯•ä¿®æ”¹å†²çª</h4>
<blockquote>
<p>å°ææŸ¥è¯¢å•†å“ä¿¡æ¯:</p>
<p>SELECT id,name,price,version FROM t_product WHERE id=?</p>
<p>å°ç‹æŸ¥è¯¢å•†å“ä¿¡æ¯:</p>
<p>SELECT id,name,price,version FROM t_product WHERE id=?</p>
<p>å°æä¿®æ”¹å•†å“ä»·æ ¼ï¼Œè‡ªåŠ¨å°†version+1</p>
<p>UPDATE t_product SET name=?, price=?, version=? WHERE id=? AND version=? Parameters: å¤–æ˜Ÿäººç¬”è®°æœ¬(String), 150(Integer), 1(Integer), 1(Long), 0(Integer)</p>
<p>å°ç‹ä¿®æ”¹å•†å“ä»·æ ¼ï¼Œæ­¤æ—¶versionå·²æ›´æ–°ï¼Œæ¡ä»¶ä¸æˆç«‹ï¼Œä¿®æ”¹å¤±è´¥</p>
<p>UPDATE t_product SET name=?, price=?, version=? WHERE id=? AND version=? Parameters: å¤–æ˜Ÿäººç¬”è®°æœ¬(String), 70(Integer), 1(Integer), 1(Long), 0(Integer)</p>
<p>æœ€ç»ˆï¼Œå°ç‹ä¿®æ”¹å¤±è´¥ï¼ŒæŸ¥è¯¢ä»·æ ¼:150</p>
<p>SELECT id,name,price,version FROM t_product WHERE id=?</p>
</blockquote>
<h4 id="ä¼˜åŒ–æµç¨‹">ä¼˜åŒ–æµç¨‹</h4>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="nd">@Test</span>
</span></span><span class="line"><span class="cl"><span class="kd">public</span> <span class="kt">void</span> <span class="nf">testProduct01</span><span class="o">()</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// 1.å°ææŸ¥è¯¢å•†å“ä»·æ ¼
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="n">Product</span> <span class="n">productLi</span> <span class="o">=</span> <span class="n">productMapper</span><span class="o">.</span><span class="na">selectById</span><span class="o">(</span><span class="n">1</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">    <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&#34;å°ææŸ¥è¯¢çš„å•†å“ä»·æ ¼:&#34;</span> <span class="o">+</span> <span class="n">productLi</span><span class="o">.</span><span class="na">getPrice</span><span class="o">());</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1">// 2.å°ç‹æŸ¥è¯¢å•†å“ä»·æ ¼
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="n">Product</span> <span class="n">productWang</span> <span class="o">=</span> <span class="n">productMapper</span><span class="o">.</span><span class="na">selectById</span><span class="o">(</span><span class="n">1</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">    <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&#34;å°ç‹æŸ¥è¯¢çš„å•†å“ä»·æ ¼:&#34;</span> <span class="o">+</span> <span class="n">productWang</span><span class="o">.</span><span class="na">getPrice</span><span class="o">());</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1">// 3.å°æå•†å“ä»·æ ¼+50
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="n">productLi</span><span class="o">.</span><span class="na">setPrice</span><span class="o">(</span><span class="n">productLi</span><span class="o">.</span><span class="na">getPrice</span><span class="o">()</span> <span class="o">+</span> <span class="n">50</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">    <span class="n">productMapper</span><span class="o">.</span><span class="na">updateById</span><span class="o">(</span><span class="n">productLi</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1">// 4.å°ç‹å°†å•†å“ä»·æ ¼-30
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="n">productWang</span><span class="o">.</span><span class="na">setPrice</span><span class="o">(</span><span class="n">productWang</span><span class="o">.</span><span class="na">getPrice</span><span class="o">()</span> <span class="o">-</span> <span class="n">30</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">result</span> <span class="o">=</span> <span class="n">productMapper</span><span class="o">.</span><span class="na">updateById</span><span class="o">(</span><span class="n">productWang</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="o">(</span><span class="n">result</span> <span class="o">==</span> <span class="n">0</span><span class="o">)</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">        <span class="c1">// æ“ä½œå¤±è´¥,é‡è¯•
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="n">Product</span> <span class="n">productNew</span> <span class="o">=</span> <span class="n">productMapper</span><span class="o">.</span><span class="na">selectById</span><span class="o">(</span><span class="n">1</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">        <span class="n">productNew</span><span class="o">.</span><span class="na">setPrice</span><span class="o">(</span><span class="n">productNew</span><span class="o">.</span><span class="na">getPrice</span><span class="o">()</span> <span class="o">-</span> <span class="n">30</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">        <span class="n">productMapper</span><span class="o">.</span><span class="na">updateById</span><span class="o">(</span><span class="n">productNew</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">    <span class="o">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1">// 5.è€æ¿æŸ¥è¯¢å•†å“ä»·æ ¼
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="n">Product</span> <span class="n">productBoss</span> <span class="o">=</span> <span class="n">productMapper</span><span class="o">.</span><span class="na">selectById</span><span class="o">(</span><span class="n">1</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">    <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&#34;è€æ¿æŸ¥è¯¢çš„å•†å“ä»·æ ¼:&#34;</span> <span class="o">+</span> <span class="n">productBoss</span><span class="o">.</span><span class="na">getPrice</span><span class="o">());</span>
</span></span><span class="line"><span class="cl"><span class="o">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="é€šç”¨æšä¸¾">é€šç”¨æšä¸¾</h2>
<p>è¡¨ä¸­çš„æœ‰äº›<strong>å­—æ®µå€¼æ˜¯å›ºå®šçš„</strong>ï¼Œä¾‹å¦‚æ€§åˆ«(ç”·æˆ–å¥³)ï¼Œæ­¤æ—¶æˆ‘ä»¬å¯ä»¥ä½¿ç”¨MyBatis-Plusçš„é€šç”¨æšä¸¾ æ¥å®ç°</p>
<h3 id="aæ•°æ®åº“è¡¨æ·»åŠ å­—æ®µsex">a&gt;æ•°æ®åº“è¡¨æ·»åŠ å­—æ®µsex</h3>
<p><img src="https://cdn.nlark.com/yuque/0/2022/png/26045818/1646302854063-a7b01d9f-9654-4695-a3ca-48121a9da899.png"
	
	
	
	loading="lazy"
	
		alt="img"
	
	
></p>
<h3 id="båˆ›å»ºé€šè¿‡æšä¸¾ç±»å‹">b&gt;åˆ›å»ºé€šè¿‡æšä¸¾ç±»å‹</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="nd">@Getter</span> <span class="c1">// å› ä¸ºæšä¸¾é‡Œé¢éƒ½æ˜¯å¸¸é‡
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kd">public</span> <span class="kd">enum</span> <span class="n">SexEnum</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">    <span class="n">MALE</span><span class="o">(</span><span class="n">1</span><span class="o">,</span> <span class="s">&#34;ç”·&#34;</span><span class="o">),</span>
</span></span><span class="line"><span class="cl">    <span class="n">FEMALE</span><span class="o">(</span><span class="n">2</span><span class="o">,</span> <span class="s">&#34;å¥³&#34;</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="nd">@EnumValue</span> <span class="c1">// å°†æ³¨è§£æ‰€æ ‡è¯†çš„å±æ€§çš„å€¼å­˜å‚¨åˆ°æ•°æ®åº“ä¸­
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="kd">private</span> <span class="n">Integer</span> <span class="n">sex</span><span class="o">;</span>
</span></span><span class="line"><span class="cl">    <span class="kd">private</span> <span class="n">String</span> <span class="n">sexName</span><span class="o">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="n">SexEnum</span><span class="o">(</span><span class="n">Integer</span> <span class="n">sex</span><span class="o">,</span> <span class="n">String</span> <span class="n">sexName</span><span class="o">)</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">this</span><span class="o">.</span><span class="na">sex</span> <span class="o">=</span> <span class="n">sex</span><span class="o">;</span>
</span></span><span class="line"><span class="cl">        <span class="k">this</span><span class="o">.</span><span class="na">sexName</span> <span class="o">=</span> <span class="n">sexName</span><span class="o">;</span>
</span></span><span class="line"><span class="cl">    <span class="o">}</span>
</span></span><span class="line"><span class="cl"><span class="o">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="cé…ç½®æ‰«æé€šè¿‡æšä¸¾">c&gt;é…ç½®æ‰«æé€šè¿‡æšä¸¾</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="c"># åŠ å…¥æ—¥å¿—åŠŸèƒ½</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">mybatis-plus</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">configuration</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">log-impl</span><span class="p">:</span><span class="w"> </span><span class="l">org.apache.ibatis.logging.stdout.StdOutImpl</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="c"># è®¾ç½®MyBatis-Plusçš„å…¨å±€é…ç½®</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">global-config</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">db-config</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="c"># è®¾ç½®å®ä½“ç±»æ‰€å¯¹åº”çš„è¡¨çš„ç»Ÿä¸€å‰ç¼€</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">table-prefix</span><span class="p">:</span><span class="w"> </span><span class="l">t_</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="c"># è®¾ç½®ç»Ÿä¸€çš„ä¸»é”®ç”Ÿæˆç­–ç•¥</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">id-type</span><span class="p">:</span><span class="w"> </span><span class="l">auto</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="c"># é…ç½®ç±»å‹åˆ«åæ‰€å¯¹åº”çš„åŒ…</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">type-aliases-package</span><span class="p">:</span><span class="w"> </span><span class="l">com.atguigu.mybatisplus.pojo</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="c"># æ‰«ææšä¸¾çš„åŒ…</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">type-enums-package</span><span class="p">:</span><span class="w"> </span><span class="l">com.atguigu.mybatisplus.enums</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><h3 id="dæµ‹è¯•">d&gt;æµ‹è¯•</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="nd">@SpringBootTest</span>
</span></span><span class="line"><span class="cl"><span class="kd">public</span> <span class="kd">class</span> <span class="nc">MyBatisPlusEnumTest</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="nd">@Autowired</span>
</span></span><span class="line"><span class="cl">    <span class="kd">private</span> <span class="n">UserMapper</span> <span class="n">userMapper</span><span class="o">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="nd">@Test</span>
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">test</span><span class="o">()</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">User</span> <span class="n">user</span> <span class="o">=</span> <span class="k">new</span> <span class="n">User</span><span class="o">();</span>
</span></span><span class="line"><span class="cl">        <span class="n">user</span><span class="o">.</span><span class="na">setName</span><span class="o">(</span><span class="s">&#34;admin&#34;</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">        <span class="n">user</span><span class="o">.</span><span class="na">setAge</span><span class="o">(</span><span class="n">33</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">        <span class="n">user</span><span class="o">.</span><span class="na">setSex</span><span class="o">(</span><span class="n">SexEnum</span><span class="o">.</span><span class="na">MALE</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">        <span class="kt">int</span> <span class="n">result</span> <span class="o">=</span> <span class="n">userMapper</span><span class="o">.</span><span class="na">insert</span><span class="o">(</span><span class="n">user</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&#34;result = &#34;</span> <span class="o">+</span> <span class="n">result</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">    <span class="o">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="o">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="ä»£ç ç”Ÿæˆå™¨">ä»£ç ç”Ÿæˆå™¨</h2>
<h3 id="å¼•å…¥ä¾èµ–">å¼•å…¥ä¾èµ–</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-xml" data-lang="xml"><span class="line"><span class="cl"><span class="nt">&lt;dependency&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;groupId&gt;</span>com.baomidou<span class="nt">&lt;/groupId&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;artifactId&gt;</span>mybatis-plus-generator<span class="nt">&lt;/artifactId&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;version&gt;</span>3.5.1<span class="nt">&lt;/version&gt;</span>
</span></span><span class="line"><span class="cl"><span class="nt">&lt;/dependency&gt;</span>
</span></span><span class="line"><span class="cl"><span class="nt">&lt;dependency&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;groupId&gt;</span>org.freemarker<span class="nt">&lt;/groupId&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;artifactId&gt;</span>freemarker<span class="nt">&lt;/artifactId&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;version&gt;</span>2.3.31<span class="nt">&lt;/version&gt;</span>
</span></span><span class="line"><span class="cl"><span class="nt">&lt;/dependency&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="å¿«é€Ÿç”Ÿæˆ">å¿«é€Ÿç”Ÿæˆ</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="kd">public</span> <span class="kd">class</span> <span class="nc">FastAutoGeneratorTest</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">        <span class="c1">// è®¾ç½®æˆ‘ä»¬éœ€è¦åˆ›å»ºåœ¨å“ªçš„è·¯å¾„
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="n">String</span> <span class="n">path</span> <span class="o">=</span> <span class="s">&#34;/Users/luxiaogen/Documents/RoadTo2w/Java/å°šç¡…è°·/MyBatisPlus-2022/demo&#34;</span><span class="o">;</span>
</span></span><span class="line"><span class="cl">        <span class="c1">// è¿™é‡Œæˆ‘æ˜¯mysql8 5ç‰ˆæœ¬å¯ä»¥æ¢æˆ jdbc:mysql://localhost:3306/mybatis_plus?characterEncoding=utf-8&amp;useSSL=false
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="n">FastAutoGenerator</span><span class="o">.</span><span class="na">create</span><span class="o">(</span><span class="s">&#34;jdbc:mysql://localhost:3306/mybatis_plus?serverTimezone=GMT%2B8&amp;characterEncoding=utf-8&amp;useSSL=false&#34;</span><span class="o">,</span> <span class="s">&#34;root&#34;</span><span class="o">,</span> <span class="s">&#34;root&#34;</span><span class="o">)</span>
</span></span><span class="line"><span class="cl">                <span class="o">.</span><span class="na">globalConfig</span><span class="o">(</span><span class="n">builder</span> <span class="o">-&gt;</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">                    <span class="n">builder</span><span class="o">.</span><span class="na">author</span><span class="o">(</span><span class="s">&#34;atguigu&#34;</span><span class="o">)</span> <span class="c1">// è®¾ç½®ä½œè€…
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>                    <span class="c1">// .enableSwagger() // å¼€å¯ swagger æ¨¡å¼
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>                    <span class="o">.</span><span class="na">fileOverride</span><span class="o">()</span> <span class="c1">// è¦†ç›–å·²ç”Ÿæˆæ–‡ä»¶
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>                    <span class="o">.</span><span class="na">outputDir</span><span class="o">(</span><span class="n">path</span><span class="o">);</span> <span class="c1">// æŒ‡å®šè¾“å‡ºç›®å½•
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>                <span class="o">})</span>
</span></span><span class="line"><span class="cl">                <span class="o">.</span><span class="na">packageConfig</span><span class="o">(</span><span class="n">builder</span> <span class="o">-&gt;</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">                    <span class="n">builder</span><span class="o">.</span><span class="na">parent</span><span class="o">(</span><span class="s">&#34;com.atguigu&#34;</span><span class="o">)</span> <span class="c1">// è®¾ç½®çˆ¶åŒ…å
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>                            <span class="o">.</span><span class="na">moduleName</span><span class="o">(</span><span class="s">&#34;mybatisplus&#34;</span><span class="o">)</span> <span class="c1">// è®¾ç½®çˆ¶åŒ…æ¨¡å—å
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>                            <span class="o">.</span><span class="na">pathInfo</span><span class="o">(</span><span class="n">Collections</span><span class="o">.</span><span class="na">singletonMap</span><span class="o">(</span><span class="n">OutputFile</span><span class="o">.</span><span class="na">mapperXml</span><span class="o">,</span> <span class="n">path</span><span class="o">));</span> <span class="c1">// è®¾ç½®mapperXmlç”Ÿæˆè·¯å¾„
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>                <span class="o">})</span>
</span></span><span class="line"><span class="cl">                <span class="o">.</span><span class="na">strategyConfig</span><span class="o">(</span><span class="n">builder</span> <span class="o">-&gt;</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">                    <span class="n">builder</span><span class="o">.</span><span class="na">addInclude</span><span class="o">(</span><span class="s">&#34;t_user&#34;</span><span class="o">)</span> <span class="c1">// è®¾ç½®éœ€è¦ç”Ÿæˆçš„è¡¨å
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>                            <span class="o">.</span><span class="na">addTablePrefix</span><span class="o">(</span><span class="s">&#34;t_&#34;</span><span class="o">,</span> <span class="s">&#34;c_&#34;</span><span class="o">);</span> <span class="c1">// è®¾ç½®è¿‡æ»¤è¡¨å‰ç¼€
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>                <span class="o">}).</span><span class="na">templateEngine</span><span class="o">(</span><span class="k">new</span> <span class="n">FreemarkerTemplateEngine</span><span class="o">())</span> <span class="c1">// ä½¿ç”¨Freemarker å¼•æ“æ¨¡æ¿ï¼Œé»˜è®¤çš„æ˜¯Velocityå¼•æ“æ¨¡æ¿
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>                <span class="o">.</span><span class="na">execute</span><span class="o">();</span>
</span></span><span class="line"><span class="cl">    <span class="o">}</span>
</span></span><span class="line"><span class="cl"><span class="o">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>ç‚¹å‡»è¿è¡Œ</p>
<p><img src="https://s2.loli.net/2022/03/10/3pZNAJdo1Gfmshb.png"
	
	
	
	loading="lazy"
	
		alt="img"
	
	
></p>
<h2 id="å¤šæ•°æ®æº">å¤šæ•°æ®æº</h2>
<p>é€‚ç”¨äºå¤šç§åœºæ™¯:çº¯ç²¹å¤šåº“ã€ è¯»å†™åˆ†ç¦»ã€ ä¸€ä¸»å¤šä»ã€ æ··åˆæ¨¡å¼ç­‰ ç›®å‰æˆ‘ä»¬å°±æ¥æ¨¡æ‹Ÿä¸€ä¸ªçº¯ç²¹å¤šåº“çš„ä¸€ä¸ªåœºæ™¯ï¼Œå…¶ä»–åœºæ™¯ç±»ä¼¼</p>
<p>åœºæ™¯è¯´æ˜:</p>
<p>æˆ‘ä»¬åˆ›å»ºä¸¤ä¸ªåº“ï¼Œåˆ†åˆ«ä¸º:mybatis_plus(ä»¥å‰çš„åº“ä¸åŠ¨)ä¸mybatis_plus_1(æ–°å»º)ï¼Œå°† mybatis_plusåº“çš„productè¡¨ç§»åŠ¨åˆ°mybatis_plus_1åº“ï¼Œè¿™æ ·æ¯ä¸ªåº“ä¸€å¼ è¡¨ï¼Œé€šè¿‡ä¸€ä¸ªæµ‹è¯•ç”¨ä¾‹ åˆ†åˆ«è·å–ç”¨æˆ·æ•°æ®ä¸å•†å“æ•°æ®ï¼Œå¦‚æœè·å–åˆ°è¯´æ˜å¤šåº“æ¨¡æ‹ŸæˆåŠŸ</p>
<h3 id="åˆ›å»ºæ•°æ®åº“åŠè¡¨-1">åˆ›å»ºæ•°æ®åº“åŠè¡¨</h3>
<p>åˆ›å»ºæ•°æ®åº“mybatis_plus_1å’Œè¡¨product</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="line"><span class="cl"><span class="k">CREATE</span><span class="w"> </span><span class="k">DATABASE</span><span class="w"> </span><span class="o">`</span><span class="n">mybatis_plus_1</span><span class="o">`</span><span class="w"> </span><span class="cm">/*!40100 DEFAULT CHARACTER SET utf8mb4 */</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">use</span><span class="w"> </span><span class="o">`</span><span class="n">mybatis_plus_1</span><span class="o">`</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">product</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">(</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">id</span><span class="w"> </span><span class="nb">BIGINT</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="w"> </span><span class="k">COMMENT</span><span class="w"> </span><span class="s1">&#39;ä¸»é”®ID&#39;</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">name</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">30</span><span class="p">)</span><span class="w"> </span><span class="k">NULL</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">NULL</span><span class="w"> </span><span class="k">COMMENT</span><span class="w"> </span><span class="s1">&#39;å•†å“åç§°&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">price</span><span class="w"> </span><span class="nb">INT</span><span class="p">(</span><span class="mi">11</span><span class="p">)</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">COMMENT</span><span class="w"> </span><span class="s1">&#39;ä»·æ ¼&#39;</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">version</span><span class="w"> </span><span class="nb">INT</span><span class="p">(</span><span class="mi">11</span><span class="p">)</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">COMMENT</span><span class="w"> </span><span class="s1">&#39;ä¹è§‚é”ç‰ˆæœ¬å·&#39;</span><span class="p">,</span><span class="w"> </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="n">id</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">);</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><p>æ·»åŠ æµ‹è¯•æ•°æ®</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="line"><span class="cl"><span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n">product</span><span class="w"> </span><span class="p">(</span><span class="n">id</span><span class="p">,</span><span class="w"> </span><span class="n">NAME</span><span class="p">,</span><span class="w"> </span><span class="n">price</span><span class="p">)</span><span class="w"> </span><span class="k">VALUES</span><span class="w"> </span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;å¤–æ˜Ÿäººç¬”è®°æœ¬&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">100</span><span class="p">);</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><p>åˆ é™¤mybatis_plusåº“productè¡¨</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="line"><span class="cl"><span class="n">use</span><span class="w"> </span><span class="n">mybatis_plus</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">DROP</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="k">IF</span><span class="w"> </span><span class="k">EXISTS</span><span class="w"> </span><span class="n">product</span><span class="p">;</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><h3 id="å¼•å…¥ä¾èµ–-1">å¼•å…¥ä¾èµ–</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-xml" data-lang="xml"><span class="line"><span class="cl"><span class="c">&lt;!--MyBatis-pluså¯åŠ¨å™¨--&gt;</span>
</span></span><span class="line"><span class="cl"><span class="nt">&lt;dependency&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;groupId&gt;</span>com.baomidou<span class="nt">&lt;/groupId&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;artifactId&gt;</span>mybatis-plus-boot-starter<span class="nt">&lt;/artifactId&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;version&gt;</span>3.5.1<span class="nt">&lt;/version&gt;</span>
</span></span><span class="line"><span class="cl"><span class="nt">&lt;/dependency&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c">&lt;!--lombokç”¨äºç®€åŒ–å®ä½“ç±»å¼€å‘--&gt;</span>
</span></span><span class="line"><span class="cl"><span class="nt">&lt;dependency&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;groupId&gt;</span>org.projectlombok<span class="nt">&lt;/groupId&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;artifactId&gt;</span>lombok<span class="nt">&lt;/artifactId&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;optional&gt;</span>true<span class="nt">&lt;/optional&gt;</span>
</span></span><span class="line"><span class="cl"><span class="nt">&lt;/dependency&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c">&lt;!--mysqlé©±åŠ¨--&gt;</span>
</span></span><span class="line"><span class="cl"><span class="nt">&lt;dependency&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;groupId&gt;</span>mysql<span class="nt">&lt;/groupId&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;artifactId&gt;</span>mysql-connector-java<span class="nt">&lt;/artifactId&gt;</span>
</span></span><span class="line"><span class="cl"><span class="nt">&lt;/dependency&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c">&lt;!--å¤šæ•°æ®æºä¾èµ–--&gt;</span>
</span></span><span class="line"><span class="cl"><span class="nt">&lt;dependency&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;groupId&gt;</span>com.baomidou<span class="nt">&lt;/groupId&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;artifactId&gt;</span>dynamic-datasource-spring-boot-starter<span class="nt">&lt;/artifactId&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;version&gt;</span>3.5.0<span class="nt">&lt;/version&gt;</span>
</span></span><span class="line"><span class="cl"><span class="nt">&lt;/dependency&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="é…ç½®å¤šæ•°æ®æº">é…ç½®å¤šæ•°æ®æº</h3>
<p>è¯´æ˜:æ³¨é‡Šæ‰ä¹‹å‰çš„æ•°æ®åº“è¿æ¥ï¼Œæ·»åŠ æ–°é…ç½®</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nt">spring</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">datasource</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="c"># é…ç½®æ•°æ®æºä¿¡æ¯ datasource:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">dynamic</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="c"># è®¾ç½®é»˜è®¤çš„æ•°æ®æºæˆ–è€…æ•°æ®æºç»„,é»˜è®¤å€¼å³ä¸ºmaster</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">primary</span><span class="p">:</span><span class="w"> </span><span class="l">master</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="c"># ä¸¥æ ¼åŒ¹é…æ•°æ®æº,é»˜è®¤false.trueæœªåŒ¹é…åˆ°æŒ‡å®šæ•°æ®æºæ—¶æŠ›å¼‚å¸¸,falseä½¿ç”¨é»˜è®¤æ•°æ®æº</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">strict</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">datasource</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">master</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span><span class="nt">url</span><span class="p">:</span><span class="w"> </span><span class="l">jdbc:mysql://localhost:3306/mybatis_plus?serverTimezone=GMT%2B8&amp;characterEncoding=utf-8&amp;useSSL=false</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span><span class="nt">driver-class-name</span><span class="p">:</span><span class="w"> </span><span class="l">com.mysql.cj.jdbc.Driver</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span><span class="nt">username</span><span class="p">:</span><span class="w"> </span><span class="l">root</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span><span class="nt">password</span><span class="p">:</span><span class="w"> </span><span class="s1">&#39;root&#39;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">slave_1</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">           </span><span class="c"># æˆ‘çš„æ•°æ®åº“æ˜¯8.0.27 5ç‰ˆæœ¬çš„å¯ä»¥ä½¿ç”¨jdbc:mysql://localhost:3306/mybatis_plus?characterEncoding=utf-8&amp;useSSL=false</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span><span class="nt">url</span><span class="p">:</span><span class="w"> </span><span class="l">jdbc:mysql://localhost:3306/mybatis_plus_1?serverTimezone=GMT%2B8&amp;characterEncoding=utf-8&amp;useSSL=false</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span><span class="nt">driver-class-name</span><span class="p">:</span><span class="w"> </span><span class="l">com.mysql.cj.jdbc.Driver</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span><span class="nt">username</span><span class="p">:</span><span class="w"> </span><span class="l">root</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span><span class="nt">password</span><span class="p">:</span><span class="w"> </span><span class="s1">&#39;root&#39;</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><h3 id="åˆ›å»ºç”¨æˆ·service">åˆ›å»ºç”¨æˆ·service</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="kd">public</span> <span class="kd">interface</span> <span class="nc">UserService</span> <span class="kd">extends</span> <span class="n">IService</span><span class="o">&lt;</span><span class="n">User</span><span class="o">&gt;</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl"><span class="o">}</span>
</span></span><span class="line"><span class="cl"><span class="nd">@Service</span>
</span></span><span class="line"><span class="cl"><span class="nd">@DS</span><span class="o">(</span><span class="s">&#34;master&#34;</span><span class="o">)</span> <span class="c1">// æŒ‡å®šæ‰€æ“ä½œçš„æ•°æ®æº
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kd">public</span> <span class="kd">class</span> <span class="nc">UserServiceImpl</span> <span class="kd">extends</span> <span class="n">ServiceImpl</span><span class="o">&lt;</span><span class="n">UserMapper</span><span class="o">,</span> <span class="n">User</span><span class="o">&gt;</span> <span class="kd">implements</span> <span class="n">UserService</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="o">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="åˆ›å»ºå•†å“service">åˆ›å»ºå•†å“service</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="kd">public</span> <span class="kd">interface</span> <span class="nc">ProductService</span> <span class="kd">extends</span> <span class="n">IService</span><span class="o">&lt;</span><span class="n">Product</span><span class="o">&gt;</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl"><span class="o">}</span>
</span></span><span class="line"><span class="cl"><span class="nd">@Service</span>
</span></span><span class="line"><span class="cl"><span class="nd">@DS</span><span class="o">(</span><span class="s">&#34;slave_1&#34;</span><span class="o">)</span> <span class="c1">// è¦æ“ä½œçš„æ•°æ®æº
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kd">public</span> <span class="kd">class</span> <span class="nc">ProductServiceImpl</span> <span class="kd">extends</span> <span class="n">ServiceImpl</span><span class="o">&lt;</span><span class="n">ProductMapper</span><span class="o">,</span> <span class="n">Product</span><span class="o">&gt;</span> <span class="kd">implements</span> <span class="n">ProductService</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl"><span class="o">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="æµ‹è¯•-1">æµ‹è¯•</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="nd">@SpringBootTest</span>
</span></span><span class="line"><span class="cl"><span class="kd">class</span> <span class="nc">MybatisPlusDatasourceApplicationTests</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="nd">@Autowired</span>
</span></span><span class="line"><span class="cl">    <span class="kd">private</span> <span class="n">UserService</span> <span class="n">userService</span><span class="o">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="nd">@Autowired</span>
</span></span><span class="line"><span class="cl">    <span class="kd">private</span> <span class="n">ProductService</span> <span class="n">productService</span><span class="o">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="nd">@Test</span>
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">test</span><span class="o">()</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">        <span class="c1">// æµ‹è¯•
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">userService</span><span class="o">.</span><span class="na">getById</span><span class="o">(</span><span class="n">1L</span><span class="o">));</span>
</span></span><span class="line"><span class="cl">        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">productService</span><span class="o">.</span><span class="na">getById</span><span class="o">(</span><span class="n">1L</span><span class="o">));</span>
</span></span><span class="line"><span class="cl">    <span class="o">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="o">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>ç»“æœ:</p>
<p>1ã€éƒ½èƒ½é¡ºåˆ©è·å–å¯¹è±¡ï¼Œåˆ™æµ‹è¯•æˆåŠŸ</p>
<p>2ã€å¦‚æœæˆ‘ä»¬å®ç°è¯»å†™åˆ†ç¦»ï¼Œå°†å†™æ“ä½œæ–¹æ³•åŠ ä¸Šä¸»åº“æ•°æ®æºï¼Œè¯»æ“ä½œæ–¹æ³•åŠ ä¸Šä»åº“æ•°æ®æºï¼Œè‡ªåŠ¨åˆ‡æ¢ï¼Œæ˜¯ä¸æ˜¯å°±èƒ½å®ç°è¯»å†™åˆ†ç¦»?</p>
<h2 id="mybatisxæ’ä»¶">MyBatisXæ’ä»¶</h2>
<p>MyBatis-Plusä¸ºæˆ‘ä»¬æä¾›äº†å¼ºå¤§çš„mapperå’Œserviceæ¨¡æ¿ï¼Œèƒ½å¤Ÿå¤§å¤§çš„æé«˜å¼€å‘æ•ˆç‡</p>
<p>ä½†æ˜¯åœ¨çœŸæ­£å¼€å‘è¿‡ç¨‹ä¸­ï¼ŒMyBatis-Pluså¹¶ä¸èƒ½ä¸ºæˆ‘ä»¬è§£å†³æ‰€æœ‰é—®é¢˜ï¼Œä¾‹å¦‚ä¸€äº›å¤æ‚çš„SQLï¼Œå¤šè¡¨ è”æŸ¥ï¼Œæˆ‘ä»¬å°±éœ€è¦è‡ªå·±å»ç¼–å†™ä»£ç å’ŒSQLè¯­å¥ï¼Œæˆ‘ä»¬è¯¥å¦‚ä½•å¿«é€Ÿçš„è§£å†³è¿™ä¸ªé—®é¢˜å‘¢ï¼Œè¿™ä¸ªæ—¶å€™å¯ ä»¥ä½¿ç”¨MyBatisXæ’ä»¶</p>
<p>MyBatisXä¸€æ¬¾åŸºäº IDEA çš„å¿«é€Ÿå¼€å‘æ’ä»¶ï¼Œä¸ºæ•ˆç‡è€Œç”Ÿ</p>
<p><a class="link" href="https://baomidou.com/pages/ba5b24/"  target="_blank" rel="noopener"
    >MyBatisXæ’ä»¶ç”¨æ³•</a></p>
<p><img src="https://s2.loli.net/2022/03/10/PTcYvbHxAf789th.png"
	
	
	
	loading="lazy"
	
		alt="img"
	
	
></p>
<p><img src="https://cdn.nlark.com/yuque/0/2022/png/26045818/1646303471018-0b3f3e51-7b09-48db-a789-9798bcd70063.png"
	
	
	
	loading="lazy"
	
		alt="img"
	
	
></p>
<p><img src="https://s2.loli.net/2022/03/12/8ceCsV3QqjiGNkP.png"
	
	
	
	loading="lazy"
	
		alt="img"
	
	
></p>
<p><img src="https://cdn.nlark.com/yuque/0/2022/png/26045818/1646303542109-e450e33c-0529-4948-8591-4a0f17f8d62d.png"
	
	
	
	loading="lazy"
	
		alt="img"
	
	
></p>

</section>


    <footer class="article-footer">
    
    <section class="article-tags">
        
            <a href="/tags/mybatisplus/">MyBatisPlus</a>
        
    </section>


    
    <section class="article-copyright">
        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copyright" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="12" r="9" />
  <path d="M14.5 9a3.5 4 0 1 0 0 6" />
</svg>



        <span>Licensed under CC BY-NC-SA 4.0</span>
    </section>
    <section class="article-lastmod">
        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="12" r="9" />
  <polyline points="12 7 12 12 15 15" />
</svg>



        <span>
            æœ€åæ›´æ–°äº 2022å¹´3æœˆ17æ—¥ 12:24 CST
        </span>
    </section></footer>


    
</article>

    

    

<aside class="related-contents--wrapper">
    <h2 class="section-title">ç›¸å…³æ–‡ç« </h2>
    <div class="related-contents">
        <div class="flex article-list--tile">
            
                
<article class="has-image">
    <a href="/posts/mybatis-%E5%88%9D%E7%BA%A7%E7%AF%87/">
        
        
            <div class="article-image">
                
                    <img src="/18.png" loading="lazy" data-key="" data-hash="/18.png"/>
                
            </div>
        

        <div class="article-details">
            <h2 class="article-title">MyBatis åˆçº§ç¯‡</h2>
        </div>
    </a>
</article>
            
                
<article class="has-image">
    <a href="/posts/mybatis-%E5%AE%9E%E6%88%98%E7%AF%87/">
        
        
            <div class="article-image">
                
                    <img src="/20.jpg" loading="lazy" data-key="" data-hash="/20.jpg"/>
                
            </div>
        

        <div class="article-details">
            <h2 class="article-title">MyBatis å®æˆ˜ç¯‡</h2>
        </div>
    </a>
</article>
            
                
<article class="has-image">
    <a href="/posts/mybatis-%E9%AB%98%E7%BA%A7%E7%AF%87/">
        
        
            <div class="article-image">
                
                    <img src="/19.jpg" loading="lazy" data-key="" data-hash="/19.jpg"/>
                
            </div>
        

        <div class="article-details">
            <h2 class="article-title">MyBatis é«˜çº§ç¯‡</h2>
        </div>
    </a>
</article>
            
        </div>
    </div>
</aside>

     
    
        
    <script src='//cdn.jsdelivr.net/npm/@waline/client/dist/Waline.min.js'></script>
<div id="waline" class="waline-container"></div>
<style>
    .waline-container {
        background-color: var(--card-background);
        border-radius: var(--card-border-radius);
        box-shadow: var(--shadow-l1);
        padding: var(--card-padding);
    }
    .waline-container .vcount {
        color: var(--card-text-color-main);
    }
</style><script>
    
    new Waline({"dark":"html[data-scheme=\"dark\"]","el":"#waline","emoji":["https://cdn.jsdelivr.net/gh/walinejs/emojis@1.0.0/bilibili","https://cdn.jsdelivr.net/gh/walinejs/emojis/qq","https://cdn.jsdelivr.net/gh/walinejs/emojis@1.0.0/tieba","https://cdn.jsdelivr.net/gh/walinejs/emojis@1.0.0/weibo","https://cdn.jsdelivr.net/gh/walinejs/emojis@1.0.0/tw-emoji","https://cdn.jsdelivr.net/gh/walinejs/emojis@1.0.0/alus"],"lang":"zh-CN","locale":{"admin":"Admin"},"requiredMeta":["name","email","url"],"serverURL":"https://blog-api-2w7xkqg6y-ahaomin.vercel.app/","visitor":true});
</script>

    

    <footer class="site-footer">
    <section class="copyright">
        &copy; 
        
            2020 - 
        
        2022 ahao&#39;s Blog
    </section>
    
    <section class="powerby">
        Built with <a href="https://gohugo.io/" target="_blank" rel="noopener">Hugo</a> <br />
        ä¸»é¢˜ <b><a href="https://github.com/CaiJimmy/hugo-theme-stack" target="_blank" rel="noopener" data-version="3.10.0">Stack</a></b> ç”± <a href="https://jimmycai.com" target="_blank" rel="noopener">Jimmy</a> è®¾è®¡
    </section>
</footer>


    
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    
    <div class="pswp__bg"></div>

    
    <div class="pswp__scroll-wrap">

        
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                
                
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                        <div class="pswp__preloader__cut">
                            <div class="pswp__preloader__donut"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div>
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div><script 
                src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js"integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo="crossorigin="anonymous"
                defer
                >
            </script><script 
                src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js"integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU="crossorigin="anonymous"
                defer
                >
            </script><link 
                rel="stylesheet" 
                href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.css"integrity="sha256-c0uckgykQ9v5k&#43;IqViZOZKc47Jn7KQil4/MP3ySA3F8="crossorigin="anonymous"
            ><link 
                rel="stylesheet" 
                href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.css"integrity="sha256-SBLU4vv6CA6lHsZ1XyTdhyjJxCjPif/TRkjnsyGAGnE="crossorigin="anonymous"
            >

            </main>
    <aside class="sidebar right-sidebar sticky">
        
            
                
    <section class="widget archives">
        <div class="widget-icon">
            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 10h16M4 14h16M4 18h16"></path></svg>
        </div>
        <h2 class="widget-title section-title">ç›®å½•</h2>
        
        <div class="widget--toc">
            <nav id="TableOfContents">
  <ol>
    <li><a href="#mybatis-plusç®€ä»‹">MyBatis-Plusç®€ä»‹</a>
      <ol>
        <li><a href="#ç®€ä»‹">ç®€ä»‹</a></li>
        <li><a href="#ç‰¹æ€§">ç‰¹æ€§</a></li>
        <li><a href="#æ”¯æŒæ•°æ®åº“">æ”¯æŒæ•°æ®åº“</a></li>
        <li><a href="#æ¡†æ¶ç»“æ„">æ¡†æ¶ç»“æ„</a></li>
        <li><a href="#ä»£ç æ–‡æ¡£åŠæ–‡æ¡£åœ°å€">ä»£ç æ–‡æ¡£åŠæ–‡æ¡£åœ°å€</a></li>
      </ol>
    </li>
    <li><a href="#å…¥é—¨æ¡ˆä¾‹">å…¥é—¨æ¡ˆä¾‹</a>
      <ol>
        <li><a href="#å¼€å‘ç¯å¢ƒ">å¼€å‘ç¯å¢ƒ</a></li>
        <li><a href="#åˆ›å»ºæ•°æ®åº“åŠè¡¨">åˆ›å»ºæ•°æ®åº“åŠè¡¨</a>
          <ol>
            <li><a href="#aåˆ›å»ºè¡¨">a&gt;åˆ›å»ºè¡¨</a></li>
            <li><a href="#bæ·»åŠ æ•°æ®">b&gt;æ·»åŠ æ•°æ®</a></li>
          </ol>
        </li>
        <li><a href="#åˆ›å»ºspringbootå·¥ç¨‹">åˆ›å»ºSpringBootå·¥ç¨‹</a>
          <ol>
            <li><a href="#aåˆå§‹åŒ–å·¥ç¨‹">a&gt;åˆå§‹åŒ–å·¥ç¨‹</a></li>
            <li><a href="#bå¼•å…¥ä¾èµ–">b&gt;å¼•å…¥ä¾èµ–</a></li>
            <li><a href="#cideaä¸­å®‰è£…lombokæ’ä»¶">c&gt;ideaä¸­å®‰è£…lombokæ’ä»¶</a></li>
          </ol>
        </li>
        <li><a href="#ç¼–å†™ä»£ç ">ç¼–å†™ä»£ç </a>
          <ol>
            <li><a href="#aé…ç½®applicationyml">a&gt;é…ç½®application.yml</a></li>
            <li><a href="#æ³¨æ„">æ³¨æ„ï¼š</a></li>
            <li><a href="#bå¯åŠ¨ç±»">b&gt;å¯åŠ¨ç±»</a></li>
            <li><a href="#cæ·»åŠ å®ä½“">c&gt;æ·»åŠ å®ä½“</a></li>
            <li><a href="#dæ·»åŠ mapper">d&gt;æ·»åŠ mapper</a></li>
            <li><a href="#eæµ‹è¯•">e&gt;æµ‹è¯•</a></li>
            <li><a href="#ç»“æœ">ç»“æœ</a></li>
            <li><a href="#æ³¨æ„-1">æ³¨æ„ï¼š</a></li>
            <li><a href="#fæ·»åŠ æ—¥å¿—">f&gt;æ·»åŠ æ—¥å¿—</a></li>
          </ol>
        </li>
      </ol>
    </li>
    <li><a href="#åŸºæœ¬crud">åŸºæœ¬CRUD</a>
      <ol>
        <li><a href="#basemapper">BaseMapper</a></li>
        <li><a href="#æ’å…¥">æ’å…¥</a></li>
        <li><a href="#åˆ é™¤">åˆ é™¤</a>
          <ol>
            <li><a href="#aé€šè¿‡idåˆ é™¤è®°å½•">a&gt;é€šè¿‡idåˆ é™¤è®°å½•</a></li>
            <li><a href="#bé€šè¿‡idæ‰¹é‡åˆ é™¤è®°å½•">b&gt;é€šè¿‡idæ‰¹é‡åˆ é™¤è®°å½•</a></li>
            <li><a href="#cé€šè¿‡mapæ¡ä»¶åˆ é™¤è®°å½•">c&gt;é€šè¿‡mapæ¡ä»¶åˆ é™¤è®°å½•</a></li>
          </ol>
        </li>
        <li><a href="#ä¿®æ”¹">ä¿®æ”¹</a></li>
        <li><a href="#æŸ¥è¯¢">æŸ¥è¯¢</a>
          <ol>
            <li><a href="#aæ ¹æ®idæŸ¥è¯¢ç”¨æˆ·ä¿¡æ¯">a&gt;æ ¹æ®idæŸ¥è¯¢ç”¨æˆ·ä¿¡æ¯</a></li>
            <li><a href="#bæ ¹æ®å¤šä¸ªidæŸ¥è¯¢å¤šä¸ªç”¨æˆ·ä¿¡æ¯">b&gt;æ ¹æ®å¤šä¸ªidæŸ¥è¯¢å¤šä¸ªç”¨æˆ·ä¿¡æ¯</a></li>
            <li><a href="#cé€šè¿‡mapæ¡ä»¶æŸ¥è¯¢ç”¨æˆ·ä¿¡æ¯">c&gt;é€šè¿‡mapæ¡ä»¶æŸ¥è¯¢ç”¨æˆ·ä¿¡æ¯</a></li>
            <li><a href="#d-æŸ¥è¯¢æ‰€æœ‰æ•°æ®">d&gt; æŸ¥è¯¢æ‰€æœ‰æ•°æ®</a></li>
            <li><a href="#e-è‡ªå®šä¹‰åŠŸèƒ½">e&gt; è‡ªå®šä¹‰åŠŸèƒ½</a></li>
          </ol>
        </li>
        <li><a href="#é€šç”¨service">é€šç”¨Service</a>
          <ol>
            <li><a href="#aiservice">a&gt;IService</a></li>
            <li><a href="#båˆ›å»ºserviceæ¥å£å’Œå®ç°ç±»">b&gt;åˆ›å»ºServiceæ¥å£å’Œå®ç°ç±»</a></li>
            <li><a href="#cæµ‹è¯•æŸ¥è¯¢è®°å½•æ•°">c&gt;æµ‹è¯•æŸ¥è¯¢è®°å½•æ•°</a></li>
            <li><a href="#dæµ‹è¯•æ‰¹é‡æ’å…¥">d&gt;æµ‹è¯•æ‰¹é‡æ’å…¥</a></li>
          </ol>
        </li>
      </ol>
    </li>
    <li><a href="#å¸¸ç”¨æ³¨è§£">å¸¸ç”¨æ³¨è§£</a>
      <ol>
        <li><a href="#tablename">@TableName</a>
          <ol>
            <li><a href="#aé—®é¢˜">a&gt;é—®é¢˜</a></li>
            <li><a href="#bé€šè¿‡tablename-è§£å†³é—®é¢˜">b&gt;é€šè¿‡@TableName è§£å†³é—®é¢˜</a></li>
            <li><a href="#cé€šè¿‡å…¨å±€é…ç½®è§£å†³é—®é¢˜">c&gt;é€šè¿‡å…¨å±€é…ç½®è§£å†³é—®é¢˜</a></li>
          </ol>
        </li>
        <li><a href="#tableld">@Tableld</a>
          <ol>
            <li><a href="#aé—®é¢˜-1">a&gt;é—®é¢˜</a></li>
            <li><a href="#bé€šè¿‡tableidè§£å†³é—®é¢˜"><strong>b&gt;é€šè¿‡@TableIdè§£å†³é—®é¢˜</strong></a></li>
            <li><a href="#ctableidçš„valueå±æ€§"><strong>c&gt;@TableIdçš„valueå±æ€§</strong></a></li>
            <li><a href="#dtableldçš„typeå±æ€§">d&gt;@Tableldçš„typeå±æ€§</a></li>
            <li><a href="#eé›ªèŠ±ç®—æ³•">e&gt;é›ªèŠ±ç®—æ³•</a></li>
          </ol>
        </li>
        <li><a href="#tablefield">@TableField</a>
          <ol>
            <li><a href="#aæƒ…å†µ1">a&gt;æƒ…å†µ1</a></li>
            <li><a href="#aæƒ…å†µ2">a&gt;æƒ…å†µ2</a></li>
          </ol>
        </li>
        <li><a href="#tablelogic">@TableLogic</a>
          <ol>
            <li><a href="#aé€»è¾‘åˆ é™¤">a&gt;é€»è¾‘åˆ é™¤</a></li>
            <li><a href="#bå®ç°é€»è¾‘åˆ é™¤">b&gt;å®ç°é€»è¾‘åˆ é™¤</a></li>
          </ol>
        </li>
      </ol>
    </li>
    <li><a href="#æ¡ä»¶æ„é€ å™¨å’Œå¸¸ç”¨æ¥å£">æ¡ä»¶æ„é€ å™¨å’Œå¸¸ç”¨æ¥å£</a>
      <ol>
        <li><a href="#wrapperä»‹ç»">wrapperä»‹ç»</a></li>
        <li><a href="#querywrapper">QueryWrapper</a>
          <ol>
            <li><a href="#aä¾‹1ç»„è£…æŸ¥è¯¢æ¡ä»¶">a&gt;ä¾‹1ï¼šç»„è£…æŸ¥è¯¢æ¡ä»¶</a></li>
            <li><a href="#bä¾‹2ç»„è£…æ’åºæ¡ä»¶">b&gt;ä¾‹2ï¼šç»„è£…æ’åºæ¡ä»¶</a></li>
            <li><a href="#cä¾‹3ç»„è£…åˆ é™¤æ¡ä»¶">c&gt;ä¾‹3ï¼šç»„è£…åˆ é™¤æ¡ä»¶</a></li>
            <li><a href="#dä¾‹4æ¡ä»¶çš„ä¼˜å…ˆçº§">d&gt;ä¾‹4ï¼šæ¡ä»¶çš„ä¼˜å…ˆçº§</a></li>
            <li><a href="#eä¾‹5ç»„è£…selectå­å¥">e&gt;ä¾‹5ï¼šç»„è£…selectå­å¥</a></li>
            <li><a href="#fä¾‹6å®ç°å­æŸ¥è¯¢">f&gt;ä¾‹6ï¼šå®ç°å­æŸ¥è¯¢</a></li>
          </ol>
        </li>
        <li><a href="#updatewrapper">UpdateWrapper</a></li>
        <li><a href="#condition">Condition</a>
          <ol>
            <li><a href="#æ€è·¯ä¸€">æ€è·¯ä¸€ï¼š</a></li>
            <li><a href="#æ€è·¯äºŒ">æ€è·¯äºŒï¼š</a></li>
          </ol>
        </li>
        <li><a href="#lambdaquerywrapper">LambdaQueryWrapper</a></li>
        <li><a href="#lambdaupdatewrapper">LambdaUpdateWrapper</a></li>
      </ol>
    </li>
    <li><a href="#æ’ä»¶">æ’ä»¶</a>
      <ol>
        <li><a href="#åˆ†é¡µæ’ä»¶">åˆ†é¡µæ’ä»¶</a>
          <ol>
            <li><a href="#aæ·»åŠ é…ç½®ç±»">a&gt;æ·»åŠ é…ç½®ç±»</a></li>
            <li><a href="#bæµ‹è¯•">b&gt;æµ‹è¯•</a></li>
          </ol>
        </li>
        <li><a href="#xmlè‡ªå®šä¹‰åˆ†é¡µ">xmlè‡ªå®šä¹‰åˆ†é¡µ</a>
          <ol>
            <li><a href="#ausermapperä¸­å®šä¹‰æ¥å£æ–¹æ³•">a&gt;UserMapperä¸­å®šä¹‰æ¥å£æ–¹æ³•</a></li>
            <li><a href="#busermapperxmlä¸­ç¼–å†™sql">b&gt;UserMapper.xmlä¸­ç¼–å†™SQL</a></li>
            <li><a href="#cæµ‹è¯•">c&gt;æµ‹è¯•</a></li>
          </ol>
        </li>
      </ol>
    </li>
    <li><a href="#ä¹è§‚é”">ä¹è§‚é”</a>
      <ol>
        <li><a href="#aåœºæ™¯">a&gt;åœºæ™¯</a></li>
        <li><a href="#bä¹è§‚é”å’Œæ‚²è§‚é”">b&gt;ä¹è§‚é”å’Œæ‚²è§‚é”</a></li>
        <li><a href="#cæ¨¡æ‹Ÿä¿®æ”¹å†²çª">c&gt;æ¨¡æ‹Ÿä¿®æ”¹å†²çª</a>
          <ol>
            <li><a href="#æ•°æ®åº“ä¸­å¢åŠ å•†å“è¡¨">æ•°æ®åº“ä¸­å¢åŠ å•†å“è¡¨</a></li>
            <li><a href="#æ·»åŠ æ•°æ®">æ·»åŠ æ•°æ®</a></li>
            <li><a href="#æ·»åŠ å®ä½“">æ·»åŠ å®ä½“</a></li>
            <li><a href="#æ·»åŠ mapper">æ·»åŠ mapper</a></li>
            <li><a href="#æµ‹è¯•">æµ‹è¯•</a></li>
          </ol>
        </li>
        <li><a href="#dä¹è§‚é”å®ç°æµç¨‹">d&gt;ä¹è§‚é”å®ç°æµç¨‹</a></li>
        <li><a href="#emybatis-pluså®ç°ä¹è§‚é”">e&gt;MyBatis-Pluså®ç°ä¹è§‚é”</a>
          <ol>
            <li><a href="#ä¿®æ”¹å®ä½“ç±»">ä¿®æ”¹å®ä½“ç±»</a></li>
            <li><a href="#æ·»åŠ ä¹è§‚é”æ’ä»¶é…ç½®">æ·»åŠ ä¹è§‚é”æ’ä»¶é…ç½®</a></li>
            <li><a href="#æµ‹è¯•ä¿®æ”¹å†²çª">æµ‹è¯•ä¿®æ”¹å†²çª</a></li>
            <li><a href="#ä¼˜åŒ–æµç¨‹">ä¼˜åŒ–æµç¨‹</a></li>
          </ol>
        </li>
      </ol>
    </li>
    <li><a href="#é€šç”¨æšä¸¾">é€šç”¨æšä¸¾</a>
      <ol>
        <li><a href="#aæ•°æ®åº“è¡¨æ·»åŠ å­—æ®µsex">a&gt;æ•°æ®åº“è¡¨æ·»åŠ å­—æ®µsex</a></li>
        <li><a href="#båˆ›å»ºé€šè¿‡æšä¸¾ç±»å‹">b&gt;åˆ›å»ºé€šè¿‡æšä¸¾ç±»å‹</a></li>
        <li><a href="#cé…ç½®æ‰«æé€šè¿‡æšä¸¾">c&gt;é…ç½®æ‰«æé€šè¿‡æšä¸¾</a></li>
        <li><a href="#dæµ‹è¯•">d&gt;æµ‹è¯•</a></li>
      </ol>
    </li>
    <li><a href="#ä»£ç ç”Ÿæˆå™¨">ä»£ç ç”Ÿæˆå™¨</a>
      <ol>
        <li><a href="#å¼•å…¥ä¾èµ–">å¼•å…¥ä¾èµ–</a></li>
        <li><a href="#å¿«é€Ÿç”Ÿæˆ">å¿«é€Ÿç”Ÿæˆ</a></li>
      </ol>
    </li>
    <li><a href="#å¤šæ•°æ®æº">å¤šæ•°æ®æº</a>
      <ol>
        <li><a href="#åˆ›å»ºæ•°æ®åº“åŠè¡¨-1">åˆ›å»ºæ•°æ®åº“åŠè¡¨</a></li>
        <li><a href="#å¼•å…¥ä¾èµ–-1">å¼•å…¥ä¾èµ–</a></li>
        <li><a href="#é…ç½®å¤šæ•°æ®æº">é…ç½®å¤šæ•°æ®æº</a></li>
        <li><a href="#åˆ›å»ºç”¨æˆ·service">åˆ›å»ºç”¨æˆ·service</a></li>
        <li><a href="#åˆ›å»ºå•†å“service">åˆ›å»ºå•†å“service</a></li>
        <li><a href="#æµ‹è¯•-1">æµ‹è¯•</a></li>
      </ol>
    </li>
    <li><a href="#mybatisxæ’ä»¶">MyBatisXæ’ä»¶</a></li>
  </ol>
</nav>
        </div>
    </section>

            
        
    </aside>


        </div>
        <script 
                src="https://cdn.jsdelivr.net/npm/node-vibrant@3.1.5/dist/vibrant.min.js"integrity="sha256-5NovOZc4iwiAWTYIFiIM7DxKUXKWvpVEuMEPLzcm5/g="crossorigin="anonymous"
                
                >
            </script><script type="text/javascript" src="/ts/main.js" defer></script>
<script>
    (function () {
        const customFont = document.createElement('link');
        customFont.href = "https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap";

        customFont.type = "text/css";
        customFont.rel = "stylesheet";

        document.head.appendChild(customFont);
    }());
</script>

    </body>
</html>
