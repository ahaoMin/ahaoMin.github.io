<!DOCTYPE html>
<html lang="zh-cn" dir="ltr">
    <head><meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1'><meta name='description' content='ArrayListÊ∫êÁ†Å&#43;Êâ©ÂÆπÊú∫Âà∂ÂàÜÊûê ArrayList ÁÆÄ‰ªã ArrayList ÁöÑÂ∫ïÂ±ÇÊòØÊï∞ÁªÑÈòüÂàóÔºåÁõ∏ÂΩì‰∫éÂä®ÊÄÅÊï∞ÁªÑ„ÄÇ‰∏é Java ‰∏≠ÁöÑÊï∞ÁªÑÁõ∏ÊØîÔºåÂÆÉÁöÑÂÆπÈáèËÉΩÂä®ÊÄÅÂ¢ûÈïø„ÄÇÂú®Ê∑ªÂä†Â§ßÈáèÂÖÉÁ¥†ÂâçÔºåÂ∫îÁî®Á®ãÂ∫èÂèØ‰ª•‰ΩøÁî®ensureCapacityÊìç‰ΩúÊù•Â¢ûÂä† ArrayList ÂÆû‰æãÁöÑÂÆπÈáè„ÄÇËøôÂèØ‰ª•ÂáèÂ∞ëÈÄíÂ¢ûÂºèÂÜçÂàÜÈÖçÁöÑÊï∞Èáè„ÄÇ
ArrayListÁªßÊâø‰∫é AbstractList ÔºåÂÆûÁé∞‰∫Ü List, RandomAccess, Cloneable, java.io.Serializable Ëøô‰∫õÊé•Âè£„ÄÇ
1 2 3 4  public class ArrayList&amp;lt;E&amp;gt; extends AbstractList&amp;lt;E&amp;gt; implements List&amp;lt;E&amp;gt;, RandomAccess, Cloneable, java.io.Serializable{ }    RandomAccess ÊòØ‰∏Ä‰∏™Ê†áÂøóÊé•Âè£ÔºåË°®ÊòéÂÆûÁé∞Ëøô‰∏™Ëøô‰∏™Êé•Âè£ÁöÑ List ÈõÜÂêàÊòØÊîØÊåÅÂø´ÈÄüÈöèÊú∫ËÆøÈóÆÁöÑ„ÄÇÂú® ArrayList ‰∏≠ÔºåÊàë‰ª¨Âç≥ÂèØ‰ª•ÈÄöËøáÂÖÉÁ¥†ÁöÑÂ∫èÂè∑Âø´ÈÄüËé∑ÂèñÂÖÉÁ¥†ÂØπË±°ÔºåËøôÂ∞±ÊòØÂø´ÈÄüÈöèÊú∫ËÆøÈóÆ„ÄÇ ArrayList ÂÆûÁé∞‰∫Ü Cloneable Êé•Âè£ ÔºåÂç≥Ë¶ÜÁõñ‰∫ÜÂáΩÊï∞clone()ÔºåËÉΩË¢´ÂÖãÈöÜ„ÄÇ ArrayList ÂÆûÁé∞‰∫Ü java.io.SerializableÊé•Âè£ÔºåËøôÊÑèÂë≥ÁùÄArrayListÊîØÊåÅÂ∫èÂàóÂåñÔºåËÉΩÈÄöËøáÂ∫èÂàóÂåñÂéª‰º†Ëæì„ÄÇ  Arraylist Âíå Vector ÁöÑÂå∫Âà´?  ArrayList ÊòØ List ÁöÑ‰∏ªË¶ÅÂÆûÁé∞Á±ªÔºåÂ∫ïÂ±Ç‰ΩøÁî® Object[ ]Â≠òÂÇ®ÔºåÈÄÇÁî®‰∫éÈ¢ëÁπÅÁöÑÊü•ÊâæÂ∑•‰ΩúÔºåÁ∫øÁ®ã‰∏çÂÆâÂÖ® Ôºõ Vector ÊòØ List ÁöÑÂè§ËÄÅÂÆûÁé∞Á±ªÔºåÂ∫ïÂ±Ç‰ΩøÁî® Object[ ]Â≠òÂÇ®ÔºåÁ∫øÁ®ãÂÆâÂÖ®ÁöÑ„ÄÇ  Arraylist ‰∏é LinkedList Âå∫Âà´?'><title>ArrayListÊ∫êÁ†Å&#43;Êâ©ÂÆπÊú∫Âà∂ÂàÜÊûê</title>

<link rel='canonical' href='https://ahao.ink/posts/arraylist%E6%BA%90%E7%A0%81-%E6%89%A9%E5%AE%B9%E6%9C%BA%E5%88%B6%E5%88%86%E6%9E%90/'>

<link rel="stylesheet" href="/scss/style.min.baba905ab2d1209de74a1930c487a8a663c37860af6aa1c26588d298bf620306.css"><meta property='og:title' content='ArrayListÊ∫êÁ†Å&#43;Êâ©ÂÆπÊú∫Âà∂ÂàÜÊûê'>
<meta property='og:description' content='ArrayListÊ∫êÁ†Å&#43;Êâ©ÂÆπÊú∫Âà∂ÂàÜÊûê ArrayList ÁÆÄ‰ªã ArrayList ÁöÑÂ∫ïÂ±ÇÊòØÊï∞ÁªÑÈòüÂàóÔºåÁõ∏ÂΩì‰∫éÂä®ÊÄÅÊï∞ÁªÑ„ÄÇ‰∏é Java ‰∏≠ÁöÑÊï∞ÁªÑÁõ∏ÊØîÔºåÂÆÉÁöÑÂÆπÈáèËÉΩÂä®ÊÄÅÂ¢ûÈïø„ÄÇÂú®Ê∑ªÂä†Â§ßÈáèÂÖÉÁ¥†ÂâçÔºåÂ∫îÁî®Á®ãÂ∫èÂèØ‰ª•‰ΩøÁî®ensureCapacityÊìç‰ΩúÊù•Â¢ûÂä† ArrayList ÂÆû‰æãÁöÑÂÆπÈáè„ÄÇËøôÂèØ‰ª•ÂáèÂ∞ëÈÄíÂ¢ûÂºèÂÜçÂàÜÈÖçÁöÑÊï∞Èáè„ÄÇ
ArrayListÁªßÊâø‰∫é AbstractList ÔºåÂÆûÁé∞‰∫Ü List, RandomAccess, Cloneable, java.io.Serializable Ëøô‰∫õÊé•Âè£„ÄÇ
1 2 3 4  public class ArrayList&amp;lt;E&amp;gt; extends AbstractList&amp;lt;E&amp;gt; implements List&amp;lt;E&amp;gt;, RandomAccess, Cloneable, java.io.Serializable{ }    RandomAccess ÊòØ‰∏Ä‰∏™Ê†áÂøóÊé•Âè£ÔºåË°®ÊòéÂÆûÁé∞Ëøô‰∏™Ëøô‰∏™Êé•Âè£ÁöÑ List ÈõÜÂêàÊòØÊîØÊåÅÂø´ÈÄüÈöèÊú∫ËÆøÈóÆÁöÑ„ÄÇÂú® ArrayList ‰∏≠ÔºåÊàë‰ª¨Âç≥ÂèØ‰ª•ÈÄöËøáÂÖÉÁ¥†ÁöÑÂ∫èÂè∑Âø´ÈÄüËé∑ÂèñÂÖÉÁ¥†ÂØπË±°ÔºåËøôÂ∞±ÊòØÂø´ÈÄüÈöèÊú∫ËÆøÈóÆ„ÄÇ ArrayList ÂÆûÁé∞‰∫Ü Cloneable Êé•Âè£ ÔºåÂç≥Ë¶ÜÁõñ‰∫ÜÂáΩÊï∞clone()ÔºåËÉΩË¢´ÂÖãÈöÜ„ÄÇ ArrayList ÂÆûÁé∞‰∫Ü java.io.SerializableÊé•Âè£ÔºåËøôÊÑèÂë≥ÁùÄArrayListÊîØÊåÅÂ∫èÂàóÂåñÔºåËÉΩÈÄöËøáÂ∫èÂàóÂåñÂéª‰º†Ëæì„ÄÇ  Arraylist Âíå Vector ÁöÑÂå∫Âà´?  ArrayList ÊòØ List ÁöÑ‰∏ªË¶ÅÂÆûÁé∞Á±ªÔºåÂ∫ïÂ±Ç‰ΩøÁî® Object[ ]Â≠òÂÇ®ÔºåÈÄÇÁî®‰∫éÈ¢ëÁπÅÁöÑÊü•ÊâæÂ∑•‰ΩúÔºåÁ∫øÁ®ã‰∏çÂÆâÂÖ® Ôºõ Vector ÊòØ List ÁöÑÂè§ËÄÅÂÆûÁé∞Á±ªÔºåÂ∫ïÂ±Ç‰ΩøÁî® Object[ ]Â≠òÂÇ®ÔºåÁ∫øÁ®ãÂÆâÂÖ®ÁöÑ„ÄÇ  Arraylist ‰∏é LinkedList Âå∫Âà´?'>
<meta property='og:url' content='https://ahao.ink/posts/arraylist%E6%BA%90%E7%A0%81-%E6%89%A9%E5%AE%B9%E6%9C%BA%E5%88%B6%E5%88%86%E6%9E%90/'>
<meta property='og:site_name' content='ahao&#39;s Blog'>
<meta property='og:type' content='article'><meta property='article:section' content='Post' /><meta property='article:tag' content='Ê∫êÁ†ÅÂàÜÊûê' /><meta property='article:published_time' content='2021-04-12T13:36:41&#43;00:00'/><meta property='article:modified_time' content='2022-03-18T08:28:31&#43;00:00'/><meta property='og:image' content='https://ahao.ink/6.jpg' />
<meta name="twitter:title" content="ArrayListÊ∫êÁ†Å&#43;Êâ©ÂÆπÊú∫Âà∂ÂàÜÊûê">
<meta name="twitter:description" content="ArrayListÊ∫êÁ†Å&#43;Êâ©ÂÆπÊú∫Âà∂ÂàÜÊûê ArrayList ÁÆÄ‰ªã ArrayList ÁöÑÂ∫ïÂ±ÇÊòØÊï∞ÁªÑÈòüÂàóÔºåÁõ∏ÂΩì‰∫éÂä®ÊÄÅÊï∞ÁªÑ„ÄÇ‰∏é Java ‰∏≠ÁöÑÊï∞ÁªÑÁõ∏ÊØîÔºåÂÆÉÁöÑÂÆπÈáèËÉΩÂä®ÊÄÅÂ¢ûÈïø„ÄÇÂú®Ê∑ªÂä†Â§ßÈáèÂÖÉÁ¥†ÂâçÔºåÂ∫îÁî®Á®ãÂ∫èÂèØ‰ª•‰ΩøÁî®ensureCapacityÊìç‰ΩúÊù•Â¢ûÂä† ArrayList ÂÆû‰æãÁöÑÂÆπÈáè„ÄÇËøôÂèØ‰ª•ÂáèÂ∞ëÈÄíÂ¢ûÂºèÂÜçÂàÜÈÖçÁöÑÊï∞Èáè„ÄÇ
ArrayListÁªßÊâø‰∫é AbstractList ÔºåÂÆûÁé∞‰∫Ü List, RandomAccess, Cloneable, java.io.Serializable Ëøô‰∫õÊé•Âè£„ÄÇ
1 2 3 4  public class ArrayList&amp;lt;E&amp;gt; extends AbstractList&amp;lt;E&amp;gt; implements List&amp;lt;E&amp;gt;, RandomAccess, Cloneable, java.io.Serializable{ }    RandomAccess ÊòØ‰∏Ä‰∏™Ê†áÂøóÊé•Âè£ÔºåË°®ÊòéÂÆûÁé∞Ëøô‰∏™Ëøô‰∏™Êé•Âè£ÁöÑ List ÈõÜÂêàÊòØÊîØÊåÅÂø´ÈÄüÈöèÊú∫ËÆøÈóÆÁöÑ„ÄÇÂú® ArrayList ‰∏≠ÔºåÊàë‰ª¨Âç≥ÂèØ‰ª•ÈÄöËøáÂÖÉÁ¥†ÁöÑÂ∫èÂè∑Âø´ÈÄüËé∑ÂèñÂÖÉÁ¥†ÂØπË±°ÔºåËøôÂ∞±ÊòØÂø´ÈÄüÈöèÊú∫ËÆøÈóÆ„ÄÇ ArrayList ÂÆûÁé∞‰∫Ü Cloneable Êé•Âè£ ÔºåÂç≥Ë¶ÜÁõñ‰∫ÜÂáΩÊï∞clone()ÔºåËÉΩË¢´ÂÖãÈöÜ„ÄÇ ArrayList ÂÆûÁé∞‰∫Ü java.io.SerializableÊé•Âè£ÔºåËøôÊÑèÂë≥ÁùÄArrayListÊîØÊåÅÂ∫èÂàóÂåñÔºåËÉΩÈÄöËøáÂ∫èÂàóÂåñÂéª‰º†Ëæì„ÄÇ  Arraylist Âíå Vector ÁöÑÂå∫Âà´?  ArrayList ÊòØ List ÁöÑ‰∏ªË¶ÅÂÆûÁé∞Á±ªÔºåÂ∫ïÂ±Ç‰ΩøÁî® Object[ ]Â≠òÂÇ®ÔºåÈÄÇÁî®‰∫éÈ¢ëÁπÅÁöÑÊü•ÊâæÂ∑•‰ΩúÔºåÁ∫øÁ®ã‰∏çÂÆâÂÖ® Ôºõ Vector ÊòØ List ÁöÑÂè§ËÄÅÂÆûÁé∞Á±ªÔºåÂ∫ïÂ±Ç‰ΩøÁî® Object[ ]Â≠òÂÇ®ÔºåÁ∫øÁ®ãÂÆâÂÖ®ÁöÑ„ÄÇ  Arraylist ‰∏é LinkedList Âå∫Âà´?"><meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image" content='https://ahao.ink/6.jpg' />
    <link rel="shortcut icon" href="img/avatar_hua8acc2063f8134c9d13980a8a63800c2_11114_300x0_resize_box_3.png" />

    </head>
    <body class="
    article-page
    ">
    <script>
        (function() {
            const colorSchemeKey = 'StackColorScheme';
            if(!localStorage.getItem(colorSchemeKey)){
                localStorage.setItem(colorSchemeKey, "auto");
            }
        })();
    </script><script>
    (function() {
        const colorSchemeKey = 'StackColorScheme';
        const colorSchemeItem = localStorage.getItem(colorSchemeKey);
        const supportDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches === true;

        if (colorSchemeItem == 'dark' || colorSchemeItem === 'auto' && supportDarkMode) {
            

            document.documentElement.dataset.scheme = 'dark';
        } else {
            document.documentElement.dataset.scheme = 'light';
        }
    })();
</script>
<div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky ">
    <button class="hamburger hamburger--spin" type="button" id="toggle-menu" aria-label="ÂàáÊç¢ËèúÂçï">
        <span class="hamburger-box">
            <span class="hamburger-inner"></span>
        </span>
    </button>

    <header>
        
            
            <figure class="site-avatar">
                <a href="/">
                
                    
                    
                    
                        
                        <img src="/img/avatar_hua8acc2063f8134c9d13980a8a63800c2_11114_300x0_resize_box_3.png" width="300"
                            height="300" class="site-logo" loading="lazy" alt="Avatar">
                    
                
                </a>
                
                    <span class="emoji">üê∑</span>
                
            </figure>
            
        
        
        <div class="site-meta">
            <h1 class="site-name"><a href="/">ahao&#39;s Blog</a></h1>
            <h2 class="site-description">ÈÅìÈòª‰∏îÈïøÔºåË°åÂàôÂ∞ÜËá≥</h2>
        </div>
    </header><ol class="social-menu">
            
                <li>
                    <a 
                        href='https://github.com/'
                        target="_blank"
                        title="GitHub"
                    >
                        
                        
                            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-brand-github" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
  <path d="M9 19c-4.3 1.4 -4.3 -2.5 -6 -3m12 5v-3.5c0 -1 .1 -1.4 -.5 -2c2.8 -.3 5.5 -1.4 5.5 -6a4.6 4.6 0 0 0 -1.3 -3.2a4.2 4.2 0 0 0 -.1 -3.2s-1.1 -.3 -3.5 1.3a12.3 12.3 0 0 0 -6.2 0c-2.4 -1.6 -3.5 -1.3 -3.5 -1.3a4.2 4.2 0 0 0 -.1 3.2a4.6 4.6 0 0 0 -1.3 3.2c0 4.6 2.7 5.7 5.5 6c-.6 .6 -.6 1.2 -.5 2v3.5" />
</svg>



                        
                    </a>
                </li>
            
                <li>
                    <a 
                        href='https://twitter.com'
                        target="_blank"
                        title="Twitter"
                    >
                        
                        
                            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-brand-twitter" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
  <path d="M22 4.01c-1 .49 -1.98 .689 -3 .99c-1.121 -1.265 -2.783 -1.335 -4.38 -.737s-2.643 2.06 -2.62 3.737v1c-3.245 .083 -6.135 -1.395 -8 -4c0 0 -4.182 7.433 4 11c-1.872 1.247 -3.739 2.088 -6 2c3.308 1.803 6.913 2.423 10.034 1.517c3.58 -1.04 6.522 -3.723 7.651 -7.742a13.84 13.84 0 0 0 .497 -3.753c-.002 -.249 1.51 -2.772 1.818 -4.013z" />
</svg>



                        
                    </a>
                </li>
            
        </ol><ol class="menu" id="main-menu">
        
        
        

        <li >
            <a href='/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <polyline points="5 12 3 12 12 3 21 12 19 12" />
  <path d="M5 12v7a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-7" />
  <path d="M9 21v-6a2 2 0 0 1 2 -2h2a2 2 0 0 1 2 2v6" />
</svg>



                
                <span>‰∏ªÈ°µ / Home</span>
            </a>
        </li>
        
        

        <li >
            <a href='/archives/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <rect x="3" y="4" width="18" height="4" rx="2" />
  <path d="M5 8v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-10" />
  <line x1="10" y1="12" x2="14" y2="12" />
</svg>



                
                <span>ÂΩíÊ°£ / Archives</span>
            </a>
        </li>
        
        

        <li >
            <a href='/search/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="10" cy="10" r="7" />
  <line x1="21" y1="21" x2="15" y2="15" />
</svg>



                
                <span>ÊêúÁ¥¢ / Search</span>
            </a>
        </li>
        
        

        <li >
            <a href='/about/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-user" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="7" r="4" />
  <path d="M6 21v-2a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4v2" />
</svg>



                
                <span>ÂÖ≥‰∫é / About</span>
            </a>
        </li>
        

        <div class="menu-bottom-section">
            
            
                <li id="dark-mode-toggle">
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="8" cy="12" r="2" />
  <rect x="2" y="6" width="20" height="12" rx="6" />
</svg>



                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="16" cy="12" r="2" />
  <rect x="2" y="6" width="20" height="12" rx="6" />
</svg>



                    <span>ÊöóËâ≤Ê®°Âºè</span>
                </li>
            
        </div>
    </ol>
</aside>
<main class="main full-width">
    <article class="has-image main-article">
    <header class="article-header">
        <div class="article-image">
            <a href="/posts/arraylist%E6%BA%90%E7%A0%81-%E6%89%A9%E5%AE%B9%E6%9C%BA%E5%88%B6%E5%88%86%E6%9E%90/">
                
                    <img src="/6.jpg" loading="lazy" alt="Featured image of post ArrayListÊ∫êÁ†Å&#43;Êâ©ÂÆπÊú∫Âà∂ÂàÜÊûê" />
                
            </a>
        </div>
    

    <div class="article-details">
    
    <header class="article-category">
        
            <a href="/categories/java/" >
                Java
            </a>
        
    </header>
    

    <div class="article-title-wrapper">
        <h2 class="article-title">
            <a href="/posts/arraylist%E6%BA%90%E7%A0%81-%E6%89%A9%E5%AE%B9%E6%9C%BA%E5%88%B6%E5%88%86%E6%9E%90/">ArrayListÊ∫êÁ†Å&#43;Êâ©ÂÆπÊú∫Âà∂ÂàÜÊûê</a>
        </h2>
    
        
    </div>

    
    <footer class="article-time">
        
            <div>
                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <path d="M11.795 21h-6.795a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v4" />
  <circle cx="18" cy="18" r="4" />
  <path d="M15 3v4" />
  <path d="M7 3v4" />
  <path d="M3 11h16" />
  <path d="M18 16.496v1.504l1 1" />
</svg>
                <time class="article-time--published">2021Âπ¥4Êúà12Êó•</time>
            </div>
        

        
            <div>
                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="12" r="9" />
  <polyline points="12 7 12 12 15 15" />
</svg>



                <time class="article-time--reading">
                    ÈòÖËØªÊó∂Èïø: 15 ÂàÜÈíü
                </time>
            </div>
        
    </footer>
    

    
</div>
</header>

    <section class="article-content">
    
    
    <h1 id="arraylistÊ∫êÁ†ÅÊâ©ÂÆπÊú∫Âà∂ÂàÜÊûê">ArrayListÊ∫êÁ†Å+Êâ©ÂÆπÊú∫Âà∂ÂàÜÊûê</h1>
<h2 id="arraylist-ÁÆÄ‰ªã">ArrayList ÁÆÄ‰ªã</h2>
<p><code>ArrayList</code> ÁöÑÂ∫ïÂ±ÇÊòØÊï∞ÁªÑÈòüÂàóÔºåÁõ∏ÂΩì‰∫éÂä®ÊÄÅÊï∞ÁªÑ„ÄÇ‰∏é Java ‰∏≠ÁöÑÊï∞ÁªÑÁõ∏ÊØîÔºåÂÆÉÁöÑÂÆπÈáèËÉΩÂä®ÊÄÅÂ¢ûÈïø„ÄÇÂú®Ê∑ªÂä†Â§ßÈáèÂÖÉÁ¥†ÂâçÔºåÂ∫îÁî®Á®ãÂ∫èÂèØ‰ª•‰ΩøÁî®<code>ensureCapacity</code>Êìç‰ΩúÊù•Â¢ûÂä† <code>ArrayList</code> ÂÆû‰æãÁöÑÂÆπÈáè„ÄÇËøôÂèØ‰ª•ÂáèÂ∞ëÈÄíÂ¢ûÂºèÂÜçÂàÜÈÖçÁöÑÊï∞Èáè„ÄÇ</p>
<p><code>ArrayList</code>ÁªßÊâø‰∫é <strong><code>AbstractList</code></strong> ÔºåÂÆûÁé∞‰∫Ü <strong><code>List</code></strong>, <strong><code>RandomAccess</code></strong>, <strong><code>Cloneable</code></strong>, <strong><code>java.io.Serializable</code></strong> Ëøô‰∫õÊé•Âè£„ÄÇ</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-Java" data-lang="Java"><span class="line"><span class="cl"><span class="kd">public</span> <span class="kd">class</span> <span class="nc">ArrayList</span><span class="o">&lt;</span><span class="n">E</span><span class="o">&gt;</span> <span class="kd">extends</span> <span class="n">AbstractList</span><span class="o">&lt;</span><span class="n">E</span><span class="o">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="kd">implements</span> <span class="n">List</span><span class="o">&lt;</span><span class="n">E</span><span class="o">&gt;,</span> <span class="n">RandomAccess</span><span class="o">,</span> <span class="n">Cloneable</span><span class="o">,</span> <span class="n">java</span><span class="o">.</span><span class="na">io</span><span class="o">.</span><span class="na">Serializable</span><span class="o">{</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="o">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li><code>RandomAccess</code> ÊòØ‰∏Ä‰∏™Ê†áÂøóÊé•Âè£ÔºåË°®ÊòéÂÆûÁé∞Ëøô‰∏™Ëøô‰∏™Êé•Âè£ÁöÑ List ÈõÜÂêàÊòØÊîØÊåÅ<strong>Âø´ÈÄüÈöèÊú∫ËÆøÈóÆ</strong>ÁöÑ„ÄÇÂú® <code>ArrayList</code> ‰∏≠ÔºåÊàë‰ª¨Âç≥ÂèØ‰ª•ÈÄöËøáÂÖÉÁ¥†ÁöÑÂ∫èÂè∑Âø´ÈÄüËé∑ÂèñÂÖÉÁ¥†ÂØπË±°ÔºåËøôÂ∞±ÊòØÂø´ÈÄüÈöèÊú∫ËÆøÈóÆ„ÄÇ</li>
<li><code>ArrayList</code> ÂÆûÁé∞‰∫Ü <strong><code>Cloneable</code> Êé•Âè£</strong> ÔºåÂç≥Ë¶ÜÁõñ‰∫ÜÂáΩÊï∞<code>clone()</code>ÔºåËÉΩË¢´ÂÖãÈöÜ„ÄÇ</li>
<li><code>ArrayList</code> ÂÆûÁé∞‰∫Ü <code>java.io.Serializable</code>Êé•Âè£ÔºåËøôÊÑèÂë≥ÁùÄ<code>ArrayList</code>ÊîØÊåÅÂ∫èÂàóÂåñÔºåËÉΩÈÄöËøáÂ∫èÂàóÂåñÂéª‰º†Ëæì„ÄÇ</li>
</ul>
<h3 id="arraylist-Âíå-vector-ÁöÑÂå∫Âà´">Arraylist Âíå Vector ÁöÑÂå∫Âà´?</h3>
<ol>
<li><code>ArrayList</code> ÊòØ <code>List</code> ÁöÑ‰∏ªË¶ÅÂÆûÁé∞Á±ªÔºåÂ∫ïÂ±Ç‰ΩøÁî® <code>Object[ ]</code>Â≠òÂÇ®ÔºåÈÄÇÁî®‰∫éÈ¢ëÁπÅÁöÑÊü•ÊâæÂ∑•‰ΩúÔºåÁ∫øÁ®ã‰∏çÂÆâÂÖ® Ôºõ</li>
<li><code>Vector</code> ÊòØ <code>List</code> ÁöÑÂè§ËÄÅÂÆûÁé∞Á±ªÔºåÂ∫ïÂ±Ç‰ΩøÁî® <code>Object[ ]</code>Â≠òÂÇ®ÔºåÁ∫øÁ®ãÂÆâÂÖ®ÁöÑ„ÄÇ</li>
</ol>
<h3 id="arraylist-‰∏é-linkedlist-Âå∫Âà´">Arraylist ‰∏é LinkedList Âå∫Âà´?</h3>
<ol>
<li><strong>ÊòØÂê¶‰øùËØÅÁ∫øÁ®ãÂÆâÂÖ®Ôºö</strong> <code>ArrayList</code> Âíå <code>LinkedList</code> ÈÉΩÊòØ‰∏çÂêåÊ≠•ÁöÑÔºå‰πüÂ∞±ÊòØ‰∏ç‰øùËØÅÁ∫øÁ®ãÂÆâÂÖ®Ôºõ</li>
<li><strong>Â∫ïÂ±ÇÊï∞ÊçÆÁªìÊûÑÔºö</strong> <code>Arraylist</code> Â∫ïÂ±Ç‰ΩøÁî®ÁöÑÊòØ <strong><code>Object</code> Êï∞ÁªÑ</strong>Ôºõ<code>LinkedList</code> Â∫ïÂ±Ç‰ΩøÁî®ÁöÑÊòØ <strong>ÂèåÂêëÈìæË°®</strong> Êï∞ÊçÆÁªìÊûÑÔºàJDK1.6 ‰πãÂâç‰∏∫Âæ™ÁéØÈìæË°®ÔºåJDK1.7 ÂèñÊ∂à‰∫ÜÂæ™ÁéØ„ÄÇÊ≥®ÊÑèÂèåÂêëÈìæË°®ÂíåÂèåÂêëÂæ™ÁéØÈìæË°®ÁöÑÂå∫Âà´Ôºå‰∏ãÈù¢Êúâ‰ªãÁªçÂà∞ÔºÅÔºâ</li>
<li><strong>ÊèíÂÖ•ÂíåÂà†Èô§ÊòØÂê¶ÂèóÂÖÉÁ¥†‰ΩçÁΩÆÁöÑÂΩ±ÂìçÔºö</strong> ‚ë† <strong><code>ArrayList</code> ÈááÁî®Êï∞ÁªÑÂ≠òÂÇ®ÔºåÊâÄ‰ª•ÊèíÂÖ•ÂíåÂà†Èô§ÂÖÉÁ¥†ÁöÑÊó∂Èó¥Â§çÊùÇÂ∫¶ÂèóÂÖÉÁ¥†‰ΩçÁΩÆÁöÑÂΩ±Âìç„ÄÇ</strong> ÊØîÂ¶ÇÔºöÊâßË°å<code>add(E e)</code>ÊñπÊ≥ïÁöÑÊó∂ÂÄôÔºå <code>ArrayList</code> ‰ºöÈªòËÆ§Âú®Â∞ÜÊåáÂÆöÁöÑÂÖÉÁ¥†ËøΩÂä†Âà∞Ê≠§ÂàóË°®ÁöÑÊú´Â∞æÔºåËøôÁßçÊÉÖÂÜµÊó∂Èó¥Â§çÊùÇÂ∫¶Â∞±ÊòØ O(1)„ÄÇ‰ΩÜÊòØÂ¶ÇÊûúË¶ÅÂú®ÊåáÂÆö‰ΩçÁΩÆ i ÊèíÂÖ•ÂíåÂà†Èô§ÂÖÉÁ¥†ÁöÑËØùÔºà<code>add(int index, E element)</code>ÔºâÊó∂Èó¥Â§çÊùÇÂ∫¶Â∞±‰∏∫ O(n-i)„ÄÇÂõ†‰∏∫Âú®ËøõË°å‰∏äËø∞Êìç‰ΩúÁöÑÊó∂ÂÄôÈõÜÂêà‰∏≠Á¨¨ i ÂíåÁ¨¨ i ‰∏™ÂÖÉÁ¥†‰πãÂêéÁöÑ(n-i)‰∏™ÂÖÉÁ¥†ÈÉΩË¶ÅÊâßË°åÂêëÂêé‰Ωç/ÂêëÂâçÁßª‰∏Ä‰ΩçÁöÑÊìç‰Ωú„ÄÇ ‚ë° <strong><code>LinkedList</code> ÈááÁî®ÈìæË°®Â≠òÂÇ®ÔºåÊâÄ‰ª•ÂØπ‰∫é<code>add(E e)</code>ÊñπÊ≥ïÁöÑÊèíÂÖ•ÔºåÂà†Èô§ÂÖÉÁ¥†Êó∂Èó¥Â§çÊùÇÂ∫¶‰∏çÂèóÂÖÉÁ¥†‰ΩçÁΩÆÁöÑÂΩ±ÂìçÔºåËøë‰ºº O(1)ÔºåÂ¶ÇÊûúÊòØË¶ÅÂú®ÊåáÂÆö‰ΩçÁΩÆ<code>i</code>ÊèíÂÖ•ÂíåÂà†Èô§ÂÖÉÁ¥†ÁöÑËØùÔºà<code>(add(int index, E element)</code>Ôºâ Êó∂Èó¥Â§çÊùÇÂ∫¶Ëøë‰ºº‰∏∫<code>o(n))</code>Âõ†‰∏∫ÈúÄË¶ÅÂÖàÁßªÂä®Âà∞ÊåáÂÆö‰ΩçÁΩÆÂÜçÊèíÂÖ•„ÄÇ</strong></li>
<li><strong>ÊòØÂê¶ÊîØÊåÅÂø´ÈÄüÈöèÊú∫ËÆøÈóÆÔºö</strong> <code>LinkedList</code> ‰∏çÊîØÊåÅÈ´òÊïàÁöÑÈöèÊú∫ÂÖÉÁ¥†ËÆøÈóÆÔºåËÄå <code>ArrayList</code> ÊîØÊåÅ„ÄÇÂø´ÈÄüÈöèÊú∫ËÆøÈóÆÂ∞±ÊòØÈÄöËøáÂÖÉÁ¥†ÁöÑÂ∫èÂè∑Âø´ÈÄüËé∑ÂèñÂÖÉÁ¥†ÂØπË±°(ÂØπÂ∫î‰∫é<code>get(int index)</code>ÊñπÊ≥ï)„ÄÇ</li>
<li><strong>ÂÜÖÂ≠òÁ©∫Èó¥Âç†Áî®Ôºö</strong> <code>ArrayList</code> ÁöÑÁ©∫Èó¥Êµ™Ë¥π‰∏ªË¶Å‰ΩìÁé∞Âú®Âú® list ÂàóË°®ÁöÑÁªìÂ∞æ‰ºöÈ¢ÑÁïô‰∏ÄÂÆöÁöÑÂÆπÈáèÁ©∫Èó¥ÔºåËÄå <code>LinkedList</code> ÁöÑÁ©∫Èó¥Ëä±Ë¥πÂàô‰ΩìÁé∞Âú®ÂÆÉÁöÑÊØè‰∏Ä‰∏™ÂÖÉÁ¥†ÈÉΩÈúÄË¶ÅÊ∂àËÄóÊØî <code>ArrayList</code> Êõ¥Â§öÁöÑÁ©∫Èó¥ÔºàÂõ†‰∏∫Ë¶ÅÂ≠òÊîæÁõ¥Êé•ÂêéÁªßÂíåÁõ¥Êé•ÂâçÈ©±‰ª•ÂèäÊï∞ÊçÆÔºâ„ÄÇ</li>
</ol>
<h2 id="arraylist-Ê†∏ÂøÉÊ∫êÁ†ÅËß£ËØª">ArrayList Ê†∏ÂøÉÊ∫êÁ†ÅËß£ËØª</h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">  1
</span><span class="lnt">  2
</span><span class="lnt">  3
</span><span class="lnt">  4
</span><span class="lnt">  5
</span><span class="lnt">  6
</span><span class="lnt">  7
</span><span class="lnt">  8
</span><span class="lnt">  9
</span><span class="lnt"> 10
</span><span class="lnt"> 11
</span><span class="lnt"> 12
</span><span class="lnt"> 13
</span><span class="lnt"> 14
</span><span class="lnt"> 15
</span><span class="lnt"> 16
</span><span class="lnt"> 17
</span><span class="lnt"> 18
</span><span class="lnt"> 19
</span><span class="lnt"> 20
</span><span class="lnt"> 21
</span><span class="lnt"> 22
</span><span class="lnt"> 23
</span><span class="lnt"> 24
</span><span class="lnt"> 25
</span><span class="lnt"> 26
</span><span class="lnt"> 27
</span><span class="lnt"> 28
</span><span class="lnt"> 29
</span><span class="lnt"> 30
</span><span class="lnt"> 31
</span><span class="lnt"> 32
</span><span class="lnt"> 33
</span><span class="lnt"> 34
</span><span class="lnt"> 35
</span><span class="lnt"> 36
</span><span class="lnt"> 37
</span><span class="lnt"> 38
</span><span class="lnt"> 39
</span><span class="lnt"> 40
</span><span class="lnt"> 41
</span><span class="lnt"> 42
</span><span class="lnt"> 43
</span><span class="lnt"> 44
</span><span class="lnt"> 45
</span><span class="lnt"> 46
</span><span class="lnt"> 47
</span><span class="lnt"> 48
</span><span class="lnt"> 49
</span><span class="lnt"> 50
</span><span class="lnt"> 51
</span><span class="lnt"> 52
</span><span class="lnt"> 53
</span><span class="lnt"> 54
</span><span class="lnt"> 55
</span><span class="lnt"> 56
</span><span class="lnt"> 57
</span><span class="lnt"> 58
</span><span class="lnt"> 59
</span><span class="lnt"> 60
</span><span class="lnt"> 61
</span><span class="lnt"> 62
</span><span class="lnt"> 63
</span><span class="lnt"> 64
</span><span class="lnt"> 65
</span><span class="lnt"> 66
</span><span class="lnt"> 67
</span><span class="lnt"> 68
</span><span class="lnt"> 69
</span><span class="lnt"> 70
</span><span class="lnt"> 71
</span><span class="lnt"> 72
</span><span class="lnt"> 73
</span><span class="lnt"> 74
</span><span class="lnt"> 75
</span><span class="lnt"> 76
</span><span class="lnt"> 77
</span><span class="lnt"> 78
</span><span class="lnt"> 79
</span><span class="lnt"> 80
</span><span class="lnt"> 81
</span><span class="lnt"> 82
</span><span class="lnt"> 83
</span><span class="lnt"> 84
</span><span class="lnt"> 85
</span><span class="lnt"> 86
</span><span class="lnt"> 87
</span><span class="lnt"> 88
</span><span class="lnt"> 89
</span><span class="lnt"> 90
</span><span class="lnt"> 91
</span><span class="lnt"> 92
</span><span class="lnt"> 93
</span><span class="lnt"> 94
</span><span class="lnt"> 95
</span><span class="lnt"> 96
</span><span class="lnt"> 97
</span><span class="lnt"> 98
</span><span class="lnt"> 99
</span><span class="lnt">100
</span><span class="lnt">101
</span><span class="lnt">102
</span><span class="lnt">103
</span><span class="lnt">104
</span><span class="lnt">105
</span><span class="lnt">106
</span><span class="lnt">107
</span><span class="lnt">108
</span><span class="lnt">109
</span><span class="lnt">110
</span><span class="lnt">111
</span><span class="lnt">112
</span><span class="lnt">113
</span><span class="lnt">114
</span><span class="lnt">115
</span><span class="lnt">116
</span><span class="lnt">117
</span><span class="lnt">118
</span><span class="lnt">119
</span><span class="lnt">120
</span><span class="lnt">121
</span><span class="lnt">122
</span><span class="lnt">123
</span><span class="lnt">124
</span><span class="lnt">125
</span><span class="lnt">126
</span><span class="lnt">127
</span><span class="lnt">128
</span><span class="lnt">129
</span><span class="lnt">130
</span><span class="lnt">131
</span><span class="lnt">132
</span><span class="lnt">133
</span><span class="lnt">134
</span><span class="lnt">135
</span><span class="lnt">136
</span><span class="lnt">137
</span><span class="lnt">138
</span><span class="lnt">139
</span><span class="lnt">140
</span><span class="lnt">141
</span><span class="lnt">142
</span><span class="lnt">143
</span><span class="lnt">144
</span><span class="lnt">145
</span><span class="lnt">146
</span><span class="lnt">147
</span><span class="lnt">148
</span><span class="lnt">149
</span><span class="lnt">150
</span><span class="lnt">151
</span><span class="lnt">152
</span><span class="lnt">153
</span><span class="lnt">154
</span><span class="lnt">155
</span><span class="lnt">156
</span><span class="lnt">157
</span><span class="lnt">158
</span><span class="lnt">159
</span><span class="lnt">160
</span><span class="lnt">161
</span><span class="lnt">162
</span><span class="lnt">163
</span><span class="lnt">164
</span><span class="lnt">165
</span><span class="lnt">166
</span><span class="lnt">167
</span><span class="lnt">168
</span><span class="lnt">169
</span><span class="lnt">170
</span><span class="lnt">171
</span><span class="lnt">172
</span><span class="lnt">173
</span><span class="lnt">174
</span><span class="lnt">175
</span><span class="lnt">176
</span><span class="lnt">177
</span><span class="lnt">178
</span><span class="lnt">179
</span><span class="lnt">180
</span><span class="lnt">181
</span><span class="lnt">182
</span><span class="lnt">183
</span><span class="lnt">184
</span><span class="lnt">185
</span><span class="lnt">186
</span><span class="lnt">187
</span><span class="lnt">188
</span><span class="lnt">189
</span><span class="lnt">190
</span><span class="lnt">191
</span><span class="lnt">192
</span><span class="lnt">193
</span><span class="lnt">194
</span><span class="lnt">195
</span><span class="lnt">196
</span><span class="lnt">197
</span><span class="lnt">198
</span><span class="lnt">199
</span><span class="lnt">200
</span><span class="lnt">201
</span><span class="lnt">202
</span><span class="lnt">203
</span><span class="lnt">204
</span><span class="lnt">205
</span><span class="lnt">206
</span><span class="lnt">207
</span><span class="lnt">208
</span><span class="lnt">209
</span><span class="lnt">210
</span><span class="lnt">211
</span><span class="lnt">212
</span><span class="lnt">213
</span><span class="lnt">214
</span><span class="lnt">215
</span><span class="lnt">216
</span><span class="lnt">217
</span><span class="lnt">218
</span><span class="lnt">219
</span><span class="lnt">220
</span><span class="lnt">221
</span><span class="lnt">222
</span><span class="lnt">223
</span><span class="lnt">224
</span><span class="lnt">225
</span><span class="lnt">226
</span><span class="lnt">227
</span><span class="lnt">228
</span><span class="lnt">229
</span><span class="lnt">230
</span><span class="lnt">231
</span><span class="lnt">232
</span><span class="lnt">233
</span><span class="lnt">234
</span><span class="lnt">235
</span><span class="lnt">236
</span><span class="lnt">237
</span><span class="lnt">238
</span><span class="lnt">239
</span><span class="lnt">240
</span><span class="lnt">241
</span><span class="lnt">242
</span><span class="lnt">243
</span><span class="lnt">244
</span><span class="lnt">245
</span><span class="lnt">246
</span><span class="lnt">247
</span><span class="lnt">248
</span><span class="lnt">249
</span><span class="lnt">250
</span><span class="lnt">251
</span><span class="lnt">252
</span><span class="lnt">253
</span><span class="lnt">254
</span><span class="lnt">255
</span><span class="lnt">256
</span><span class="lnt">257
</span><span class="lnt">258
</span><span class="lnt">259
</span><span class="lnt">260
</span><span class="lnt">261
</span><span class="lnt">262
</span><span class="lnt">263
</span><span class="lnt">264
</span><span class="lnt">265
</span><span class="lnt">266
</span><span class="lnt">267
</span><span class="lnt">268
</span><span class="lnt">269
</span><span class="lnt">270
</span><span class="lnt">271
</span><span class="lnt">272
</span><span class="lnt">273
</span><span class="lnt">274
</span><span class="lnt">275
</span><span class="lnt">276
</span><span class="lnt">277
</span><span class="lnt">278
</span><span class="lnt">279
</span><span class="lnt">280
</span><span class="lnt">281
</span><span class="lnt">282
</span><span class="lnt">283
</span><span class="lnt">284
</span><span class="lnt">285
</span><span class="lnt">286
</span><span class="lnt">287
</span><span class="lnt">288
</span><span class="lnt">289
</span><span class="lnt">290
</span><span class="lnt">291
</span><span class="lnt">292
</span><span class="lnt">293
</span><span class="lnt">294
</span><span class="lnt">295
</span><span class="lnt">296
</span><span class="lnt">297
</span><span class="lnt">298
</span><span class="lnt">299
</span><span class="lnt">300
</span><span class="lnt">301
</span><span class="lnt">302
</span><span class="lnt">303
</span><span class="lnt">304
</span><span class="lnt">305
</span><span class="lnt">306
</span><span class="lnt">307
</span><span class="lnt">308
</span><span class="lnt">309
</span><span class="lnt">310
</span><span class="lnt">311
</span><span class="lnt">312
</span><span class="lnt">313
</span><span class="lnt">314
</span><span class="lnt">315
</span><span class="lnt">316
</span><span class="lnt">317
</span><span class="lnt">318
</span><span class="lnt">319
</span><span class="lnt">320
</span><span class="lnt">321
</span><span class="lnt">322
</span><span class="lnt">323
</span><span class="lnt">324
</span><span class="lnt">325
</span><span class="lnt">326
</span><span class="lnt">327
</span><span class="lnt">328
</span><span class="lnt">329
</span><span class="lnt">330
</span><span class="lnt">331
</span><span class="lnt">332
</span><span class="lnt">333
</span><span class="lnt">334
</span><span class="lnt">335
</span><span class="lnt">336
</span><span class="lnt">337
</span><span class="lnt">338
</span><span class="lnt">339
</span><span class="lnt">340
</span><span class="lnt">341
</span><span class="lnt">342
</span><span class="lnt">343
</span><span class="lnt">344
</span><span class="lnt">345
</span><span class="lnt">346
</span><span class="lnt">347
</span><span class="lnt">348
</span><span class="lnt">349
</span><span class="lnt">350
</span><span class="lnt">351
</span><span class="lnt">352
</span><span class="lnt">353
</span><span class="lnt">354
</span><span class="lnt">355
</span><span class="lnt">356
</span><span class="lnt">357
</span><span class="lnt">358
</span><span class="lnt">359
</span><span class="lnt">360
</span><span class="lnt">361
</span><span class="lnt">362
</span><span class="lnt">363
</span><span class="lnt">364
</span><span class="lnt">365
</span><span class="lnt">366
</span><span class="lnt">367
</span><span class="lnt">368
</span><span class="lnt">369
</span><span class="lnt">370
</span><span class="lnt">371
</span><span class="lnt">372
</span><span class="lnt">373
</span><span class="lnt">374
</span><span class="lnt">375
</span><span class="lnt">376
</span><span class="lnt">377
</span><span class="lnt">378
</span><span class="lnt">379
</span><span class="lnt">380
</span><span class="lnt">381
</span><span class="lnt">382
</span><span class="lnt">383
</span><span class="lnt">384
</span><span class="lnt">385
</span><span class="lnt">386
</span><span class="lnt">387
</span><span class="lnt">388
</span><span class="lnt">389
</span><span class="lnt">390
</span><span class="lnt">391
</span><span class="lnt">392
</span><span class="lnt">393
</span><span class="lnt">394
</span><span class="lnt">395
</span><span class="lnt">396
</span><span class="lnt">397
</span><span class="lnt">398
</span><span class="lnt">399
</span><span class="lnt">400
</span><span class="lnt">401
</span><span class="lnt">402
</span><span class="lnt">403
</span><span class="lnt">404
</span><span class="lnt">405
</span><span class="lnt">406
</span><span class="lnt">407
</span><span class="lnt">408
</span><span class="lnt">409
</span><span class="lnt">410
</span><span class="lnt">411
</span><span class="lnt">412
</span><span class="lnt">413
</span><span class="lnt">414
</span><span class="lnt">415
</span><span class="lnt">416
</span><span class="lnt">417
</span><span class="lnt">418
</span><span class="lnt">419
</span><span class="lnt">420
</span><span class="lnt">421
</span><span class="lnt">422
</span><span class="lnt">423
</span><span class="lnt">424
</span><span class="lnt">425
</span><span class="lnt">426
</span><span class="lnt">427
</span><span class="lnt">428
</span><span class="lnt">429
</span><span class="lnt">430
</span><span class="lnt">431
</span><span class="lnt">432
</span><span class="lnt">433
</span><span class="lnt">434
</span><span class="lnt">435
</span><span class="lnt">436
</span><span class="lnt">437
</span><span class="lnt">438
</span><span class="lnt">439
</span><span class="lnt">440
</span><span class="lnt">441
</span><span class="lnt">442
</span><span class="lnt">443
</span><span class="lnt">444
</span><span class="lnt">445
</span><span class="lnt">446
</span><span class="lnt">447
</span><span class="lnt">448
</span><span class="lnt">449
</span><span class="lnt">450
</span><span class="lnt">451
</span><span class="lnt">452
</span><span class="lnt">453
</span><span class="lnt">454
</span><span class="lnt">455
</span><span class="lnt">456
</span><span class="lnt">457
</span><span class="lnt">458
</span><span class="lnt">459
</span><span class="lnt">460
</span><span class="lnt">461
</span><span class="lnt">462
</span><span class="lnt">463
</span><span class="lnt">464
</span><span class="lnt">465
</span><span class="lnt">466
</span><span class="lnt">467
</span><span class="lnt">468
</span><span class="lnt">469
</span><span class="lnt">470
</span><span class="lnt">471
</span><span class="lnt">472
</span><span class="lnt">473
</span><span class="lnt">474
</span><span class="lnt">475
</span><span class="lnt">476
</span><span class="lnt">477
</span><span class="lnt">478
</span><span class="lnt">479
</span><span class="lnt">480
</span><span class="lnt">481
</span><span class="lnt">482
</span><span class="lnt">483
</span><span class="lnt">484
</span><span class="lnt">485
</span><span class="lnt">486
</span><span class="lnt">487
</span><span class="lnt">488
</span><span class="lnt">489
</span><span class="lnt">490
</span><span class="lnt">491
</span><span class="lnt">492
</span><span class="lnt">493
</span><span class="lnt">494
</span><span class="lnt">495
</span><span class="lnt">496
</span><span class="lnt">497
</span><span class="lnt">498
</span><span class="lnt">499
</span><span class="lnt">500
</span><span class="lnt">501
</span><span class="lnt">502
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-Java" data-lang="Java"><span class="line"><span class="cl"><span class="kn">package</span> <span class="nn">java.util</span><span class="o">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">java.util.function.Consumer</span><span class="o">;</span>
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">java.util.function.Predicate</span><span class="o">;</span>
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">java.util.function.UnaryOperator</span><span class="o">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">public</span> <span class="kd">class</span> <span class="nc">ArrayList</span><span class="o">&lt;</span><span class="n">E</span><span class="o">&gt;</span> <span class="kd">extends</span> <span class="n">AbstractList</span><span class="o">&lt;</span><span class="n">E</span><span class="o">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="kd">implements</span> <span class="n">List</span><span class="o">&lt;</span><span class="n">E</span><span class="o">&gt;,</span> <span class="n">RandomAccess</span><span class="o">,</span> <span class="n">Cloneable</span><span class="o">,</span> <span class="n">java</span><span class="o">.</span><span class="na">io</span><span class="o">.</span><span class="na">Serializable</span>
</span></span><span class="line"><span class="cl"><span class="o">{</span>
</span></span><span class="line"><span class="cl">    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="kt">long</span> <span class="n">serialVersionUID</span> <span class="o">=</span> <span class="n">8683452581122892189L</span><span class="o">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="cm">/**
</span></span></span><span class="line"><span class="cl"><span class="cm">     * ÈªòËÆ§ÂàùÂßãÂÆπÈáèÂ§ßÂ∞è
</span></span></span><span class="line"><span class="cl"><span class="cm">     */</span>
</span></span><span class="line"><span class="cl">    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="kt">int</span> <span class="n">DEFAULT_CAPACITY</span> <span class="o">=</span> <span class="n">10</span><span class="o">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="cm">/**
</span></span></span><span class="line"><span class="cl"><span class="cm">     * Á©∫Êï∞ÁªÑÔºàÁî®‰∫éÁ©∫ÂÆû‰æãÔºâ„ÄÇ
</span></span></span><span class="line"><span class="cl"><span class="cm">     */</span>
</span></span><span class="line"><span class="cl">    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">Object</span><span class="o">[]</span> <span class="n">EMPTY_ELEMENTDATA</span> <span class="o">=</span> <span class="o">{};</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">     <span class="c1">//Áî®‰∫éÈªòËÆ§Â§ßÂ∞èÁ©∫ÂÆû‰æãÁöÑÂÖ±‰∫´Á©∫Êï∞ÁªÑÂÆû‰æã„ÄÇ
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>      <span class="c1">//Êàë‰ª¨ÊääÂÆÉ‰ªéEMPTY_ELEMENTDATAÊï∞ÁªÑ‰∏≠Âå∫ÂàÜÂá∫Êù•Ôºå‰ª•Áü•ÈÅìÂú®Ê∑ªÂä†Á¨¨‰∏Ä‰∏™ÂÖÉÁ¥†Êó∂ÂÆπÈáèÈúÄË¶ÅÂ¢ûÂä†Â§öÂ∞ë„ÄÇ
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">Object</span><span class="o">[]</span> <span class="n">DEFAULTCAPACITY_EMPTY_ELEMENTDATA</span> <span class="o">=</span> <span class="o">{};</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="cm">/**
</span></span></span><span class="line"><span class="cl"><span class="cm">     * ‰øùÂ≠òArrayListÊï∞ÊçÆÁöÑÊï∞ÁªÑ
</span></span></span><span class="line"><span class="cl"><span class="cm">     */</span>
</span></span><span class="line"><span class="cl">    <span class="kd">transient</span> <span class="n">Object</span><span class="o">[]</span> <span class="n">elementData</span><span class="o">;</span> <span class="c1">// non-private to simplify nested class access
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl">    <span class="cm">/**
</span></span></span><span class="line"><span class="cl"><span class="cm">     * ArrayList ÊâÄÂåÖÂê´ÁöÑÂÖÉÁ¥†‰∏™Êï∞
</span></span></span><span class="line"><span class="cl"><span class="cm">     */</span>
</span></span><span class="line"><span class="cl">    <span class="kd">private</span> <span class="kt">int</span> <span class="n">size</span><span class="o">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="cm">/**
</span></span></span><span class="line"><span class="cl"><span class="cm">     * Â∏¶ÂàùÂßãÂÆπÈáèÂèÇÊï∞ÁöÑÊûÑÈÄ†ÂáΩÊï∞ÔºàÁî®Êà∑ÂèØ‰ª•Âú®ÂàõÂª∫ArrayListÂØπË±°Êó∂Ëá™Â∑±ÊåáÂÆöÈõÜÂêàÁöÑÂàùÂßãÂ§ßÂ∞èÔºâ
</span></span></span><span class="line"><span class="cl"><span class="cm">     */</span>
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="nf">ArrayList</span><span class="o">(</span><span class="kt">int</span> <span class="n">initialCapacity</span><span class="o">)</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="o">(</span><span class="n">initialCapacity</span> <span class="o">&gt;</span> <span class="n">0</span><span class="o">)</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">            <span class="c1">//Â¶ÇÊûú‰º†ÂÖ•ÁöÑÂèÇÊï∞Â§ß‰∫é0ÔºåÂàõÂª∫initialCapacityÂ§ßÂ∞èÁöÑÊï∞ÁªÑ
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>            <span class="k">this</span><span class="o">.</span><span class="na">elementData</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Object</span><span class="o">[</span><span class="n">initialCapacity</span><span class="o">];</span>
</span></span><span class="line"><span class="cl">        <span class="o">}</span> <span class="k">else</span> <span class="k">if</span> <span class="o">(</span><span class="n">initialCapacity</span> <span class="o">==</span> <span class="n">0</span><span class="o">)</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">            <span class="c1">//Â¶ÇÊûú‰º†ÂÖ•ÁöÑÂèÇÊï∞Á≠â‰∫é0ÔºåÂàõÂª∫Á©∫Êï∞ÁªÑ
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>            <span class="k">this</span><span class="o">.</span><span class="na">elementData</span> <span class="o">=</span> <span class="n">EMPTY_ELEMENTDATA</span><span class="o">;</span>
</span></span><span class="line"><span class="cl">        <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">            <span class="c1">//ÂÖ∂‰ªñÊÉÖÂÜµÔºåÊäõÂá∫ÂºÇÂ∏∏
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>            <span class="k">throw</span> <span class="k">new</span> <span class="n">IllegalArgumentException</span><span class="o">(</span><span class="s">&#34;Illegal Capacity: &#34;</span><span class="o">+</span>
</span></span><span class="line"><span class="cl">                                               <span class="n">initialCapacity</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">        <span class="o">}</span>
</span></span><span class="line"><span class="cl">    <span class="o">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="cm">/**
</span></span></span><span class="line"><span class="cl"><span class="cm">     *ÈªòËÆ§Êó†ÂèÇÊûÑÈÄ†ÂáΩÊï∞
</span></span></span><span class="line"><span class="cl"><span class="cm">     *DEFAULTCAPACITY_EMPTY_ELEMENTDATA ‰∏∫0.ÂàùÂßãÂåñ‰∏∫10Ôºå
</span></span></span><span class="line"><span class="cl"><span class="cm">     ‰πüÂ∞±ÊòØËØ¥ÂàùÂßãÂÖ∂ÂÆûÊòØÁ©∫Êï∞ÁªÑ ÂΩìÊ∑ªÂä†Á¨¨‰∏Ä‰∏™ÂÖÉÁ¥†ÁöÑÊó∂ÂÄôÊï∞ÁªÑÂÆπÈáèÊâçÂèòÊàê10
</span></span></span><span class="line"><span class="cl"><span class="cm">     */</span>
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="nf">ArrayList</span><span class="o">()</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">this</span><span class="o">.</span><span class="na">elementData</span> <span class="o">=</span> <span class="n">DEFAULTCAPACITY_EMPTY_ELEMENTDATA</span><span class="o">;</span>
</span></span><span class="line"><span class="cl">    <span class="o">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="cm">/**
</span></span></span><span class="line"><span class="cl"><span class="cm">     * ÊûÑÈÄ†‰∏Ä‰∏™ÂåÖÂê´ÊåáÂÆöÈõÜÂêàÁöÑÂÖÉÁ¥†ÁöÑÂàóË°®ÔºåÊåâÁÖßÂÆÉ‰ª¨Áî±ÈõÜÂêàÁöÑËø≠‰ª£Âô®ËøîÂõûÁöÑÈ°∫Â∫è„ÄÇ
</span></span></span><span class="line"><span class="cl"><span class="cm">     */</span>
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="nf">ArrayList</span><span class="o">(</span><span class="n">Collection</span><span class="o">&lt;?</span> <span class="kd">extends</span> <span class="n">E</span><span class="o">&gt;</span> <span class="n">c</span><span class="o">)</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">        <span class="c1">//Â∞ÜÊåáÂÆöÈõÜÂêàËΩ¨Êç¢‰∏∫Êï∞ÁªÑ
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="n">elementData</span> <span class="o">=</span> <span class="n">c</span><span class="o">.</span><span class="na">toArray</span><span class="o">();</span>
</span></span><span class="line"><span class="cl">        <span class="c1">//Â¶ÇÊûúelementDataÊï∞ÁªÑÁöÑÈïøÂ∫¶‰∏ç‰∏∫0
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="k">if</span> <span class="o">((</span><span class="n">size</span> <span class="o">=</span> <span class="n">elementData</span><span class="o">.</span><span class="na">length</span><span class="o">)</span> <span class="o">!=</span> <span class="n">0</span><span class="o">)</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">            <span class="c1">// Â¶ÇÊûúelementData‰∏çÊòØObjectÁ±ªÂûãÊï∞ÊçÆÔºàc.toArrayÂèØËÉΩËøîÂõûÁöÑ‰∏çÊòØObjectÁ±ªÂûãÁöÑÊï∞ÁªÑÊâÄ‰ª•Âä†‰∏ä‰∏ãÈù¢ÁöÑËØ≠Âè•Áî®‰∫éÂà§Êñ≠Ôºâ
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>            <span class="k">if</span> <span class="o">(</span><span class="n">elementData</span><span class="o">.</span><span class="na">getClass</span><span class="o">()</span> <span class="o">!=</span> <span class="n">Object</span><span class="o">[].</span><span class="na">class</span><span class="o">)</span>
</span></span><span class="line"><span class="cl">                <span class="c1">//Â∞ÜÂéüÊù•‰∏çÊòØObjectÁ±ªÂûãÁöÑelementDataÊï∞ÁªÑÁöÑÂÜÖÂÆπÔºåËµãÂÄºÁªôÊñ∞ÁöÑObjectÁ±ªÂûãÁöÑelementDataÊï∞ÁªÑ
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>                <span class="n">elementData</span> <span class="o">=</span> <span class="n">Arrays</span><span class="o">.</span><span class="na">copyOf</span><span class="o">(</span><span class="n">elementData</span><span class="o">,</span> <span class="n">size</span><span class="o">,</span> <span class="n">Object</span><span class="o">[].</span><span class="na">class</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">        <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">            <span class="c1">// ÂÖ∂‰ªñÊÉÖÂÜµÔºåÁî®Á©∫Êï∞ÁªÑ‰ª£Êõø
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>            <span class="k">this</span><span class="o">.</span><span class="na">elementData</span> <span class="o">=</span> <span class="n">EMPTY_ELEMENTDATA</span><span class="o">;</span>
</span></span><span class="line"><span class="cl">        <span class="o">}</span>
</span></span><span class="line"><span class="cl">    <span class="o">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="cm">/**
</span></span></span><span class="line"><span class="cl"><span class="cm">     * ‰øÆÊîπËøô‰∏™ArrayListÂÆû‰æãÁöÑÂÆπÈáèÊòØÂàóË°®ÁöÑÂΩìÂâçÂ§ßÂ∞è„ÄÇ Â∫îÁî®Á®ãÂ∫èÂèØ‰ª•‰ΩøÁî®Ê≠§Êìç‰ΩúÊù•ÊúÄÂ∞èÂåñArrayListÂÆû‰æãÁöÑÂ≠òÂÇ®„ÄÇ
</span></span></span><span class="line"><span class="cl"><span class="cm">     */</span>
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">trimToSize</span><span class="o">()</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">modCount</span><span class="o">++;</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="o">(</span><span class="n">size</span> <span class="o">&lt;</span> <span class="n">elementData</span><span class="o">.</span><span class="na">length</span><span class="o">)</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">            <span class="n">elementData</span> <span class="o">=</span> <span class="o">(</span><span class="n">size</span> <span class="o">==</span> <span class="n">0</span><span class="o">)</span>
</span></span><span class="line"><span class="cl">              <span class="o">?</span> <span class="n">EMPTY_ELEMENTDATA</span>
</span></span><span class="line"><span class="cl">              <span class="o">:</span> <span class="n">Arrays</span><span class="o">.</span><span class="na">copyOf</span><span class="o">(</span><span class="n">elementData</span><span class="o">,</span> <span class="n">size</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">        <span class="o">}</span>
</span></span><span class="line"><span class="cl">    <span class="o">}</span>
</span></span><span class="line"><span class="cl"><span class="c1">//‰∏ãÈù¢ÊòØArrayListÁöÑÊâ©ÂÆπÊú∫Âà∂
</span></span></span><span class="line"><span class="cl"><span class="c1">//ArrayListÁöÑÊâ©ÂÆπÊú∫Âà∂ÊèêÈ´ò‰∫ÜÊÄßËÉΩÔºåÂ¶ÇÊûúÊØèÊ¨°Âè™Êâ©ÂÖÖ‰∏Ä‰∏™Ôºå
</span></span></span><span class="line"><span class="cl"><span class="c1">//ÈÇ£‰πàÈ¢ëÁπÅÁöÑÊèíÂÖ•‰ºöÂØºËá¥È¢ëÁπÅÁöÑÊã∑Ë¥ùÔºåÈôç‰ΩéÊÄßËÉΩÔºåËÄåArrayListÁöÑÊâ©ÂÆπÊú∫Âà∂ÈÅøÂÖç‰∫ÜËøôÁßçÊÉÖÂÜµ„ÄÇ
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="cm">/**
</span></span></span><span class="line"><span class="cl"><span class="cm">     * Â¶ÇÊúâÂøÖË¶ÅÔºåÂ¢ûÂä†Ê≠§ArrayListÂÆû‰æãÁöÑÂÆπÈáèÔºå‰ª•Á°Æ‰øùÂÆÉËá≥Â∞ëËÉΩÂÆπÁ∫≥ÂÖÉÁ¥†ÁöÑÊï∞Èáè
</span></span></span><span class="line"><span class="cl"><span class="cm">     * @param   minCapacity   ÊâÄÈúÄÁöÑÊúÄÂ∞èÂÆπÈáè
</span></span></span><span class="line"><span class="cl"><span class="cm">     */</span>
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">ensureCapacity</span><span class="o">(</span><span class="kt">int</span> <span class="n">minCapacity</span><span class="o">)</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">        <span class="c1">//Â¶ÇÊûúÊòØtrueÔºåminExpandÁöÑÂÄº‰∏∫0ÔºåÂ¶ÇÊûúÊòØfalse,minExpandÁöÑÂÄº‰∏∫10
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="kt">int</span> <span class="n">minExpand</span> <span class="o">=</span> <span class="o">(</span><span class="n">elementData</span> <span class="o">!=</span> <span class="n">DEFAULTCAPACITY_EMPTY_ELEMENTDATA</span><span class="o">)</span>
</span></span><span class="line"><span class="cl">            <span class="c1">// any size if not default element table
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>            <span class="o">?</span> <span class="n">0</span>
</span></span><span class="line"><span class="cl">            <span class="c1">// larger than default for default empty table. It&#39;s already
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>            <span class="c1">// supposed to be at default size.
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>            <span class="o">:</span> <span class="n">DEFAULT_CAPACITY</span><span class="o">;</span>
</span></span><span class="line"><span class="cl">        <span class="c1">//Â¶ÇÊûúÊúÄÂ∞èÂÆπÈáèÂ§ß‰∫éÂ∑≤ÊúâÁöÑÊúÄÂ§ßÂÆπÈáè
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="k">if</span> <span class="o">(</span><span class="n">minCapacity</span> <span class="o">&gt;</span> <span class="n">minExpand</span><span class="o">)</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">            <span class="n">ensureExplicitCapacity</span><span class="o">(</span><span class="n">minCapacity</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">        <span class="o">}</span>
</span></span><span class="line"><span class="cl">    <span class="o">}</span>
</span></span><span class="line"><span class="cl">   <span class="c1">//ÂæóÂà∞ÊúÄÂ∞èÊâ©ÂÆπÈáè
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="kd">private</span> <span class="kt">void</span> <span class="nf">ensureCapacityInternal</span><span class="o">(</span><span class="kt">int</span> <span class="n">minCapacity</span><span class="o">)</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="o">(</span><span class="n">elementData</span> <span class="o">==</span> <span class="n">DEFAULTCAPACITY_EMPTY_ELEMENTDATA</span><span class="o">)</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">              <span class="c1">// Ëé∑Âèñ‚ÄúÈªòËÆ§ÁöÑÂÆπÈáè‚ÄùÂíå‚Äú‰º†ÂÖ•ÂèÇÊï∞‚Äù‰∏§ËÄÖ‰πãÈó¥ÁöÑÊúÄÂ§ßÂÄº
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>            <span class="n">minCapacity</span> <span class="o">=</span> <span class="n">Math</span><span class="o">.</span><span class="na">max</span><span class="o">(</span><span class="n">DEFAULT_CAPACITY</span><span class="o">,</span> <span class="n">minCapacity</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">        <span class="o">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="n">ensureExplicitCapacity</span><span class="o">(</span><span class="n">minCapacity</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">    <span class="o">}</span>
</span></span><span class="line"><span class="cl">  <span class="c1">//Âà§Êñ≠ÊòØÂê¶ÈúÄË¶ÅÊâ©ÂÆπ
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="kd">private</span> <span class="kt">void</span> <span class="nf">ensureExplicitCapacity</span><span class="o">(</span><span class="kt">int</span> <span class="n">minCapacity</span><span class="o">)</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">modCount</span><span class="o">++;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="c1">// overflow-conscious code
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="k">if</span> <span class="o">(</span><span class="n">minCapacity</span> <span class="o">-</span> <span class="n">elementData</span><span class="o">.</span><span class="na">length</span> <span class="o">&gt;</span> <span class="n">0</span><span class="o">)</span>
</span></span><span class="line"><span class="cl">            <span class="c1">//Ë∞ÉÁî®growÊñπÊ≥ïËøõË°åÊâ©ÂÆπÔºåË∞ÉÁî®Ê≠§ÊñπÊ≥ï‰ª£Ë°®Â∑≤ÁªèÂºÄÂßãÊâ©ÂÆπ‰∫Ü
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>            <span class="n">grow</span><span class="o">(</span><span class="n">minCapacity</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">    <span class="o">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="cm">/**
</span></span></span><span class="line"><span class="cl"><span class="cm">     * Ë¶ÅÂàÜÈÖçÁöÑÊúÄÂ§ßÊï∞ÁªÑÂ§ßÂ∞è
</span></span></span><span class="line"><span class="cl"><span class="cm">     */</span>
</span></span><span class="line"><span class="cl">    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="kt">int</span> <span class="n">MAX_ARRAY_SIZE</span> <span class="o">=</span> <span class="n">Integer</span><span class="o">.</span><span class="na">MAX_VALUE</span> <span class="o">-</span> <span class="n">8</span><span class="o">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="cm">/**
</span></span></span><span class="line"><span class="cl"><span class="cm">     * ArrayListÊâ©ÂÆπÁöÑÊ†∏ÂøÉÊñπÊ≥ï„ÄÇ
</span></span></span><span class="line"><span class="cl"><span class="cm">     */</span>
</span></span><span class="line"><span class="cl">    <span class="kd">private</span> <span class="kt">void</span> <span class="nf">grow</span><span class="o">(</span><span class="kt">int</span> <span class="n">minCapacity</span><span class="o">)</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">        <span class="c1">// oldCapacity‰∏∫ÊóßÂÆπÈáèÔºånewCapacity‰∏∫Êñ∞ÂÆπÈáè
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="kt">int</span> <span class="n">oldCapacity</span> <span class="o">=</span> <span class="n">elementData</span><span class="o">.</span><span class="na">length</span><span class="o">;</span>
</span></span><span class="line"><span class="cl">        <span class="c1">//Â∞ÜoldCapacity Âè≥Áßª‰∏Ä‰ΩçÔºåÂÖ∂ÊïàÊûúÁõ∏ÂΩì‰∫éoldCapacity /2Ôºå
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="c1">//Êàë‰ª¨Áü•ÈÅì‰ΩçËøêÁÆóÁöÑÈÄüÂ∫¶ËøúËøúÂø´‰∫éÊï¥Èô§ËøêÁÆóÔºåÊï¥Âè•ËøêÁÆóÂºèÁöÑÁªìÊûúÂ∞±ÊòØÂ∞ÜÊñ∞ÂÆπÈáèÊõ¥Êñ∞‰∏∫ÊóßÂÆπÈáèÁöÑ1.5ÂÄçÔºå
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="kt">int</span> <span class="n">newCapacity</span> <span class="o">=</span> <span class="n">oldCapacity</span> <span class="o">+</span> <span class="o">(</span><span class="n">oldCapacity</span> <span class="o">&gt;&gt;</span> <span class="n">1</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">        <span class="c1">//ÁÑ∂ÂêéÊ£ÄÊü•Êñ∞ÂÆπÈáèÊòØÂê¶Â§ß‰∫éÊúÄÂ∞èÈúÄË¶ÅÂÆπÈáèÔºåËã•ËøòÊòØÂ∞è‰∫éÊúÄÂ∞èÈúÄË¶ÅÂÆπÈáèÔºåÈÇ£‰πàÂ∞±ÊääÊúÄÂ∞èÈúÄË¶ÅÂÆπÈáèÂΩì‰ΩúÊï∞ÁªÑÁöÑÊñ∞ÂÆπÈáèÔºå
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="k">if</span> <span class="o">(</span><span class="n">newCapacity</span> <span class="o">-</span> <span class="n">minCapacity</span> <span class="o">&lt;</span> <span class="n">0</span><span class="o">)</span>
</span></span><span class="line"><span class="cl">            <span class="n">newCapacity</span> <span class="o">=</span> <span class="n">minCapacity</span><span class="o">;</span>
</span></span><span class="line"><span class="cl">        <span class="c1">//ÂÜçÊ£ÄÊü•Êñ∞ÂÆπÈáèÊòØÂê¶Ë∂ÖÂá∫‰∫ÜArrayListÊâÄÂÆö‰πâÁöÑÊúÄÂ§ßÂÆπÈáèÔºå
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="c1">//Ëã•Ë∂ÖÂá∫‰∫ÜÔºåÂàôË∞ÉÁî®hugeCapacity()Êù•ÊØîËæÉminCapacityÂíå MAX_ARRAY_SIZEÔºå
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="c1">//Â¶ÇÊûúminCapacityÂ§ß‰∫éMAX_ARRAY_SIZEÔºåÂàôÊñ∞ÂÆπÈáèÂàô‰∏∫Interger.MAX_VALUEÔºåÂê¶ÂàôÔºåÊñ∞ÂÆπÈáèÂ§ßÂ∞èÂàô‰∏∫ MAX_ARRAY_SIZE„ÄÇ
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="k">if</span> <span class="o">(</span><span class="n">newCapacity</span> <span class="o">-</span> <span class="n">MAX_ARRAY_SIZE</span> <span class="o">&gt;</span> <span class="n">0</span><span class="o">)</span>
</span></span><span class="line"><span class="cl">            <span class="n">newCapacity</span> <span class="o">=</span> <span class="n">hugeCapacity</span><span class="o">(</span><span class="n">minCapacity</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">        <span class="c1">// minCapacity is usually close to size, so this is a win:
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="n">elementData</span> <span class="o">=</span> <span class="n">Arrays</span><span class="o">.</span><span class="na">copyOf</span><span class="o">(</span><span class="n">elementData</span><span class="o">,</span> <span class="n">newCapacity</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">    <span class="o">}</span>
</span></span><span class="line"><span class="cl">    <span class="c1">//ÊØîËæÉminCapacityÂíå MAX_ARRAY_SIZE
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="kd">private</span> <span class="kd">static</span> <span class="kt">int</span> <span class="nf">hugeCapacity</span><span class="o">(</span><span class="kt">int</span> <span class="n">minCapacity</span><span class="o">)</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="o">(</span><span class="n">minCapacity</span> <span class="o">&lt;</span> <span class="n">0</span><span class="o">)</span> <span class="c1">// overflow
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>            <span class="k">throw</span> <span class="k">new</span> <span class="n">OutOfMemoryError</span><span class="o">();</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="o">(</span><span class="n">minCapacity</span> <span class="o">&gt;</span> <span class="n">MAX_ARRAY_SIZE</span><span class="o">)</span> <span class="o">?</span>
</span></span><span class="line"><span class="cl">            <span class="n">Integer</span><span class="o">.</span><span class="na">MAX_VALUE</span> <span class="o">:</span>
</span></span><span class="line"><span class="cl">            <span class="n">MAX_ARRAY_SIZE</span><span class="o">;</span>
</span></span><span class="line"><span class="cl">    <span class="o">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="cm">/**
</span></span></span><span class="line"><span class="cl"><span class="cm">     *ËøîÂõûÊ≠§ÂàóË°®‰∏≠ÁöÑÂÖÉÁ¥†Êï∞„ÄÇ
</span></span></span><span class="line"><span class="cl"><span class="cm">     */</span>
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="kt">int</span> <span class="nf">size</span><span class="o">()</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="n">size</span><span class="o">;</span>
</span></span><span class="line"><span class="cl">    <span class="o">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="cm">/**
</span></span></span><span class="line"><span class="cl"><span class="cm">     * Â¶ÇÊûúÊ≠§ÂàóË°®‰∏çÂåÖÂê´ÂÖÉÁ¥†ÔºåÂàôËøîÂõû true „ÄÇ
</span></span></span><span class="line"><span class="cl"><span class="cm">     */</span>
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">isEmpty</span><span class="o">()</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">        <span class="c1">//Ê≥®ÊÑè=Âíå==ÁöÑÂå∫Âà´
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="k">return</span> <span class="n">size</span> <span class="o">==</span> <span class="n">0</span><span class="o">;</span>
</span></span><span class="line"><span class="cl">    <span class="o">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="cm">/**
</span></span></span><span class="line"><span class="cl"><span class="cm">     * Â¶ÇÊûúÊ≠§ÂàóË°®ÂåÖÂê´ÊåáÂÆöÁöÑÂÖÉÁ¥†ÔºåÂàôËøîÂõûtrue „ÄÇ
</span></span></span><span class="line"><span class="cl"><span class="cm">     */</span>
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">contains</span><span class="o">(</span><span class="n">Object</span> <span class="n">o</span><span class="o">)</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">        <span class="c1">//indexOf()ÊñπÊ≥ïÔºöËøîÂõûÊ≠§ÂàóË°®‰∏≠ÊåáÂÆöÂÖÉÁ¥†ÁöÑÈ¶ñÊ¨°Âá∫Áé∞ÁöÑÁ¥¢ÂºïÔºåÂ¶ÇÊûúÊ≠§ÂàóË°®‰∏çÂåÖÂê´Ê≠§ÂÖÉÁ¥†ÔºåÂàô‰∏∫-1
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="k">return</span> <span class="n">indexOf</span><span class="o">(</span><span class="n">o</span><span class="o">)</span> <span class="o">&gt;=</span> <span class="n">0</span><span class="o">;</span>
</span></span><span class="line"><span class="cl">    <span class="o">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="cm">/**
</span></span></span><span class="line"><span class="cl"><span class="cm">     *ËøîÂõûÊ≠§ÂàóË°®‰∏≠ÊåáÂÆöÂÖÉÁ¥†ÁöÑÈ¶ñÊ¨°Âá∫Áé∞ÁöÑÁ¥¢ÂºïÔºåÂ¶ÇÊûúÊ≠§ÂàóË°®‰∏çÂåÖÂê´Ê≠§ÂÖÉÁ¥†ÔºåÂàô‰∏∫-1
</span></span></span><span class="line"><span class="cl"><span class="cm">     */</span>
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="kt">int</span> <span class="nf">indexOf</span><span class="o">(</span><span class="n">Object</span> <span class="n">o</span><span class="o">)</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="o">(</span><span class="n">o</span> <span class="o">==</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">            <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="n">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">size</span><span class="o">;</span> <span class="n">i</span><span class="o">++)</span>
</span></span><span class="line"><span class="cl">                <span class="k">if</span> <span class="o">(</span><span class="n">elementData</span><span class="o">[</span><span class="n">i</span><span class="o">]==</span><span class="kc">null</span><span class="o">)</span>
</span></span><span class="line"><span class="cl">                    <span class="k">return</span> <span class="n">i</span><span class="o">;</span>
</span></span><span class="line"><span class="cl">        <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">            <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="n">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">size</span><span class="o">;</span> <span class="n">i</span><span class="o">++)</span>
</span></span><span class="line"><span class="cl">                <span class="c1">//equals()ÊñπÊ≥ïÊØîËæÉ
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>                <span class="k">if</span> <span class="o">(</span><span class="n">o</span><span class="o">.</span><span class="na">equals</span><span class="o">(</span><span class="n">elementData</span><span class="o">[</span><span class="n">i</span><span class="o">]))</span>
</span></span><span class="line"><span class="cl">                    <span class="k">return</span> <span class="n">i</span><span class="o">;</span>
</span></span><span class="line"><span class="cl">        <span class="o">}</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="o">-</span><span class="n">1</span><span class="o">;</span>
</span></span><span class="line"><span class="cl">    <span class="o">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="cm">/**
</span></span></span><span class="line"><span class="cl"><span class="cm">     * ËøîÂõûÊ≠§ÂàóË°®‰∏≠ÊåáÂÆöÂÖÉÁ¥†ÁöÑÊúÄÂêé‰∏ÄÊ¨°Âá∫Áé∞ÁöÑÁ¥¢ÂºïÔºåÂ¶ÇÊûúÊ≠§ÂàóË°®‰∏çÂåÖÂê´ÂÖÉÁ¥†ÔºåÂàôËøîÂõû-1„ÄÇ.
</span></span></span><span class="line"><span class="cl"><span class="cm">     */</span>
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="kt">int</span> <span class="nf">lastIndexOf</span><span class="o">(</span><span class="n">Object</span> <span class="n">o</span><span class="o">)</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="o">(</span><span class="n">o</span> <span class="o">==</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">            <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="n">size</span><span class="o">-</span><span class="n">1</span><span class="o">;</span> <span class="n">i</span> <span class="o">&gt;=</span> <span class="n">0</span><span class="o">;</span> <span class="n">i</span><span class="o">--)</span>
</span></span><span class="line"><span class="cl">                <span class="k">if</span> <span class="o">(</span><span class="n">elementData</span><span class="o">[</span><span class="n">i</span><span class="o">]==</span><span class="kc">null</span><span class="o">)</span>
</span></span><span class="line"><span class="cl">                    <span class="k">return</span> <span class="n">i</span><span class="o">;</span>
</span></span><span class="line"><span class="cl">        <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">            <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="n">size</span><span class="o">-</span><span class="n">1</span><span class="o">;</span> <span class="n">i</span> <span class="o">&gt;=</span> <span class="n">0</span><span class="o">;</span> <span class="n">i</span><span class="o">--)</span>
</span></span><span class="line"><span class="cl">                <span class="k">if</span> <span class="o">(</span><span class="n">o</span><span class="o">.</span><span class="na">equals</span><span class="o">(</span><span class="n">elementData</span><span class="o">[</span><span class="n">i</span><span class="o">]))</span>
</span></span><span class="line"><span class="cl">                    <span class="k">return</span> <span class="n">i</span><span class="o">;</span>
</span></span><span class="line"><span class="cl">        <span class="o">}</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="o">-</span><span class="n">1</span><span class="o">;</span>
</span></span><span class="line"><span class="cl">    <span class="o">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="cm">/**
</span></span></span><span class="line"><span class="cl"><span class="cm">     * ËøîÂõûÊ≠§ArrayListÂÆû‰æãÁöÑÊµÖÊã∑Ë¥ù„ÄÇ ÔºàÂÖÉÁ¥†Êú¨Ë∫´‰∏çË¢´Â§çÂà∂„ÄÇÔºâ
</span></span></span><span class="line"><span class="cl"><span class="cm">     */</span>
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="n">Object</span> <span class="nf">clone</span><span class="o">()</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">try</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">            <span class="n">ArrayList</span><span class="o">&lt;?&gt;</span> <span class="n">v</span> <span class="o">=</span> <span class="o">(</span><span class="n">ArrayList</span><span class="o">&lt;?&gt;)</span> <span class="kd">super</span><span class="o">.</span><span class="na">clone</span><span class="o">();</span>
</span></span><span class="line"><span class="cl">            <span class="c1">//Arrays.copyOfÂäüËÉΩÊòØÂÆûÁé∞Êï∞ÁªÑÁöÑÂ§çÂà∂ÔºåËøîÂõûÂ§çÂà∂ÂêéÁöÑÊï∞ÁªÑ„ÄÇÂèÇÊï∞ÊòØË¢´Â§çÂà∂ÁöÑÊï∞ÁªÑÂíåÂ§çÂà∂ÁöÑÈïøÂ∫¶
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>            <span class="n">v</span><span class="o">.</span><span class="na">elementData</span> <span class="o">=</span> <span class="n">Arrays</span><span class="o">.</span><span class="na">copyOf</span><span class="o">(</span><span class="n">elementData</span><span class="o">,</span> <span class="n">size</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">            <span class="n">v</span><span class="o">.</span><span class="na">modCount</span> <span class="o">=</span> <span class="n">0</span><span class="o">;</span>
</span></span><span class="line"><span class="cl">            <span class="k">return</span> <span class="n">v</span><span class="o">;</span>
</span></span><span class="line"><span class="cl">        <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="n">CloneNotSupportedException</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">            <span class="c1">// Ëøô‰∏çÂ∫îËØ•ÂèëÁîüÔºåÂõ†‰∏∫Êàë‰ª¨ÊòØÂèØ‰ª•ÂÖãÈöÜÁöÑ
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>            <span class="k">throw</span> <span class="k">new</span> <span class="n">InternalError</span><span class="o">(</span><span class="n">e</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">        <span class="o">}</span>
</span></span><span class="line"><span class="cl">    <span class="o">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="cm">/**
</span></span></span><span class="line"><span class="cl"><span class="cm">     *‰ª•Ê≠£Á°ÆÁöÑÈ°∫Â∫èÔºà‰ªéÁ¨¨‰∏Ä‰∏™Âà∞ÊúÄÂêé‰∏Ä‰∏™ÂÖÉÁ¥†ÔºâËøîÂõû‰∏Ä‰∏™ÂåÖÂê´Ê≠§ÂàóË°®‰∏≠ÊâÄÊúâÂÖÉÁ¥†ÁöÑÊï∞ÁªÑ„ÄÇ
</span></span></span><span class="line"><span class="cl"><span class="cm">     *ËøîÂõûÁöÑÊï∞ÁªÑÂ∞ÜÊòØ‚ÄúÂÆâÂÖ®ÁöÑ‚ÄùÔºåÂõ†‰∏∫ËØ•ÂàóË°®‰∏ç‰øùÁïôÂØπÂÆÉÁöÑÂºïÁî®„ÄÇ ÔºàÊç¢Âè•ËØùËØ¥ÔºåËøô‰∏™ÊñπÊ≥ïÂøÖÈ°ªÂàÜÈÖç‰∏Ä‰∏™Êñ∞ÁöÑÊï∞ÁªÑÔºâ„ÄÇ
</span></span></span><span class="line"><span class="cl"><span class="cm">     *Âõ†Ê≠§ÔºåË∞ÉÁî®ËÄÖÂèØ‰ª•Ëá™Áî±Âú∞‰øÆÊîπËøîÂõûÁöÑÊï∞ÁªÑ„ÄÇ Ê≠§ÊñπÊ≥ïÂÖÖÂΩìÂü∫‰∫éÈòµÂàóÂíåÂü∫‰∫éÈõÜÂêàÁöÑAPI‰πãÈó¥ÁöÑÊ°•Ê¢Å„ÄÇ
</span></span></span><span class="line"><span class="cl"><span class="cm">     */</span>
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="n">Object</span><span class="o">[]</span> <span class="nf">toArray</span><span class="o">()</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="n">Arrays</span><span class="o">.</span><span class="na">copyOf</span><span class="o">(</span><span class="n">elementData</span><span class="o">,</span> <span class="n">size</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">    <span class="o">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="cm">/**
</span></span></span><span class="line"><span class="cl"><span class="cm">     * ‰ª•Ê≠£Á°ÆÁöÑÈ°∫Â∫èËøîÂõû‰∏Ä‰∏™ÂåÖÂê´Ê≠§ÂàóË°®‰∏≠ÊâÄÊúâÂÖÉÁ¥†ÁöÑÊï∞ÁªÑÔºà‰ªéÁ¨¨‰∏Ä‰∏™Âà∞ÊúÄÂêé‰∏Ä‰∏™ÂÖÉÁ¥†Ôºâ;
</span></span></span><span class="line"><span class="cl"><span class="cm">     *ËøîÂõûÁöÑÊï∞ÁªÑÁöÑËøêË°åÊó∂Á±ªÂûãÊòØÊåáÂÆöÊï∞ÁªÑÁöÑËøêË°åÊó∂Á±ªÂûã„ÄÇ Â¶ÇÊûúÂàóË°®ÈÄÇÂêàÊåáÂÆöÁöÑÊï∞ÁªÑÔºåÂàôËøîÂõûÂÖ∂‰∏≠„ÄÇ
</span></span></span><span class="line"><span class="cl"><span class="cm">     *Âê¶ÂàôÔºåÂ∞Ü‰∏∫ÊåáÂÆöÊï∞ÁªÑÁöÑËøêË°åÊó∂Á±ªÂûãÂíåÊ≠§ÂàóË°®ÁöÑÂ§ßÂ∞èÂàÜÈÖç‰∏Ä‰∏™Êñ∞Êï∞ÁªÑ„ÄÇ
</span></span></span><span class="line"><span class="cl"><span class="cm">     *Â¶ÇÊûúÂàóË°®ÈÄÇÁî®‰∫éÊåáÂÆöÁöÑÊï∞ÁªÑÔºåÂÖ∂‰ΩôÁ©∫Èó¥ÔºàÂç≥Êï∞ÁªÑÁöÑÂàóË°®Êï∞ÈáèÂ§ö‰∫éÊ≠§ÂÖÉÁ¥†ÔºâÔºåÂàôÁ¥ßË∑üÂú®ÈõÜÂêàÁªìÊùüÂêéÁöÑÊï∞ÁªÑ‰∏≠ÁöÑÂÖÉÁ¥†ËÆæÁΩÆ‰∏∫null „ÄÇ
</span></span></span><span class="line"><span class="cl"><span class="cm">     *ÔºàËøô‰ªÖÂú®Ë∞ÉÁî®ËÄÖÁü•ÈÅìÂàóË°®‰∏çÂåÖÂê´‰ªª‰ΩïÁ©∫ÂÖÉÁ¥†ÁöÑÊÉÖÂÜµ‰∏ãÊâçËÉΩÁ°ÆÂÆöÂàóË°®ÁöÑÈïøÂ∫¶„ÄÇÔºâ
</span></span></span><span class="line"><span class="cl"><span class="cm">     */</span>
</span></span><span class="line"><span class="cl">    <span class="nd">@SuppressWarnings</span><span class="o">(</span><span class="s">&#34;unchecked&#34;</span><span class="o">)</span>
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span> <span class="n">T</span><span class="o">[]</span> <span class="nf">toArray</span><span class="o">(</span><span class="n">T</span><span class="o">[]</span> <span class="n">a</span><span class="o">)</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="o">(</span><span class="n">a</span><span class="o">.</span><span class="na">length</span> <span class="o">&lt;</span> <span class="n">size</span><span class="o">)</span>
</span></span><span class="line"><span class="cl">            <span class="c1">// Êñ∞Âª∫‰∏Ä‰∏™ËøêË°åÊó∂Á±ªÂûãÁöÑÊï∞ÁªÑÔºå‰ΩÜÊòØArrayListÊï∞ÁªÑÁöÑÂÜÖÂÆπ
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>            <span class="k">return</span> <span class="o">(</span><span class="n">T</span><span class="o">[])</span> <span class="n">Arrays</span><span class="o">.</span><span class="na">copyOf</span><span class="o">(</span><span class="n">elementData</span><span class="o">,</span> <span class="n">size</span><span class="o">,</span> <span class="n">a</span><span class="o">.</span><span class="na">getClass</span><span class="o">());</span>
</span></span><span class="line"><span class="cl">            <span class="c1">//Ë∞ÉÁî®SystemÊèê‰æõÁöÑarraycopy()ÊñπÊ≥ïÂÆûÁé∞Êï∞ÁªÑ‰πãÈó¥ÁöÑÂ§çÂà∂
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="n">System</span><span class="o">.</span><span class="na">arraycopy</span><span class="o">(</span><span class="n">elementData</span><span class="o">,</span> <span class="n">0</span><span class="o">,</span> <span class="n">a</span><span class="o">,</span> <span class="n">0</span><span class="o">,</span> <span class="n">size</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="o">(</span><span class="n">a</span><span class="o">.</span><span class="na">length</span> <span class="o">&gt;</span> <span class="n">size</span><span class="o">)</span>
</span></span><span class="line"><span class="cl">            <span class="n">a</span><span class="o">[</span><span class="n">size</span><span class="o">]</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="n">a</span><span class="o">;</span>
</span></span><span class="line"><span class="cl">    <span class="o">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1">// Positional Access Operations
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl">    <span class="nd">@SuppressWarnings</span><span class="o">(</span><span class="s">&#34;unchecked&#34;</span><span class="o">)</span>
</span></span><span class="line"><span class="cl">    <span class="n">E</span> <span class="nf">elementData</span><span class="o">(</span><span class="kt">int</span> <span class="n">index</span><span class="o">)</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="o">(</span><span class="n">E</span><span class="o">)</span> <span class="n">elementData</span><span class="o">[</span><span class="n">index</span><span class="o">];</span>
</span></span><span class="line"><span class="cl">    <span class="o">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="cm">/**
</span></span></span><span class="line"><span class="cl"><span class="cm">     * ËøîÂõûÊ≠§ÂàóË°®‰∏≠ÊåáÂÆö‰ΩçÁΩÆÁöÑÂÖÉÁ¥†„ÄÇ
</span></span></span><span class="line"><span class="cl"><span class="cm">     */</span>
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="n">E</span> <span class="nf">get</span><span class="o">(</span><span class="kt">int</span> <span class="n">index</span><span class="o">)</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">rangeCheck</span><span class="o">(</span><span class="n">index</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="n">elementData</span><span class="o">(</span><span class="n">index</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">    <span class="o">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="cm">/**
</span></span></span><span class="line"><span class="cl"><span class="cm">     * Áî®ÊåáÂÆöÁöÑÂÖÉÁ¥†ÊõøÊç¢Ê≠§ÂàóË°®‰∏≠ÊåáÂÆö‰ΩçÁΩÆÁöÑÂÖÉÁ¥†„ÄÇ
</span></span></span><span class="line"><span class="cl"><span class="cm">     */</span>
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="n">E</span> <span class="nf">set</span><span class="o">(</span><span class="kt">int</span> <span class="n">index</span><span class="o">,</span> <span class="n">E</span> <span class="n">element</span><span class="o">)</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">        <span class="c1">//ÂØπindexËøõË°åÁïåÈôêÊ£ÄÊü•
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="n">rangeCheck</span><span class="o">(</span><span class="n">index</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="n">E</span> <span class="n">oldValue</span> <span class="o">=</span> <span class="n">elementData</span><span class="o">(</span><span class="n">index</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">        <span class="n">elementData</span><span class="o">[</span><span class="n">index</span><span class="o">]</span> <span class="o">=</span> <span class="n">element</span><span class="o">;</span>
</span></span><span class="line"><span class="cl">        <span class="c1">//ËøîÂõûÂéüÊù•Âú®Ëøô‰∏™‰ΩçÁΩÆÁöÑÂÖÉÁ¥†
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="k">return</span> <span class="n">oldValue</span><span class="o">;</span>
</span></span><span class="line"><span class="cl">    <span class="o">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="cm">/**
</span></span></span><span class="line"><span class="cl"><span class="cm">     * Â∞ÜÊåáÂÆöÁöÑÂÖÉÁ¥†ËøΩÂä†Âà∞Ê≠§ÂàóË°®ÁöÑÊú´Â∞æ„ÄÇ
</span></span></span><span class="line"><span class="cl"><span class="cm">     */</span>
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">add</span><span class="o">(</span><span class="n">E</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">ensureCapacityInternal</span><span class="o">(</span><span class="n">size</span> <span class="o">+</span> <span class="n">1</span><span class="o">);</span>  <span class="c1">// Increments modCount!!
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="c1">//ËøôÈáåÁúãÂà∞ArrayListÊ∑ªÂä†ÂÖÉÁ¥†ÁöÑÂÆûË¥®Â∞±Áõ∏ÂΩì‰∫é‰∏∫Êï∞ÁªÑËµãÂÄº
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="n">elementData</span><span class="o">[</span><span class="n">size</span><span class="o">++]</span> <span class="o">=</span> <span class="n">e</span><span class="o">;</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="kc">true</span><span class="o">;</span>
</span></span><span class="line"><span class="cl">    <span class="o">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="cm">/**
</span></span></span><span class="line"><span class="cl"><span class="cm">     * Âú®Ê≠§ÂàóË°®‰∏≠ÁöÑÊåáÂÆö‰ΩçÁΩÆÊèíÂÖ•ÊåáÂÆöÁöÑÂÖÉÁ¥†„ÄÇ
</span></span></span><span class="line"><span class="cl"><span class="cm">     *ÂÖàË∞ÉÁî® rangeCheckForAdd ÂØπindexËøõË°åÁïåÈôêÊ£ÄÊü•ÔºõÁÑ∂ÂêéË∞ÉÁî® ensureCapacityInternal ÊñπÊ≥ï‰øùËØÅcapacityË∂≥Â§üÂ§ßÔºõ
</span></span></span><span class="line"><span class="cl"><span class="cm">     *ÂÜçÂ∞Ü‰ªéindexÂºÄÂßã‰πãÂêéÁöÑÊâÄÊúâÊàêÂëòÂêéÁßª‰∏Ä‰∏™‰ΩçÁΩÆÔºõÂ∞ÜelementÊèíÂÖ•index‰ΩçÁΩÆÔºõÊúÄÂêésizeÂä†1„ÄÇ
</span></span></span><span class="line"><span class="cl"><span class="cm">     */</span>
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">add</span><span class="o">(</span><span class="kt">int</span> <span class="n">index</span><span class="o">,</span> <span class="n">E</span> <span class="n">element</span><span class="o">)</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">rangeCheckForAdd</span><span class="o">(</span><span class="n">index</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="n">ensureCapacityInternal</span><span class="o">(</span><span class="n">size</span> <span class="o">+</span> <span class="n">1</span><span class="o">);</span>  <span class="c1">// Increments modCount!!
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="c1">//arraycopy()Ëøô‰∏™ÂÆûÁé∞Êï∞ÁªÑ‰πãÈó¥Â§çÂà∂ÁöÑÊñπÊ≥ï‰∏ÄÂÆöË¶ÅÁúã‰∏Ä‰∏ãÔºå‰∏ãÈù¢Â∞±Áî®Âà∞‰∫Üarraycopy()ÊñπÊ≥ïÂÆûÁé∞Êï∞ÁªÑËá™Â∑±Â§çÂà∂Ëá™Â∑±
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="n">System</span><span class="o">.</span><span class="na">arraycopy</span><span class="o">(</span><span class="n">elementData</span><span class="o">,</span> <span class="n">index</span><span class="o">,</span> <span class="n">elementData</span><span class="o">,</span> <span class="n">index</span> <span class="o">+</span> <span class="n">1</span><span class="o">,</span>
</span></span><span class="line"><span class="cl">                         <span class="n">size</span> <span class="o">-</span> <span class="n">index</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">        <span class="n">elementData</span><span class="o">[</span><span class="n">index</span><span class="o">]</span> <span class="o">=</span> <span class="n">element</span><span class="o">;</span>
</span></span><span class="line"><span class="cl">        <span class="n">size</span><span class="o">++;</span>
</span></span><span class="line"><span class="cl">    <span class="o">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="cm">/**
</span></span></span><span class="line"><span class="cl"><span class="cm">     * Âà†Èô§ËØ•ÂàóË°®‰∏≠ÊåáÂÆö‰ΩçÁΩÆÁöÑÂÖÉÁ¥†„ÄÇ Â∞Ü‰ªª‰ΩïÂêéÁª≠ÂÖÉÁ¥†ÁßªÂä®Âà∞Â∑¶‰æßÔºà‰ªéÂÖ∂Á¥¢Âºï‰∏≠ÂáèÂéª‰∏Ä‰∏™ÂÖÉÁ¥†Ôºâ„ÄÇ
</span></span></span><span class="line"><span class="cl"><span class="cm">     */</span>
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="n">E</span> <span class="nf">remove</span><span class="o">(</span><span class="kt">int</span> <span class="n">index</span><span class="o">)</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">rangeCheck</span><span class="o">(</span><span class="n">index</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="n">modCount</span><span class="o">++;</span>
</span></span><span class="line"><span class="cl">        <span class="n">E</span> <span class="n">oldValue</span> <span class="o">=</span> <span class="n">elementData</span><span class="o">(</span><span class="n">index</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="kt">int</span> <span class="n">numMoved</span> <span class="o">=</span> <span class="n">size</span> <span class="o">-</span> <span class="n">index</span> <span class="o">-</span> <span class="n">1</span><span class="o">;</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="o">(</span><span class="n">numMoved</span> <span class="o">&gt;</span> <span class="n">0</span><span class="o">)</span>
</span></span><span class="line"><span class="cl">            <span class="n">System</span><span class="o">.</span><span class="na">arraycopy</span><span class="o">(</span><span class="n">elementData</span><span class="o">,</span> <span class="n">index</span><span class="o">+</span><span class="n">1</span><span class="o">,</span> <span class="n">elementData</span><span class="o">,</span> <span class="n">index</span><span class="o">,</span>
</span></span><span class="line"><span class="cl">                             <span class="n">numMoved</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">        <span class="n">elementData</span><span class="o">[--</span><span class="n">size</span><span class="o">]</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span> <span class="c1">// clear to let GC do its work
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>      <span class="c1">//‰ªéÂàóË°®‰∏≠Âà†Èô§ÁöÑÂÖÉÁ¥†
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="k">return</span> <span class="n">oldValue</span><span class="o">;</span>
</span></span><span class="line"><span class="cl">    <span class="o">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="cm">/**
</span></span></span><span class="line"><span class="cl"><span class="cm">     * ‰ªéÂàóË°®‰∏≠Âà†Èô§ÊåáÂÆöÂÖÉÁ¥†ÁöÑÁ¨¨‰∏Ä‰∏™Âá∫Áé∞ÔºàÂ¶ÇÊûúÂ≠òÂú®Ôºâ„ÄÇ Â¶ÇÊûúÂàóË°®‰∏çÂåÖÂê´ËØ•ÂÖÉÁ¥†ÔºåÂàôÂÆÉ‰∏ç‰ºöÊõ¥Êîπ„ÄÇ
</span></span></span><span class="line"><span class="cl"><span class="cm">     *ËøîÂõûtrueÔºåÂ¶ÇÊûúÊ≠§ÂàóË°®ÂåÖÂê´ÊåáÂÆöÁöÑÂÖÉÁ¥†
</span></span></span><span class="line"><span class="cl"><span class="cm">     */</span>
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">remove</span><span class="o">(</span><span class="n">Object</span> <span class="n">o</span><span class="o">)</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="o">(</span><span class="n">o</span> <span class="o">==</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">            <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">index</span> <span class="o">=</span> <span class="n">0</span><span class="o">;</span> <span class="n">index</span> <span class="o">&lt;</span> <span class="n">size</span><span class="o">;</span> <span class="n">index</span><span class="o">++)</span>
</span></span><span class="line"><span class="cl">                <span class="k">if</span> <span class="o">(</span><span class="n">elementData</span><span class="o">[</span><span class="n">index</span><span class="o">]</span> <span class="o">==</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">                    <span class="n">fastRemove</span><span class="o">(</span><span class="n">index</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">                    <span class="k">return</span> <span class="kc">true</span><span class="o">;</span>
</span></span><span class="line"><span class="cl">                <span class="o">}</span>
</span></span><span class="line"><span class="cl">        <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">            <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">index</span> <span class="o">=</span> <span class="n">0</span><span class="o">;</span> <span class="n">index</span> <span class="o">&lt;</span> <span class="n">size</span><span class="o">;</span> <span class="n">index</span><span class="o">++)</span>
</span></span><span class="line"><span class="cl">                <span class="k">if</span> <span class="o">(</span><span class="n">o</span><span class="o">.</span><span class="na">equals</span><span class="o">(</span><span class="n">elementData</span><span class="o">[</span><span class="n">index</span><span class="o">]))</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">                    <span class="n">fastRemove</span><span class="o">(</span><span class="n">index</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">                    <span class="k">return</span> <span class="kc">true</span><span class="o">;</span>
</span></span><span class="line"><span class="cl">                <span class="o">}</span>
</span></span><span class="line"><span class="cl">        <span class="o">}</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="kc">false</span><span class="o">;</span>
</span></span><span class="line"><span class="cl">    <span class="o">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="cm">/*
</span></span></span><span class="line"><span class="cl"><span class="cm">     * Private remove method that skips bounds checking and does not
</span></span></span><span class="line"><span class="cl"><span class="cm">     * return the value removed.
</span></span></span><span class="line"><span class="cl"><span class="cm">     */</span>
</span></span><span class="line"><span class="cl">    <span class="kd">private</span> <span class="kt">void</span> <span class="nf">fastRemove</span><span class="o">(</span><span class="kt">int</span> <span class="n">index</span><span class="o">)</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">modCount</span><span class="o">++;</span>
</span></span><span class="line"><span class="cl">        <span class="kt">int</span> <span class="n">numMoved</span> <span class="o">=</span> <span class="n">size</span> <span class="o">-</span> <span class="n">index</span> <span class="o">-</span> <span class="n">1</span><span class="o">;</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="o">(</span><span class="n">numMoved</span> <span class="o">&gt;</span> <span class="n">0</span><span class="o">)</span>
</span></span><span class="line"><span class="cl">            <span class="n">System</span><span class="o">.</span><span class="na">arraycopy</span><span class="o">(</span><span class="n">elementData</span><span class="o">,</span> <span class="n">index</span><span class="o">+</span><span class="n">1</span><span class="o">,</span> <span class="n">elementData</span><span class="o">,</span> <span class="n">index</span><span class="o">,</span>
</span></span><span class="line"><span class="cl">                             <span class="n">numMoved</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">        <span class="n">elementData</span><span class="o">[--</span><span class="n">size</span><span class="o">]</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span> <span class="c1">// clear to let GC do its work
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="o">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="cm">/**
</span></span></span><span class="line"><span class="cl"><span class="cm">     * ‰ªéÂàóË°®‰∏≠Âà†Èô§ÊâÄÊúâÂÖÉÁ¥†„ÄÇ
</span></span></span><span class="line"><span class="cl"><span class="cm">     */</span>
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">clear</span><span class="o">()</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">modCount</span><span class="o">++;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="c1">// ÊääÊï∞ÁªÑ‰∏≠ÊâÄÊúâÁöÑÂÖÉÁ¥†ÁöÑÂÄºËÆæ‰∏∫null
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="n">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">size</span><span class="o">;</span> <span class="n">i</span><span class="o">++)</span>
</span></span><span class="line"><span class="cl">            <span class="n">elementData</span><span class="o">[</span><span class="n">i</span><span class="o">]</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="n">size</span> <span class="o">=</span> <span class="n">0</span><span class="o">;</span>
</span></span><span class="line"><span class="cl">    <span class="o">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="cm">/**
</span></span></span><span class="line"><span class="cl"><span class="cm">     * ÊåâÊåáÂÆöÈõÜÂêàÁöÑIteratorËøîÂõûÁöÑÈ°∫Â∫èÂ∞ÜÊåáÂÆöÈõÜÂêà‰∏≠ÁöÑÊâÄÊúâÂÖÉÁ¥†ËøΩÂä†Âà∞Ê≠§ÂàóË°®ÁöÑÊú´Â∞æ„ÄÇ
</span></span></span><span class="line"><span class="cl"><span class="cm">     */</span>
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">addAll</span><span class="o">(</span><span class="n">Collection</span><span class="o">&lt;?</span> <span class="kd">extends</span> <span class="n">E</span><span class="o">&gt;</span> <span class="n">c</span><span class="o">)</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">Object</span><span class="o">[]</span> <span class="n">a</span> <span class="o">=</span> <span class="n">c</span><span class="o">.</span><span class="na">toArray</span><span class="o">();</span>
</span></span><span class="line"><span class="cl">        <span class="kt">int</span> <span class="n">numNew</span> <span class="o">=</span> <span class="n">a</span><span class="o">.</span><span class="na">length</span><span class="o">;</span>
</span></span><span class="line"><span class="cl">        <span class="n">ensureCapacityInternal</span><span class="o">(</span><span class="n">size</span> <span class="o">+</span> <span class="n">numNew</span><span class="o">);</span>  <span class="c1">// Increments modCount
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="n">System</span><span class="o">.</span><span class="na">arraycopy</span><span class="o">(</span><span class="n">a</span><span class="o">,</span> <span class="n">0</span><span class="o">,</span> <span class="n">elementData</span><span class="o">,</span> <span class="n">size</span><span class="o">,</span> <span class="n">numNew</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">        <span class="n">size</span> <span class="o">+=</span> <span class="n">numNew</span><span class="o">;</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="n">numNew</span> <span class="o">!=</span> <span class="n">0</span><span class="o">;</span>
</span></span><span class="line"><span class="cl">    <span class="o">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="cm">/**
</span></span></span><span class="line"><span class="cl"><span class="cm">     * Â∞ÜÊåáÂÆöÈõÜÂêà‰∏≠ÁöÑÊâÄÊúâÂÖÉÁ¥†ÊèíÂÖ•Âà∞Ê≠§ÂàóË°®‰∏≠Ôºå‰ªéÊåáÂÆöÁöÑ‰ΩçÁΩÆÂºÄÂßã„ÄÇ
</span></span></span><span class="line"><span class="cl"><span class="cm">     */</span>
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">addAll</span><span class="o">(</span><span class="kt">int</span> <span class="n">index</span><span class="o">,</span> <span class="n">Collection</span><span class="o">&lt;?</span> <span class="kd">extends</span> <span class="n">E</span><span class="o">&gt;</span> <span class="n">c</span><span class="o">)</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">rangeCheckForAdd</span><span class="o">(</span><span class="n">index</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="n">Object</span><span class="o">[]</span> <span class="n">a</span> <span class="o">=</span> <span class="n">c</span><span class="o">.</span><span class="na">toArray</span><span class="o">();</span>
</span></span><span class="line"><span class="cl">        <span class="kt">int</span> <span class="n">numNew</span> <span class="o">=</span> <span class="n">a</span><span class="o">.</span><span class="na">length</span><span class="o">;</span>
</span></span><span class="line"><span class="cl">        <span class="n">ensureCapacityInternal</span><span class="o">(</span><span class="n">size</span> <span class="o">+</span> <span class="n">numNew</span><span class="o">);</span>  <span class="c1">// Increments modCount
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl">        <span class="kt">int</span> <span class="n">numMoved</span> <span class="o">=</span> <span class="n">size</span> <span class="o">-</span> <span class="n">index</span><span class="o">;</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="o">(</span><span class="n">numMoved</span> <span class="o">&gt;</span> <span class="n">0</span><span class="o">)</span>
</span></span><span class="line"><span class="cl">            <span class="n">System</span><span class="o">.</span><span class="na">arraycopy</span><span class="o">(</span><span class="n">elementData</span><span class="o">,</span> <span class="n">index</span><span class="o">,</span> <span class="n">elementData</span><span class="o">,</span> <span class="n">index</span> <span class="o">+</span> <span class="n">numNew</span><span class="o">,</span>
</span></span><span class="line"><span class="cl">                             <span class="n">numMoved</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="n">System</span><span class="o">.</span><span class="na">arraycopy</span><span class="o">(</span><span class="n">a</span><span class="o">,</span> <span class="n">0</span><span class="o">,</span> <span class="n">elementData</span><span class="o">,</span> <span class="n">index</span><span class="o">,</span> <span class="n">numNew</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">        <span class="n">size</span> <span class="o">+=</span> <span class="n">numNew</span><span class="o">;</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="n">numNew</span> <span class="o">!=</span> <span class="n">0</span><span class="o">;</span>
</span></span><span class="line"><span class="cl">    <span class="o">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="cm">/**
</span></span></span><span class="line"><span class="cl"><span class="cm">     * ‰ªéÊ≠§ÂàóË°®‰∏≠Âà†Èô§ÊâÄÊúâÁ¥¢Âºï‰∏∫fromIndex ÔºàÂê´ÔºâÂíåtoIndex‰πãÈó¥ÁöÑÂÖÉÁ¥†„ÄÇ
</span></span></span><span class="line"><span class="cl"><span class="cm">     *Â∞Ü‰ªª‰ΩïÂêéÁª≠ÂÖÉÁ¥†ÁßªÂä®Âà∞Â∑¶‰æßÔºàÂáèÂ∞ëÂÖ∂Á¥¢ÂºïÔºâ„ÄÇ
</span></span></span><span class="line"><span class="cl"><span class="cm">     */</span>
</span></span><span class="line"><span class="cl">    <span class="kd">protected</span> <span class="kt">void</span> <span class="nf">removeRange</span><span class="o">(</span><span class="kt">int</span> <span class="n">fromIndex</span><span class="o">,</span> <span class="kt">int</span> <span class="n">toIndex</span><span class="o">)</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">modCount</span><span class="o">++;</span>
</span></span><span class="line"><span class="cl">        <span class="kt">int</span> <span class="n">numMoved</span> <span class="o">=</span> <span class="n">size</span> <span class="o">-</span> <span class="n">toIndex</span><span class="o">;</span>
</span></span><span class="line"><span class="cl">        <span class="n">System</span><span class="o">.</span><span class="na">arraycopy</span><span class="o">(</span><span class="n">elementData</span><span class="o">,</span> <span class="n">toIndex</span><span class="o">,</span> <span class="n">elementData</span><span class="o">,</span> <span class="n">fromIndex</span><span class="o">,</span>
</span></span><span class="line"><span class="cl">                         <span class="n">numMoved</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="c1">// clear to let GC do its work
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="kt">int</span> <span class="n">newSize</span> <span class="o">=</span> <span class="n">size</span> <span class="o">-</span> <span class="o">(</span><span class="n">toIndex</span><span class="o">-</span><span class="n">fromIndex</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">        <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="n">newSize</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">size</span><span class="o">;</span> <span class="n">i</span><span class="o">++)</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">            <span class="n">elementData</span><span class="o">[</span><span class="n">i</span><span class="o">]</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
</span></span><span class="line"><span class="cl">        <span class="o">}</span>
</span></span><span class="line"><span class="cl">        <span class="n">size</span> <span class="o">=</span> <span class="n">newSize</span><span class="o">;</span>
</span></span><span class="line"><span class="cl">    <span class="o">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="cm">/**
</span></span></span><span class="line"><span class="cl"><span class="cm">     * Ê£ÄÊü•ÁªôÂÆöÁöÑÁ¥¢ÂºïÊòØÂê¶Âú®ËåÉÂõ¥ÂÜÖ„ÄÇ
</span></span></span><span class="line"><span class="cl"><span class="cm">     */</span>
</span></span><span class="line"><span class="cl">    <span class="kd">private</span> <span class="kt">void</span> <span class="nf">rangeCheck</span><span class="o">(</span><span class="kt">int</span> <span class="n">index</span><span class="o">)</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="o">(</span><span class="n">index</span> <span class="o">&gt;=</span> <span class="n">size</span><span class="o">)</span>
</span></span><span class="line"><span class="cl">            <span class="k">throw</span> <span class="k">new</span> <span class="n">IndexOutOfBoundsException</span><span class="o">(</span><span class="n">outOfBoundsMsg</span><span class="o">(</span><span class="n">index</span><span class="o">));</span>
</span></span><span class="line"><span class="cl">    <span class="o">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="cm">/**
</span></span></span><span class="line"><span class="cl"><span class="cm">     * addÂíåaddAll‰ΩøÁî®ÁöÑrangeCheckÁöÑ‰∏Ä‰∏™ÁâàÊú¨
</span></span></span><span class="line"><span class="cl"><span class="cm">     */</span>
</span></span><span class="line"><span class="cl">    <span class="kd">private</span> <span class="kt">void</span> <span class="nf">rangeCheckForAdd</span><span class="o">(</span><span class="kt">int</span> <span class="n">index</span><span class="o">)</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="o">(</span><span class="n">index</span> <span class="o">&gt;</span> <span class="n">size</span> <span class="o">||</span> <span class="n">index</span> <span class="o">&lt;</span> <span class="n">0</span><span class="o">)</span>
</span></span><span class="line"><span class="cl">            <span class="k">throw</span> <span class="k">new</span> <span class="n">IndexOutOfBoundsException</span><span class="o">(</span><span class="n">outOfBoundsMsg</span><span class="o">(</span><span class="n">index</span><span class="o">));</span>
</span></span><span class="line"><span class="cl">    <span class="o">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="cm">/**
</span></span></span><span class="line"><span class="cl"><span class="cm">     * ËøîÂõûIndexOutOfBoundsExceptionÁªÜËäÇ‰ø°ÊÅØ
</span></span></span><span class="line"><span class="cl"><span class="cm">     */</span>
</span></span><span class="line"><span class="cl">    <span class="kd">private</span> <span class="n">String</span> <span class="nf">outOfBoundsMsg</span><span class="o">(</span><span class="kt">int</span> <span class="n">index</span><span class="o">)</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="s">&#34;Index: &#34;</span><span class="o">+</span><span class="n">index</span><span class="o">+</span><span class="s">&#34;, Size: &#34;</span><span class="o">+</span><span class="n">size</span><span class="o">;</span>
</span></span><span class="line"><span class="cl">    <span class="o">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="cm">/**
</span></span></span><span class="line"><span class="cl"><span class="cm">     * ‰ªéÊ≠§ÂàóË°®‰∏≠Âà†Èô§ÊåáÂÆöÈõÜÂêà‰∏≠ÂåÖÂê´ÁöÑÊâÄÊúâÂÖÉÁ¥†„ÄÇ
</span></span></span><span class="line"><span class="cl"><span class="cm">     */</span>
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">removeAll</span><span class="o">(</span><span class="n">Collection</span><span class="o">&lt;?&gt;</span> <span class="n">c</span><span class="o">)</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">Objects</span><span class="o">.</span><span class="na">requireNonNull</span><span class="o">(</span><span class="n">c</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">        <span class="c1">//Â¶ÇÊûúÊ≠§ÂàóË°®Ë¢´‰øÆÊîπÂàôËøîÂõûtrue
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="k">return</span> <span class="n">batchRemove</span><span class="o">(</span><span class="n">c</span><span class="o">,</span> <span class="kc">false</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">    <span class="o">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="cm">/**
</span></span></span><span class="line"><span class="cl"><span class="cm">     * ‰ªÖ‰øùÁïôÊ≠§ÂàóË°®‰∏≠ÂåÖÂê´Âú®ÊåáÂÆöÈõÜÂêà‰∏≠ÁöÑÂÖÉÁ¥†„ÄÇ
</span></span></span><span class="line"><span class="cl"><span class="cm">     *Êç¢Âè•ËØùËØ¥Ôºå‰ªéÊ≠§ÂàóË°®‰∏≠Âà†Èô§ÂÖ∂‰∏≠‰∏çÂåÖÂê´Âú®ÊåáÂÆöÈõÜÂêà‰∏≠ÁöÑÊâÄÊúâÂÖÉÁ¥†„ÄÇ
</span></span></span><span class="line"><span class="cl"><span class="cm">     */</span>
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">retainAll</span><span class="o">(</span><span class="n">Collection</span><span class="o">&lt;?&gt;</span> <span class="n">c</span><span class="o">)</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">Objects</span><span class="o">.</span><span class="na">requireNonNull</span><span class="o">(</span><span class="n">c</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="n">batchRemove</span><span class="o">(</span><span class="n">c</span><span class="o">,</span> <span class="kc">true</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">    <span class="o">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="cm">/**
</span></span></span><span class="line"><span class="cl"><span class="cm">     * ‰ªéÂàóË°®‰∏≠ÁöÑÊåáÂÆö‰ΩçÁΩÆÂºÄÂßãÔºåËøîÂõûÂàóË°®‰∏≠ÁöÑÂÖÉÁ¥†ÔºàÊåâÊ≠£Á°ÆÈ°∫Â∫èÔºâÁöÑÂàóË°®Ëø≠‰ª£Âô®„ÄÇ
</span></span></span><span class="line"><span class="cl"><span class="cm">     *ÊåáÂÆöÁöÑÁ¥¢ÂºïË°®Á§∫ÂàùÂßãË∞ÉÁî®Â∞ÜËøîÂõûÁöÑÁ¨¨‰∏Ä‰∏™ÂÖÉÁ¥†‰∏∫next „ÄÇ ÂàùÂßãË∞ÉÁî®previousÂ∞ÜËøîÂõûÊåáÂÆöÁ¥¢ÂºïÂáè1ÁöÑÂÖÉÁ¥†„ÄÇ
</span></span></span><span class="line"><span class="cl"><span class="cm">     *ËøîÂõûÁöÑÂàóË°®Ëø≠‰ª£Âô®ÊòØfail-fast „ÄÇ
</span></span></span><span class="line"><span class="cl"><span class="cm">     */</span>
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="n">ListIterator</span><span class="o">&lt;</span><span class="n">E</span><span class="o">&gt;</span> <span class="nf">listIterator</span><span class="o">(</span><span class="kt">int</span> <span class="n">index</span><span class="o">)</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="o">(</span><span class="n">index</span> <span class="o">&lt;</span> <span class="n">0</span> <span class="o">||</span> <span class="n">index</span> <span class="o">&gt;</span> <span class="n">size</span><span class="o">)</span>
</span></span><span class="line"><span class="cl">            <span class="k">throw</span> <span class="k">new</span> <span class="n">IndexOutOfBoundsException</span><span class="o">(</span><span class="s">&#34;Index: &#34;</span><span class="o">+</span><span class="n">index</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="k">new</span> <span class="n">ListItr</span><span class="o">(</span><span class="n">index</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">    <span class="o">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="cm">/**
</span></span></span><span class="line"><span class="cl"><span class="cm">     *ËøîÂõûÂàóË°®‰∏≠ÁöÑÂàóË°®Ëø≠‰ª£Âô®ÔºàÊåâÈÄÇÂΩìÁöÑÈ°∫Â∫èÔºâ„ÄÇ
</span></span></span><span class="line"><span class="cl"><span class="cm">     *ËøîÂõûÁöÑÂàóË°®Ëø≠‰ª£Âô®ÊòØfail-fast „ÄÇ
</span></span></span><span class="line"><span class="cl"><span class="cm">     */</span>
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="n">ListIterator</span><span class="o">&lt;</span><span class="n">E</span><span class="o">&gt;</span> <span class="nf">listIterator</span><span class="o">()</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="k">new</span> <span class="n">ListItr</span><span class="o">(</span><span class="n">0</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">    <span class="o">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="cm">/**
</span></span></span><span class="line"><span class="cl"><span class="cm">     *‰ª•Ê≠£Á°ÆÁöÑÈ°∫Â∫èËøîÂõûËØ•ÂàóË°®‰∏≠ÁöÑÂÖÉÁ¥†ÁöÑËø≠‰ª£Âô®„ÄÇ
</span></span></span><span class="line"><span class="cl"><span class="cm">     *ËøîÂõûÁöÑËø≠‰ª£Âô®ÊòØfail-fast „ÄÇ
</span></span></span><span class="line"><span class="cl"><span class="cm">     */</span>
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="n">Iterator</span><span class="o">&lt;</span><span class="n">E</span><span class="o">&gt;</span> <span class="nf">iterator</span><span class="o">()</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="k">new</span> <span class="n">Itr</span><span class="o">();</span>
</span></span><span class="line"><span class="cl">    <span class="o">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="arraylist-Êâ©ÂÆπÊú∫Âà∂ÂàÜÊûê">ArrayList Êâ©ÂÆπÊú∫Âà∂ÂàÜÊûê</h2>
<h3 id="ÂÖà‰ªé-arraylist-ÁöÑÊûÑÈÄ†ÂáΩÊï∞ËØ¥Ëµ∑">ÂÖà‰ªé ArrayList ÁöÑÊûÑÈÄ†ÂáΩÊï∞ËØ¥Ëµ∑</h3>
<p><strong>ÔºàJDK8ÔºâArrayList Êúâ‰∏âÁßçÊñπÂºèÊù•ÂàùÂßãÂåñÔºåÊûÑÈÄ†ÊñπÊ≥ïÊ∫êÁ†ÅÂ¶Ç‰∏ãÔºö</strong></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-Java" data-lang="Java"><span class="line"><span class="cl">   <span class="cm">/**
</span></span></span><span class="line"><span class="cl"><span class="cm">     * ÈªòËÆ§ÂàùÂßãÂÆπÈáèÂ§ßÂ∞è
</span></span></span><span class="line"><span class="cl"><span class="cm">     */</span>
</span></span><span class="line"><span class="cl">    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="kt">int</span> <span class="n">DEFAULT_CAPACITY</span> <span class="o">=</span> <span class="n">10</span><span class="o">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">Object</span><span class="o">[]</span> <span class="n">DEFAULTCAPACITY_EMPTY_ELEMENTDATA</span> <span class="o">=</span> <span class="o">{};</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="cm">/**
</span></span></span><span class="line"><span class="cl"><span class="cm">     *ÈªòËÆ§ÊûÑÈÄ†ÂáΩÊï∞Ôºå‰ΩøÁî®ÂàùÂßãÂÆπÈáè10ÊûÑÈÄ†‰∏Ä‰∏™Á©∫ÂàóË°®(Êó†ÂèÇÊï∞ÊûÑÈÄ†)
</span></span></span><span class="line"><span class="cl"><span class="cm">     */</span>
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="nf">ArrayList</span><span class="o">()</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">this</span><span class="o">.</span><span class="na">elementData</span> <span class="o">=</span> <span class="n">DEFAULTCAPACITY_EMPTY_ELEMENTDATA</span><span class="o">;</span>
</span></span><span class="line"><span class="cl">    <span class="o">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="cm">/**
</span></span></span><span class="line"><span class="cl"><span class="cm">     * Â∏¶ÂàùÂßãÂÆπÈáèÂèÇÊï∞ÁöÑÊûÑÈÄ†ÂáΩÊï∞„ÄÇÔºàÁî®Êà∑Ëá™Â∑±ÊåáÂÆöÂÆπÈáèÔºâ
</span></span></span><span class="line"><span class="cl"><span class="cm">     */</span>
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="nf">ArrayList</span><span class="o">(</span><span class="kt">int</span> <span class="n">initialCapacity</span><span class="o">)</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="o">(</span><span class="n">initialCapacity</span> <span class="o">&gt;</span> <span class="n">0</span><span class="o">)</span> <span class="o">{</span><span class="c1">//ÂàùÂßãÂÆπÈáèÂ§ß‰∫é0
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>            <span class="c1">//ÂàõÂª∫initialCapacityÂ§ßÂ∞èÁöÑÊï∞ÁªÑ
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>            <span class="k">this</span><span class="o">.</span><span class="na">elementData</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Object</span><span class="o">[</span><span class="n">initialCapacity</span><span class="o">];</span>
</span></span><span class="line"><span class="cl">        <span class="o">}</span> <span class="k">else</span> <span class="k">if</span> <span class="o">(</span><span class="n">initialCapacity</span> <span class="o">==</span> <span class="n">0</span><span class="o">)</span> <span class="o">{</span><span class="c1">//ÂàùÂßãÂÆπÈáèÁ≠â‰∫é0
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>            <span class="c1">//ÂàõÂª∫Á©∫Êï∞ÁªÑ
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>            <span class="k">this</span><span class="o">.</span><span class="na">elementData</span> <span class="o">=</span> <span class="n">EMPTY_ELEMENTDATA</span><span class="o">;</span>
</span></span><span class="line"><span class="cl">        <span class="o">}</span> <span class="k">else</span> <span class="o">{</span><span class="c1">//ÂàùÂßãÂÆπÈáèÂ∞è‰∫é0ÔºåÊäõÂá∫ÂºÇÂ∏∏
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>            <span class="k">throw</span> <span class="k">new</span> <span class="n">IllegalArgumentException</span><span class="o">(</span><span class="s">&#34;Illegal Capacity: &#34;</span><span class="o">+</span>
</span></span><span class="line"><span class="cl">                                               <span class="n">initialCapacity</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">        <span class="o">}</span>
</span></span><span class="line"><span class="cl">    <span class="o">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">   <span class="cm">/**
</span></span></span><span class="line"><span class="cl"><span class="cm">    *ÊûÑÈÄ†ÂåÖÂê´ÊåáÂÆöcollectionÂÖÉÁ¥†ÁöÑÂàóË°®ÔºåËøô‰∫õÂÖÉÁ¥†Âà©Áî®ËØ•ÈõÜÂêàÁöÑËø≠‰ª£Âô®ÊåâÈ°∫Â∫èËøîÂõû
</span></span></span><span class="line"><span class="cl"><span class="cm">    *Â¶ÇÊûúÊåáÂÆöÁöÑÈõÜÂêà‰∏∫nullÔºåthrows NullPointerException„ÄÇ
</span></span></span><span class="line"><span class="cl"><span class="cm">    */</span>
</span></span><span class="line"><span class="cl">     <span class="kd">public</span> <span class="nf">ArrayList</span><span class="o">(</span><span class="n">Collection</span><span class="o">&lt;?</span> <span class="kd">extends</span> <span class="n">E</span><span class="o">&gt;</span> <span class="n">c</span><span class="o">)</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">elementData</span> <span class="o">=</span> <span class="n">c</span><span class="o">.</span><span class="na">toArray</span><span class="o">();</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="o">((</span><span class="n">size</span> <span class="o">=</span> <span class="n">elementData</span><span class="o">.</span><span class="na">length</span><span class="o">)</span> <span class="o">!=</span> <span class="n">0</span><span class="o">)</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">            <span class="c1">// c.toArray might (incorrectly) not return Object[] (see 6260652)
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>            <span class="k">if</span> <span class="o">(</span><span class="n">elementData</span><span class="o">.</span><span class="na">getClass</span><span class="o">()</span> <span class="o">!=</span> <span class="n">Object</span><span class="o">[].</span><span class="na">class</span><span class="o">)</span>
</span></span><span class="line"><span class="cl">                <span class="n">elementData</span> <span class="o">=</span> <span class="n">Arrays</span><span class="o">.</span><span class="na">copyOf</span><span class="o">(</span><span class="n">elementData</span><span class="o">,</span> <span class="n">size</span><span class="o">,</span> <span class="n">Object</span><span class="o">[].</span><span class="na">class</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">        <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">            <span class="c1">// replace with empty array.
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>            <span class="k">this</span><span class="o">.</span><span class="na">elementData</span> <span class="o">=</span> <span class="n">EMPTY_ELEMENTDATA</span><span class="o">;</span>
</span></span><span class="line"><span class="cl">        <span class="o">}</span>
</span></span><span class="line"><span class="cl">    <span class="o">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>ÁªÜÂøÉÁöÑÂêåÂ≠¶‰∏ÄÂÆö‰ºöÂèëÁé∞ Ôºö<strong>‰ª•Êó†ÂèÇÊï∞ÊûÑÈÄ†ÊñπÊ≥ïÂàõÂª∫ <code>ArrayList</code> Êó∂ÔºåÂÆûÈôÖ‰∏äÂàùÂßãÂåñËµãÂÄºÁöÑÊòØ‰∏Ä‰∏™Á©∫Êï∞ÁªÑ„ÄÇÂΩìÁúüÊ≠£ÂØπÊï∞ÁªÑËøõË°åÊ∑ªÂä†ÂÖÉÁ¥†Êìç‰ΩúÊó∂ÔºåÊâçÁúüÊ≠£ÂàÜÈÖçÂÆπÈáè„ÄÇÂç≥ÂêëÊï∞ÁªÑ‰∏≠Ê∑ªÂä†Á¨¨‰∏Ä‰∏™ÂÖÉÁ¥†Êó∂ÔºåÊï∞ÁªÑÂÆπÈáèÊâ©‰∏∫ 10„ÄÇ</strong> ‰∏ãÈù¢Âú®Êàë‰ª¨ÂàÜÊûê ArrayList Êâ©ÂÆπÊó∂‰ºöËÆ≤Âà∞Ëøô‰∏ÄÁÇπÂÜÖÂÆπÔºÅ</p>
<blockquote>
<p>Ë°•ÂÖÖÔºöJDK6 new Êó†ÂèÇÊûÑÈÄ†ÁöÑ <code>ArrayList</code> ÂØπË±°Êó∂ÔºåÁõ¥Êé•ÂàõÂª∫‰∫ÜÈïøÂ∫¶ÊòØ 10 ÁöÑ <code>Object[]</code> Êï∞ÁªÑ elementData „ÄÇ</p>
</blockquote>
<h3 id="‰∏ÄÊ≠•‰∏ÄÊ≠•ÂàÜÊûê-arraylist-Êâ©ÂÆπÊú∫Âà∂">‰∏ÄÊ≠•‰∏ÄÊ≠•ÂàÜÊûê ArrayList Êâ©ÂÆπÊú∫Âà∂</h3>
<p>ËøôÈáå‰ª•Êó†ÂèÇÊûÑÈÄ†ÂáΩÊï∞ÂàõÂª∫ÁöÑ ArrayList ‰∏∫‰æãÂàÜÊûê</p>
<h4 id="ÂÖàÊù•Áúã-add-ÊñπÊ≥ï">ÂÖàÊù•Áúã <code>add</code> ÊñπÊ≥ï</h4>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-Java" data-lang="Java"><span class="line"><span class="cl">    <span class="cm">/**
</span></span></span><span class="line"><span class="cl"><span class="cm">     * Â∞ÜÊåáÂÆöÁöÑÂÖÉÁ¥†ËøΩÂä†Âà∞Ê≠§ÂàóË°®ÁöÑÊú´Â∞æ„ÄÇ
</span></span></span><span class="line"><span class="cl"><span class="cm">     */</span>
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">add</span><span class="o">(</span><span class="n">E</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">   <span class="c1">//Ê∑ªÂä†ÂÖÉÁ¥†‰πãÂâçÔºåÂÖàË∞ÉÁî®ensureCapacityInternalÊñπÊ≥ï
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="n">ensureCapacityInternal</span><span class="o">(</span><span class="n">size</span> <span class="o">+</span> <span class="n">1</span><span class="o">);</span>  <span class="c1">// Increments modCount!!
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="c1">//ËøôÈáåÁúãÂà∞ArrayListÊ∑ªÂä†ÂÖÉÁ¥†ÁöÑÂÆûË¥®Â∞±Áõ∏ÂΩì‰∫é‰∏∫Êï∞ÁªÑËµãÂÄº
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="n">elementData</span><span class="o">[</span><span class="n">size</span><span class="o">++]</span> <span class="o">=</span> <span class="n">e</span><span class="o">;</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="kc">true</span><span class="o">;</span>
</span></span><span class="line"><span class="cl">    <span class="o">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><blockquote>
<p><strong>Ê≥®ÊÑè</strong> ÔºöJDK11 ÁßªÈô§‰∫Ü <code>ensureCapacityInternal()</code> Âíå <code>ensureExplicitCapacity()</code> ÊñπÊ≥ï</p>
</blockquote>
<h4 id="ÂÜçÊù•ÁúãÁúã-ensurecapacityinternal-ÊñπÊ≥ï">ÂÜçÊù•ÁúãÁúã <code>ensureCapacityInternal()</code> ÊñπÊ≥ï</h4>
<p>ÔºàJDK7ÔºâÂèØ‰ª•ÁúãÂà∞ <code>add</code> ÊñπÊ≥ï È¶ñÂÖàË∞ÉÁî®‰∫Ü<code>ensureCapacityInternal(size + 1)</code></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl">   <span class="c1">//ÂæóÂà∞ÊúÄÂ∞èÊâ©ÂÆπÈáè
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="kd">private</span> <span class="kt">void</span> <span class="nf">ensureCapacityInternal</span><span class="o">(</span><span class="kt">int</span> <span class="n">minCapacity</span><span class="o">)</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="o">(</span><span class="n">elementData</span> <span class="o">==</span> <span class="n">DEFAULTCAPACITY_EMPTY_ELEMENTDATA</span><span class="o">)</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">              <span class="c1">// Ëé∑ÂèñÈªòËÆ§ÁöÑÂÆπÈáèÂíå‰º†ÂÖ•ÂèÇÊï∞ÁöÑËæÉÂ§ßÂÄº
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>            <span class="n">minCapacity</span> <span class="o">=</span> <span class="n">Math</span><span class="o">.</span><span class="na">max</span><span class="o">(</span><span class="n">DEFAULT_CAPACITY</span><span class="o">,</span> <span class="n">minCapacity</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">        <span class="o">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="n">ensureExplicitCapacity</span><span class="o">(</span><span class="n">minCapacity</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">    <span class="o">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><strong>ÂΩì Ë¶Å add ËøõÁ¨¨ 1 ‰∏™ÂÖÉÁ¥†Êó∂ÔºåminCapacity ‰∏∫ 1ÔºåÂú® Math.max()ÊñπÊ≥ïÊØîËæÉÂêéÔºåminCapacity ‰∏∫ 10„ÄÇ</strong></p>
<blockquote>
<p>Ê≠§Â§ÑÂíåÂêéÁª≠ JDK8 ‰ª£Á†ÅÊ†ºÂºèÂåñÁï•Êúâ‰∏çÂêåÔºåÊ†∏ÂøÉ‰ª£Á†ÅÂü∫Êú¨‰∏ÄÊ†∑„ÄÇ</p>
</blockquote>
<h4 id="ensureexplicitcapacity-ÊñπÊ≥ï"><code>ensureExplicitCapacity()</code> ÊñπÊ≥ï</h4>
<p>Â¶ÇÊûúË∞ÉÁî® <code>ensureCapacityInternal()</code> ÊñπÊ≥ïÂ∞±‰∏ÄÂÆö‰ºöËøõÂÖ•ÔºàÊâßË°åÔºâËøô‰∏™ÊñπÊ≥ïÔºå‰∏ãÈù¢Êàë‰ª¨Êù•Á†îÁ©∂‰∏Ä‰∏ãËøô‰∏™ÊñπÊ≥ïÁöÑÊ∫êÁ†ÅÔºÅ</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl">  <span class="c1">//Âà§Êñ≠ÊòØÂê¶ÈúÄË¶ÅÊâ©ÂÆπ
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="kd">private</span> <span class="kt">void</span> <span class="nf">ensureExplicitCapacity</span><span class="o">(</span><span class="kt">int</span> <span class="n">minCapacity</span><span class="o">)</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">modCount</span><span class="o">++;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="c1">// overflow-conscious code
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="k">if</span> <span class="o">(</span><span class="n">minCapacity</span> <span class="o">-</span> <span class="n">elementData</span><span class="o">.</span><span class="na">length</span> <span class="o">&gt;</span> <span class="n">0</span><span class="o">)</span>
</span></span><span class="line"><span class="cl">            <span class="c1">//Ë∞ÉÁî®growÊñπÊ≥ïËøõË°åÊâ©ÂÆπÔºåË∞ÉÁî®Ê≠§ÊñπÊ≥ï‰ª£Ë°®Â∑≤ÁªèÂºÄÂßãÊâ©ÂÆπ‰∫Ü
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>            <span class="n">grow</span><span class="o">(</span><span class="n">minCapacity</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">    <span class="o">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>Êàë‰ª¨Êù•‰ªîÁªÜÂàÜÊûê‰∏Ä‰∏ãÔºö</p>
<ul>
<li>ÂΩìÊàë‰ª¨Ë¶Å add ËøõÁ¨¨ 1 ‰∏™ÂÖÉÁ¥†Âà∞ ArrayList Êó∂ÔºåelementData.length ‰∏∫ 0 ÔºàÂõ†‰∏∫ËøòÊòØ‰∏Ä‰∏™Á©∫ÁöÑ listÔºâÔºåÂõ†‰∏∫ÊâßË°å‰∫Ü <code>ensureCapacityInternal()</code> ÊñπÊ≥ï ÔºåÊâÄ‰ª• minCapacity Ê≠§Êó∂‰∏∫ 10„ÄÇÊ≠§Êó∂Ôºå<code>minCapacity - elementData.length &gt; 0</code>ÊàêÁ´ãÔºåÊâÄ‰ª•‰ºöËøõÂÖ• <code>grow(minCapacity)</code> ÊñπÊ≥ï„ÄÇ</li>
<li>ÂΩì add Á¨¨ 2 ‰∏™ÂÖÉÁ¥†Êó∂ÔºåminCapacity ‰∏∫ 2ÔºåÊ≠§Êó∂ e lementData.length(ÂÆπÈáè)Âú®Ê∑ªÂä†Á¨¨‰∏Ä‰∏™ÂÖÉÁ¥†ÂêéÊâ©ÂÆπÊàê 10 ‰∫Ü„ÄÇÊ≠§Êó∂Ôºå<code>minCapacity - elementData.length &gt; 0</code> ‰∏çÊàêÁ´ãÔºåÊâÄ‰ª•‰∏ç‰ºöËøõÂÖ• ÔºàÊâßË°åÔºâ<code>grow(minCapacity)</code> ÊñπÊ≥ï„ÄÇ</li>
<li>Ê∑ªÂä†Á¨¨ 3„ÄÅ4¬∑¬∑¬∑Âà∞Á¨¨ 10 ‰∏™ÂÖÉÁ¥†Êó∂Ôºå‰æùÁÑ∂‰∏ç‰ºöÊâßË°å grow ÊñπÊ≥ïÔºåÊï∞ÁªÑÂÆπÈáèÈÉΩ‰∏∫ 10„ÄÇ</li>
</ul>
<p>Áõ¥Âà∞Ê∑ªÂä†Á¨¨ 11 ‰∏™ÂÖÉÁ¥†ÔºåminCapacity(‰∏∫ 11)ÊØî elementData.lengthÔºà‰∏∫ 10ÔºâË¶ÅÂ§ß„ÄÇËøõÂÖ• grow ÊñπÊ≥ïËøõË°åÊâ©ÂÆπ„ÄÇ</p>
<h4 id="grow-ÊñπÊ≥ï"><code>grow()</code> ÊñπÊ≥ï</h4>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl">    <span class="cm">/**
</span></span></span><span class="line"><span class="cl"><span class="cm">     * Ë¶ÅÂàÜÈÖçÁöÑÊúÄÂ§ßÊï∞ÁªÑÂ§ßÂ∞è
</span></span></span><span class="line"><span class="cl"><span class="cm">     */</span>
</span></span><span class="line"><span class="cl">    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="kt">int</span> <span class="n">MAX_ARRAY_SIZE</span> <span class="o">=</span> <span class="n">Integer</span><span class="o">.</span><span class="na">MAX_VALUE</span> <span class="o">-</span> <span class="n">8</span><span class="o">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="cm">/**
</span></span></span><span class="line"><span class="cl"><span class="cm">     * ArrayListÊâ©ÂÆπÁöÑÊ†∏ÂøÉÊñπÊ≥ï„ÄÇ
</span></span></span><span class="line"><span class="cl"><span class="cm">     */</span>
</span></span><span class="line"><span class="cl">    <span class="kd">private</span> <span class="kt">void</span> <span class="nf">grow</span><span class="o">(</span><span class="kt">int</span> <span class="n">minCapacity</span><span class="o">)</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">        <span class="c1">// oldCapacity‰∏∫ÊóßÂÆπÈáèÔºånewCapacity‰∏∫Êñ∞ÂÆπÈáè
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="kt">int</span> <span class="n">oldCapacity</span> <span class="o">=</span> <span class="n">elementData</span><span class="o">.</span><span class="na">length</span><span class="o">;</span>
</span></span><span class="line"><span class="cl">        <span class="c1">//Â∞ÜoldCapacity Âè≥Áßª‰∏Ä‰ΩçÔºåÂÖ∂ÊïàÊûúÁõ∏ÂΩì‰∫éoldCapacity /2Ôºå
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="c1">//Êàë‰ª¨Áü•ÈÅì‰ΩçËøêÁÆóÁöÑÈÄüÂ∫¶ËøúËøúÂø´‰∫éÊï¥Èô§ËøêÁÆóÔºåÊï¥Âè•ËøêÁÆóÂºèÁöÑÁªìÊûúÂ∞±ÊòØÂ∞ÜÊñ∞ÂÆπÈáèÊõ¥Êñ∞‰∏∫ÊóßÂÆπÈáèÁöÑ1.5ÂÄçÔºå
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="kt">int</span> <span class="n">newCapacity</span> <span class="o">=</span> <span class="n">oldCapacity</span> <span class="o">+</span> <span class="o">(</span><span class="n">oldCapacity</span> <span class="o">&gt;&gt;</span> <span class="n">1</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">        <span class="c1">//ÁÑ∂ÂêéÊ£ÄÊü•Êñ∞ÂÆπÈáèÊòØÂê¶Â§ß‰∫éÊúÄÂ∞èÈúÄË¶ÅÂÆπÈáèÔºåËã•ËøòÊòØÂ∞è‰∫éÊúÄÂ∞èÈúÄË¶ÅÂÆπÈáèÔºåÈÇ£‰πàÂ∞±ÊääÊúÄÂ∞èÈúÄË¶ÅÂÆπÈáèÂΩì‰ΩúÊï∞ÁªÑÁöÑÊñ∞ÂÆπÈáèÔºå
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="k">if</span> <span class="o">(</span><span class="n">newCapacity</span> <span class="o">-</span> <span class="n">minCapacity</span> <span class="o">&lt;</span> <span class="n">0</span><span class="o">)</span>
</span></span><span class="line"><span class="cl">            <span class="n">newCapacity</span> <span class="o">=</span> <span class="n">minCapacity</span><span class="o">;</span>
</span></span><span class="line"><span class="cl">       <span class="c1">// Â¶ÇÊûúÊñ∞ÂÆπÈáèÂ§ß‰∫é MAX_ARRAY_SIZE,ËøõÂÖ•(ÊâßË°å) `hugeCapacity()` ÊñπÊ≥ïÊù•ÊØîËæÉ minCapacity Âíå MAX_ARRAY_SIZEÔºå
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>       <span class="c1">//Â¶ÇÊûúminCapacityÂ§ß‰∫éÊúÄÂ§ßÂÆπÈáèÔºåÂàôÊñ∞ÂÆπÈáèÂàô‰∏∫`Integer.MAX_VALUE`ÔºåÂê¶ÂàôÔºåÊñ∞ÂÆπÈáèÂ§ßÂ∞èÂàô‰∏∫ MAX_ARRAY_SIZE Âç≥‰∏∫ `Integer.MAX_VALUE - 8`„ÄÇ
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="k">if</span> <span class="o">(</span><span class="n">newCapacity</span> <span class="o">-</span> <span class="n">MAX_ARRAY_SIZE</span> <span class="o">&gt;</span> <span class="n">0</span><span class="o">)</span>
</span></span><span class="line"><span class="cl">            <span class="n">newCapacity</span> <span class="o">=</span> <span class="n">hugeCapacity</span><span class="o">(</span><span class="n">minCapacity</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">        <span class="c1">// minCapacity is usually close to size, so this is a win:
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="n">elementData</span> <span class="o">=</span> <span class="n">Arrays</span><span class="o">.</span><span class="na">copyOf</span><span class="o">(</span><span class="n">elementData</span><span class="o">,</span> <span class="n">newCapacity</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">    <span class="o">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><strong>int  newCapacity = oldCapacity + (oldCapacity &raquo; 1),ÊâÄ‰ª• ArrayList  ÊØèÊ¨°Êâ©ÂÆπ‰πãÂêéÂÆπÈáèÈÉΩ‰ºöÂèò‰∏∫ÂéüÊù•ÁöÑ 1.5 ÂÄçÂ∑¶Âè≥ÔºàoldCapacity ‰∏∫ÂÅ∂Êï∞Â∞±ÊòØ 1.5 ÂÄçÔºåÂê¶ÂàôÊòØ 1.5 ÂÄçÂ∑¶Âè≥ÔºâÔºÅ</strong> Â•áÂÅ∂‰∏çÂêåÔºåÊØîÂ¶Ç Ôºö10+10/2 = 15, 33+33/2=49„ÄÇÂ¶ÇÊûúÊòØÂ•áÊï∞ÁöÑËØù‰ºö‰∏¢ÊéâÂ∞èÊï∞.</p>
<blockquote>
<p>&ldquo;&raquo;&quot;ÔºàÁßª‰ΩçËøêÁÆóÁ¨¶ÔºâÔºö&raquo;1 Âè≥Áßª‰∏Ä‰ΩçÁõ∏ÂΩì‰∫éÈô§ 2ÔºåÂè≥Áßª n ‰ΩçÁõ∏ÂΩì‰∫éÈô§‰ª• 2 ÁöÑ n Ê¨°Êñπ„ÄÇËøôÈáå oldCapacity ÊòéÊòæÂè≥Áßª‰∫Ü 1 ‰ΩçÊâÄ‰ª•Áõ∏ÂΩì‰∫é  oldCapacity /2„ÄÇÂØπ‰∫éÂ§ßÊï∞ÊçÆÁöÑ 2  ËøõÂà∂ËøêÁÆó,‰ΩçÁßªËøêÁÆóÁ¨¶ÊØîÈÇ£‰∫õÊôÆÈÄöËøêÁÆóÁ¨¶ÁöÑËøêÁÆóË¶ÅÂø´ÂæàÂ§ö,Âõ†‰∏∫Á®ãÂ∫è‰ªÖ‰ªÖÁßªÂä®‰∏Ä‰∏ãËÄåÂ∑≤,‰∏çÂéªËÆ°ÁÆó,ËøôÊ†∑ÊèêÈ´ò‰∫ÜÊïàÁéá,ËäÇÁúÅ‰∫ÜËµÑÊ∫ê</p>
</blockquote>
<p><strong>Êàë‰ª¨ÂÜçÊù•ÈÄöËøá‰æãÂ≠êÊé¢Á©∂‰∏Ä‰∏ã<code>grow()</code> ÊñπÊ≥ï Ôºö</strong></p>
<ul>
<li>ÂΩì add Á¨¨ 1 ‰∏™ÂÖÉÁ¥†Êó∂ÔºåoldCapacity ‰∏∫ 0ÔºåÁªèÊØîËæÉÂêéÁ¨¨‰∏Ä‰∏™ if Âà§Êñ≠ÊàêÁ´ãÔºånewCapacity =  minCapacity(‰∏∫ 10)„ÄÇ‰ΩÜÊòØÁ¨¨‰∫å‰∏™ if Âà§Êñ≠‰∏ç‰ºöÊàêÁ´ãÔºåÂç≥ newCapacity ‰∏çÊØî MAX_ARRAY_SIZE  Â§ßÔºåÂàô‰∏ç‰ºöËøõÂÖ• <code>hugeCapacity</code> ÊñπÊ≥ï„ÄÇÊï∞ÁªÑÂÆπÈáè‰∏∫ 10Ôºåadd ÊñπÊ≥ï‰∏≠ return true,size Â¢û‰∏∫ 1„ÄÇ</li>
<li>ÂΩì add Á¨¨ 11 ‰∏™ÂÖÉÁ¥†ËøõÂÖ• grow ÊñπÊ≥ïÊó∂ÔºånewCapacity ‰∏∫ 15ÔºåÊØî minCapacityÔºà‰∏∫ 11ÔºâÂ§ßÔºåÁ¨¨‰∏Ä‰∏™ if  Âà§Êñ≠‰∏çÊàêÁ´ã„ÄÇÊñ∞ÂÆπÈáèÊ≤°ÊúâÂ§ß‰∫éÊï∞ÁªÑÊúÄÂ§ß sizeÔºå‰∏ç‰ºöËøõÂÖ• hugeCapacity ÊñπÊ≥ï„ÄÇÊï∞ÁªÑÂÆπÈáèÊâ©‰∏∫ 15Ôºåadd ÊñπÊ≥ï‰∏≠ return  true,size Â¢û‰∏∫ 11„ÄÇ</li>
<li>‰ª•Ê≠§Á±ªÊé®¬∑¬∑¬∑¬∑¬∑¬∑</li>
</ul>
<p><strong>ËøôÈáåË°•ÂÖÖ‰∏ÄÁÇπÊØîËæÉÈáçË¶ÅÔºå‰ΩÜÊòØÂÆπÊòìË¢´ÂøΩËßÜÊéâÁöÑÁü•ËØÜÁÇπÔºö</strong></p>
<ul>
<li>Java ‰∏≠ÁöÑ <code>length</code>Â±ûÊÄßÊòØÈíàÂØπÊï∞ÁªÑËØ¥ÁöÑ,ÊØîÂ¶ÇËØ¥‰Ω†Â£∞Êòé‰∫Ü‰∏Ä‰∏™Êï∞ÁªÑ,ÊÉ≥Áü•ÈÅìËøô‰∏™Êï∞ÁªÑÁöÑÈïøÂ∫¶ÂàôÁî®Âà∞‰∫Ü length Ëøô‰∏™Â±ûÊÄß.</li>
<li>Java ‰∏≠ÁöÑ <code>length()</code> ÊñπÊ≥ïÊòØÈíàÂØπÂ≠óÁ¨¶‰∏≤ËØ¥ÁöÑ,Â¶ÇÊûúÊÉ≥ÁúãËøô‰∏™Â≠óÁ¨¶‰∏≤ÁöÑÈïøÂ∫¶ÂàôÁî®Âà∞ <code>length()</code> Ëøô‰∏™ÊñπÊ≥ï.</li>
<li>Java ‰∏≠ÁöÑ <code>size()</code> ÊñπÊ≥ïÊòØÈíàÂØπÊ≥õÂûãÈõÜÂêàËØ¥ÁöÑ,Â¶ÇÊûúÊÉ≥ÁúãËøô‰∏™Ê≥õÂûãÊúâÂ§öÂ∞ë‰∏™ÂÖÉÁ¥†,Â∞±Ë∞ÉÁî®Ê≠§ÊñπÊ≥ïÊù•Êü•Áúã!</li>
</ul>
<h4 id="hugecapacity-ÊñπÊ≥ï"><code>hugeCapacity()</code> ÊñπÊ≥ï„ÄÇ</h4>
<p>‰ªé‰∏äÈù¢ <code>grow()</code> ÊñπÊ≥ïÊ∫êÁ†ÅÊàë‰ª¨Áü•ÈÅìÔºö Â¶ÇÊûúÊñ∞ÂÆπÈáèÂ§ß‰∫é MAX_ARRAY_SIZE,ËøõÂÖ•(ÊâßË°å) <code>hugeCapacity()</code> ÊñπÊ≥ïÊù•ÊØîËæÉ minCapacity Âíå MAX_ARRAY_SIZEÔºåÂ¶ÇÊûú minCapacity Â§ß‰∫éÊúÄÂ§ßÂÆπÈáèÔºåÂàôÊñ∞ÂÆπÈáèÂàô‰∏∫<code>Integer.MAX_VALUE</code>ÔºåÂê¶ÂàôÔºåÊñ∞ÂÆπÈáèÂ§ßÂ∞èÂàô‰∏∫ MAX_ARRAY_SIZE Âç≥‰∏∫ <code>Integer.MAX_VALUE - 8</code>„ÄÇ</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl">    <span class="kd">private</span> <span class="kd">static</span> <span class="kt">int</span> <span class="nf">hugeCapacity</span><span class="o">(</span><span class="kt">int</span> <span class="n">minCapacity</span><span class="o">)</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="o">(</span><span class="n">minCapacity</span> <span class="o">&lt;</span> <span class="n">0</span><span class="o">)</span> <span class="c1">// overflow
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>            <span class="k">throw</span> <span class="k">new</span> <span class="n">OutOfMemoryError</span><span class="o">();</span>
</span></span><span class="line"><span class="cl">        <span class="c1">//ÂØπminCapacityÂíåMAX_ARRAY_SIZEËøõË°åÊØîËæÉ
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="c1">//Ëã•minCapacityÂ§ßÔºåÂ∞ÜInteger.MAX_VALUE‰Ωú‰∏∫Êñ∞Êï∞ÁªÑÁöÑÂ§ßÂ∞è
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="c1">//Ëã•MAX_ARRAY_SIZEÂ§ßÔºåÂ∞ÜMAX_ARRAY_SIZE‰Ωú‰∏∫Êñ∞Êï∞ÁªÑÁöÑÂ§ßÂ∞è
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="c1">//MAX_ARRAY_SIZE = Integer.MAX_VALUE - 8;
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="k">return</span> <span class="o">(</span><span class="n">minCapacity</span> <span class="o">&gt;</span> <span class="n">MAX_ARRAY_SIZE</span><span class="o">)</span> <span class="o">?</span>
</span></span><span class="line"><span class="cl">            <span class="n">Integer</span><span class="o">.</span><span class="na">MAX_VALUE</span> <span class="o">:</span>
</span></span><span class="line"><span class="cl">            <span class="n">MAX_ARRAY_SIZE</span><span class="o">;</span>
</span></span><span class="line"><span class="cl">    <span class="o">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="systemarraycopy-Âíå-arrayscopyofÊñπÊ≥ï"><code>System.arraycopy()</code> Âíå <code>Arrays.copyOf()</code>ÊñπÊ≥ï</h3>
<p>ÈòÖËØªÊ∫êÁ†ÅÁöÑËØùÔºåÊàë‰ª¨Â∞±‰ºöÂèëÁé∞ ArrayList ‰∏≠Â§ßÈáèË∞ÉÁî®‰∫ÜËøô‰∏§‰∏™ÊñπÊ≥ï„ÄÇÊØîÂ¶ÇÔºöÊàë‰ª¨‰∏äÈù¢ËÆ≤ÁöÑÊâ©ÂÆπÊìç‰Ωú‰ª•Âèä<code>add(int index, E element)</code>„ÄÅ<code>toArray()</code> Á≠âÊñπÊ≥ï‰∏≠ÈÉΩÁî®Âà∞‰∫ÜËØ•ÊñπÊ≥ïÔºÅ</p>
<h4 id="systemarraycopy-ÊñπÊ≥ï"><code>System.arraycopy()</code> ÊñπÊ≥ï</h4>
<p>Ê∫êÁ†ÅÔºö</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl">    <span class="c1">// Êàë‰ª¨ÂèëÁé∞ arraycopy ÊòØ‰∏Ä‰∏™ native ÊñπÊ≥ï,Êé•‰∏ãÊù•Êàë‰ª¨Ëß£Èáä‰∏Ä‰∏ãÂêÑ‰∏™ÂèÇÊï∞ÁöÑÂÖ∑‰ΩìÊÑè‰πâ
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="cm">/**
</span></span></span><span class="line"><span class="cl"><span class="cm">    *   Â§çÂà∂Êï∞ÁªÑ
</span></span></span><span class="line"><span class="cl"><span class="cm">    * @param src Ê∫êÊï∞ÁªÑ
</span></span></span><span class="line"><span class="cl"><span class="cm">    * @param srcPos Ê∫êÊï∞ÁªÑ‰∏≠ÁöÑËµ∑Âßã‰ΩçÁΩÆ
</span></span></span><span class="line"><span class="cl"><span class="cm">    * @param dest ÁõÆÊ†áÊï∞ÁªÑ
</span></span></span><span class="line"><span class="cl"><span class="cm">    * @param destPos ÁõÆÊ†áÊï∞ÁªÑ‰∏≠ÁöÑËµ∑Âßã‰ΩçÁΩÆ
</span></span></span><span class="line"><span class="cl"><span class="cm">    * @param length Ë¶ÅÂ§çÂà∂ÁöÑÊï∞ÁªÑÂÖÉÁ¥†ÁöÑÊï∞Èáè
</span></span></span><span class="line"><span class="cl"><span class="cm">    */</span>
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="kd">static</span> <span class="kd">native</span> <span class="kt">void</span> <span class="nf">arraycopy</span><span class="o">(</span><span class="n">Object</span> <span class="n">src</span><span class="o">,</span>  <span class="kt">int</span>  <span class="n">srcPos</span><span class="o">,</span>
</span></span><span class="line"><span class="cl">                                        <span class="n">Object</span> <span class="n">dest</span><span class="o">,</span> <span class="kt">int</span> <span class="n">destPos</span><span class="o">,</span>
</span></span><span class="line"><span class="cl">                                        <span class="kt">int</span> <span class="n">length</span><span class="o">);</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>Âú∫ÊôØÔºö</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl">    <span class="cm">/**
</span></span></span><span class="line"><span class="cl"><span class="cm">     * Âú®Ê≠§ÂàóË°®‰∏≠ÁöÑÊåáÂÆö‰ΩçÁΩÆÊèíÂÖ•ÊåáÂÆöÁöÑÂÖÉÁ¥†„ÄÇ
</span></span></span><span class="line"><span class="cl"><span class="cm">     *ÂÖàË∞ÉÁî® rangeCheckForAdd ÂØπindexËøõË°åÁïåÈôêÊ£ÄÊü•ÔºõÁÑ∂ÂêéË∞ÉÁî® ensureCapacityInternal ÊñπÊ≥ï‰øùËØÅcapacityË∂≥Â§üÂ§ßÔºõ
</span></span></span><span class="line"><span class="cl"><span class="cm">     *ÂÜçÂ∞Ü‰ªéindexÂºÄÂßã‰πãÂêéÁöÑÊâÄÊúâÊàêÂëòÂêéÁßª‰∏Ä‰∏™‰ΩçÁΩÆÔºõÂ∞ÜelementÊèíÂÖ•index‰ΩçÁΩÆÔºõÊúÄÂêésizeÂä†1„ÄÇ
</span></span></span><span class="line"><span class="cl"><span class="cm">     */</span>
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">add</span><span class="o">(</span><span class="kt">int</span> <span class="n">index</span><span class="o">,</span> <span class="n">E</span> <span class="n">element</span><span class="o">)</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">rangeCheckForAdd</span><span class="o">(</span><span class="n">index</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="n">ensureCapacityInternal</span><span class="o">(</span><span class="n">size</span> <span class="o">+</span> <span class="n">1</span><span class="o">);</span>  <span class="c1">// Increments modCount!!
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="c1">//arraycopy()ÊñπÊ≥ïÂÆûÁé∞Êï∞ÁªÑËá™Â∑±Â§çÂà∂Ëá™Â∑±
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="c1">//elementData:Ê∫êÊï∞ÁªÑ;index:Ê∫êÊï∞ÁªÑ‰∏≠ÁöÑËµ∑Âßã‰ΩçÁΩÆ;elementDataÔºöÁõÆÊ†áÊï∞ÁªÑÔºõindex + 1ÔºöÁõÆÊ†áÊï∞ÁªÑ‰∏≠ÁöÑËµ∑Âßã‰ΩçÁΩÆÔºõ size - indexÔºöË¶ÅÂ§çÂà∂ÁöÑÊï∞ÁªÑÂÖÉÁ¥†ÁöÑÊï∞ÈáèÔºõ
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="n">System</span><span class="o">.</span><span class="na">arraycopy</span><span class="o">(</span><span class="n">elementData</span><span class="o">,</span> <span class="n">index</span><span class="o">,</span> <span class="n">elementData</span><span class="o">,</span> <span class="n">index</span> <span class="o">+</span> <span class="n">1</span><span class="o">,</span> <span class="n">size</span> <span class="o">-</span> <span class="n">index</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">        <span class="n">elementData</span><span class="o">[</span><span class="n">index</span><span class="o">]</span> <span class="o">=</span> <span class="n">element</span><span class="o">;</span>
</span></span><span class="line"><span class="cl">        <span class="n">size</span><span class="o">++;</span>
</span></span><span class="line"><span class="cl">    <span class="o">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>Êàë‰ª¨ÂÜô‰∏Ä‰∏™ÁÆÄÂçïÁöÑÊñπÊ≥ïÊµãËØï‰ª•‰∏ãÔºö</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="kd">public</span> <span class="kd">class</span> <span class="nc">ArraycopyTest</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">		<span class="c1">// TODO Auto-generated method stub
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>		<span class="kt">int</span><span class="o">[]</span> <span class="n">a</span> <span class="o">=</span> <span class="k">new</span> <span class="kt">int</span><span class="o">[</span><span class="n">10</span><span class="o">];</span>
</span></span><span class="line"><span class="cl">		<span class="n">a</span><span class="o">[</span><span class="n">0</span><span class="o">]</span> <span class="o">=</span> <span class="n">0</span><span class="o">;</span>
</span></span><span class="line"><span class="cl">		<span class="n">a</span><span class="o">[</span><span class="n">1</span><span class="o">]</span> <span class="o">=</span> <span class="n">1</span><span class="o">;</span>
</span></span><span class="line"><span class="cl">		<span class="n">a</span><span class="o">[</span><span class="n">2</span><span class="o">]</span> <span class="o">=</span> <span class="n">2</span><span class="o">;</span>
</span></span><span class="line"><span class="cl">		<span class="n">a</span><span class="o">[</span><span class="n">3</span><span class="o">]</span> <span class="o">=</span> <span class="n">3</span><span class="o">;</span>
</span></span><span class="line"><span class="cl">		<span class="n">System</span><span class="o">.</span><span class="na">arraycopy</span><span class="o">(</span><span class="n">a</span><span class="o">,</span> <span class="n">2</span><span class="o">,</span> <span class="n">a</span><span class="o">,</span> <span class="n">3</span><span class="o">,</span> <span class="n">3</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">		<span class="n">a</span><span class="o">[</span><span class="n">2</span><span class="o">]=</span><span class="n">99</span><span class="o">;</span>
</span></span><span class="line"><span class="cl">		<span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="n">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">a</span><span class="o">.</span><span class="na">length</span><span class="o">;</span> <span class="n">i</span><span class="o">++)</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">			<span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">print</span><span class="o">(</span><span class="n">a</span><span class="o">[</span><span class="n">i</span><span class="o">]</span> <span class="o">+</span> <span class="s">&#34; &#34;</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">		<span class="o">}</span>
</span></span><span class="line"><span class="cl">	<span class="o">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="o">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>ÁªìÊûúÔºö</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-text" data-lang="text"><span class="line"><span class="cl">0 1 99 2 3 0 0 0 0 0
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="arrayscopyofÊñπÊ≥ï"><code>Arrays.copyOf()</code>ÊñπÊ≥ï</h4>
<p>Ê∫êÁ†ÅÔºö</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl">    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">int</span><span class="o">[]</span> <span class="nf">copyOf</span><span class="o">(</span><span class="kt">int</span><span class="o">[]</span> <span class="n">original</span><span class="o">,</span> <span class="kt">int</span> <span class="n">newLength</span><span class="o">)</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">    	<span class="c1">// Áî≥ËØ∑‰∏Ä‰∏™Êñ∞ÁöÑÊï∞ÁªÑ
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="kt">int</span><span class="o">[]</span> <span class="n">copy</span> <span class="o">=</span> <span class="k">new</span> <span class="kt">int</span><span class="o">[</span><span class="n">newLength</span><span class="o">];</span>
</span></span><span class="line"><span class="cl">	<span class="c1">// Ë∞ÉÁî®System.arraycopy,Â∞ÜÊ∫êÊï∞ÁªÑ‰∏≠ÁöÑÊï∞ÊçÆËøõË°åÊã∑Ë¥ù,Âπ∂ËøîÂõûÊñ∞ÁöÑÊï∞ÁªÑ
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="n">System</span><span class="o">.</span><span class="na">arraycopy</span><span class="o">(</span><span class="n">original</span><span class="o">,</span> <span class="n">0</span><span class="o">,</span> <span class="n">copy</span><span class="o">,</span> <span class="n">0</span><span class="o">,</span>
</span></span><span class="line"><span class="cl">                         <span class="n">Math</span><span class="o">.</span><span class="na">min</span><span class="o">(</span><span class="n">original</span><span class="o">.</span><span class="na">length</span><span class="o">,</span> <span class="n">newLength</span><span class="o">));</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="n">copy</span><span class="o">;</span>
</span></span><span class="line"><span class="cl">    <span class="o">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>Âú∫ÊôØÔºö</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl">   <span class="cm">/**
</span></span></span><span class="line"><span class="cl"><span class="cm">     ‰ª•Ê≠£Á°ÆÁöÑÈ°∫Â∫èËøîÂõû‰∏Ä‰∏™ÂåÖÂê´Ê≠§ÂàóË°®‰∏≠ÊâÄÊúâÂÖÉÁ¥†ÁöÑÊï∞ÁªÑÔºà‰ªéÁ¨¨‰∏Ä‰∏™Âà∞ÊúÄÂêé‰∏Ä‰∏™ÂÖÉÁ¥†Ôºâ; ËøîÂõûÁöÑÊï∞ÁªÑÁöÑËøêË°åÊó∂Á±ªÂûãÊòØÊåáÂÆöÊï∞ÁªÑÁöÑËøêË°åÊó∂Á±ªÂûã„ÄÇ
</span></span></span><span class="line"><span class="cl"><span class="cm">     */</span>
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="n">Object</span><span class="o">[]</span> <span class="nf">toArray</span><span class="o">()</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">    <span class="c1">//elementDataÔºöË¶ÅÂ§çÂà∂ÁöÑÊï∞ÁªÑÔºõsizeÔºöË¶ÅÂ§çÂà∂ÁöÑÈïøÂ∫¶
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="k">return</span> <span class="n">Arrays</span><span class="o">.</span><span class="na">copyOf</span><span class="o">(</span><span class="n">elementData</span><span class="o">,</span> <span class="n">size</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">    <span class="o">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>‰∏™‰∫∫ËßâÂæó‰ΩøÁî® <code>Arrays.copyOf()</code>ÊñπÊ≥ï‰∏ªË¶ÅÊòØ‰∏∫‰∫ÜÁªôÂéüÊúâÊï∞ÁªÑÊâ©ÂÆπÔºåÊµãËØï‰ª£Á†ÅÂ¶Ç‰∏ãÔºö</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="kd">public</span> <span class="kd">class</span> <span class="nc">ArrayscopyOfTest</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">		<span class="kt">int</span><span class="o">[]</span> <span class="n">a</span> <span class="o">=</span> <span class="k">new</span> <span class="kt">int</span><span class="o">[</span><span class="n">3</span><span class="o">];</span>
</span></span><span class="line"><span class="cl">		<span class="n">a</span><span class="o">[</span><span class="n">0</span><span class="o">]</span> <span class="o">=</span> <span class="n">0</span><span class="o">;</span>
</span></span><span class="line"><span class="cl">		<span class="n">a</span><span class="o">[</span><span class="n">1</span><span class="o">]</span> <span class="o">=</span> <span class="n">1</span><span class="o">;</span>
</span></span><span class="line"><span class="cl">		<span class="n">a</span><span class="o">[</span><span class="n">2</span><span class="o">]</span> <span class="o">=</span> <span class="n">2</span><span class="o">;</span>
</span></span><span class="line"><span class="cl">		<span class="kt">int</span><span class="o">[]</span> <span class="n">b</span> <span class="o">=</span> <span class="n">Arrays</span><span class="o">.</span><span class="na">copyOf</span><span class="o">(</span><span class="n">a</span><span class="o">,</span> <span class="n">10</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">		<span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&#34;b.length&#34;</span><span class="o">+</span><span class="n">b</span><span class="o">.</span><span class="na">length</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">	<span class="o">}</span>
</span></span><span class="line"><span class="cl"><span class="o">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>ÁªìÊûúÔºö</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-text" data-lang="text"><span class="line"><span class="cl">10
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="‰∏§ËÄÖËÅîÁ≥ªÂíåÂå∫Âà´">‰∏§ËÄÖËÅîÁ≥ªÂíåÂå∫Âà´</h4>
<p><strong>ËÅîÁ≥ªÔºö</strong></p>
<p>Áúã‰∏§ËÄÖÊ∫ê‰ª£Á†ÅÂèØ‰ª•ÂèëÁé∞ <code>copyOf()</code>ÂÜÖÈÉ®ÂÆûÈôÖË∞ÉÁî®‰∫Ü <code>System.arraycopy()</code> ÊñπÊ≥ï</p>
<p><strong>Âå∫Âà´Ôºö</strong></p>
<p><code>arraycopy()</code> ÈúÄË¶ÅÁõÆÊ†áÊï∞ÁªÑÔºåÂ∞ÜÂéüÊï∞ÁªÑÊã∑Ë¥ùÂà∞‰Ω†Ëá™Â∑±ÂÆö‰πâÁöÑÊï∞ÁªÑÈáåÊàñËÄÖÂéüÊï∞ÁªÑÔºåËÄå‰∏îÂèØ‰ª•ÈÄâÊã©Êã∑Ë¥ùÁöÑËµ∑ÁÇπÂíåÈïøÂ∫¶‰ª•ÂèäÊîæÂÖ•Êñ∞Êï∞ÁªÑ‰∏≠ÁöÑ‰ΩçÁΩÆ <code>copyOf()</code> ÊòØÁ≥ªÁªüËá™Âä®Âú®ÂÜÖÈÉ®Êñ∞Âª∫‰∏Ä‰∏™Êï∞ÁªÑÔºåÂπ∂ËøîÂõûËØ•Êï∞ÁªÑ„ÄÇ</p>
<h3 id="ensurecapacityÊñπÊ≥ï"><code>ensureCapacity</code>ÊñπÊ≥ï</h3>
<p>ArrayList Ê∫êÁ†Å‰∏≠Êúâ‰∏Ä‰∏™ <code>ensureCapacity</code> ÊñπÊ≥ï‰∏çÁü•ÈÅìÂ§ßÂÆ∂Ê≥®ÊÑèÂà∞Ê≤°ÊúâÔºåËøô‰∏™ÊñπÊ≥ï ArrayList ÂÜÖÈÉ®Ê≤°ÊúâË¢´Ë∞ÉÁî®ËøáÔºåÊâÄ‰ª•ÂæàÊòæÁÑ∂ÊòØÊèê‰æõÁªôÁî®Êà∑Ë∞ÉÁî®ÁöÑÔºåÈÇ£‰πàËøô‰∏™ÊñπÊ≥ïÊúâ‰ªÄ‰πà‰ΩúÁî®Âë¢Ôºü</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-Java" data-lang="Java"><span class="line"><span class="cl">    <span class="cm">/**
</span></span></span><span class="line"><span class="cl"><span class="cm">    Â¶ÇÊúâÂøÖË¶ÅÔºåÂ¢ûÂä†Ê≠§ ArrayList ÂÆû‰æãÁöÑÂÆπÈáèÔºå‰ª•Á°Æ‰øùÂÆÉËá≥Â∞ëÂèØ‰ª•ÂÆπÁ∫≥Áî±minimum capacityÂèÇÊï∞ÊåáÂÆöÁöÑÂÖÉÁ¥†Êï∞„ÄÇ
</span></span></span><span class="line"><span class="cl"><span class="cm">     *
</span></span></span><span class="line"><span class="cl"><span class="cm">     * @param   minCapacity   ÊâÄÈúÄÁöÑÊúÄÂ∞èÂÆπÈáè
</span></span></span><span class="line"><span class="cl"><span class="cm">     */</span>
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">ensureCapacity</span><span class="o">(</span><span class="kt">int</span> <span class="n">minCapacity</span><span class="o">)</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">        <span class="kt">int</span> <span class="n">minExpand</span> <span class="o">=</span> <span class="o">(</span><span class="n">elementData</span> <span class="o">!=</span> <span class="n">DEFAULTCAPACITY_EMPTY_ELEMENTDATA</span><span class="o">)</span>
</span></span><span class="line"><span class="cl">            <span class="c1">// any size if not default element table
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>            <span class="o">?</span> <span class="n">0</span>
</span></span><span class="line"><span class="cl">            <span class="c1">// larger than default for default empty table. It&#39;s already
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>            <span class="c1">// supposed to be at default size.
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>            <span class="o">:</span> <span class="n">DEFAULT_CAPACITY</span><span class="o">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="o">(</span><span class="n">minCapacity</span> <span class="o">&gt;</span> <span class="n">minExpand</span><span class="o">)</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">            <span class="n">ensureExplicitCapacity</span><span class="o">(</span><span class="n">minCapacity</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">        <span class="o">}</span>
</span></span><span class="line"><span class="cl">    <span class="o">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><strong>ÊúÄÂ•ΩÂú® add Â§ßÈáèÂÖÉÁ¥†‰πãÂâçÁî® <code>ensureCapacity</code> ÊñπÊ≥ïÔºå‰ª•ÂáèÂ∞ëÂ¢ûÈáèÈáçÊñ∞ÂàÜÈÖçÁöÑÊ¨°Êï∞</strong></p>
<p>Êàë‰ª¨ÈÄöËøá‰∏ãÈù¢ÁöÑ‰ª£Á†ÅÂÆûÈôÖÊµãËØï‰ª•‰∏ãËøô‰∏™ÊñπÊ≥ïÁöÑÊïàÊûúÔºö</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="kd">public</span> <span class="kd">class</span> <span class="nc">EnsureCapacityTest</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">	<span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">		<span class="n">ArrayList</span><span class="o">&lt;</span><span class="n">Object</span><span class="o">&gt;</span> <span class="n">list</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ArrayList</span><span class="o">&lt;</span><span class="n">Object</span><span class="o">&gt;();</span>
</span></span><span class="line"><span class="cl">		<span class="kd">final</span> <span class="kt">int</span> <span class="n">N</span> <span class="o">=</span> <span class="n">10000000</span><span class="o">;</span>
</span></span><span class="line"><span class="cl">		<span class="kt">long</span> <span class="n">startTime</span> <span class="o">=</span> <span class="n">System</span><span class="o">.</span><span class="na">currentTimeMillis</span><span class="o">();</span>
</span></span><span class="line"><span class="cl">		<span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="n">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">N</span><span class="o">;</span> <span class="n">i</span><span class="o">++)</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">			<span class="n">list</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">i</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">		<span class="o">}</span>
</span></span><span class="line"><span class="cl">		<span class="kt">long</span> <span class="n">endTime</span> <span class="o">=</span> <span class="n">System</span><span class="o">.</span><span class="na">currentTimeMillis</span><span class="o">();</span>
</span></span><span class="line"><span class="cl">		<span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&#34;‰ΩøÁî®ensureCapacityÊñπÊ≥ïÂâçÔºö&#34;</span><span class="o">+(</span><span class="n">endTime</span> <span class="o">-</span> <span class="n">startTime</span><span class="o">));</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="o">}</span>
</span></span><span class="line"><span class="cl"><span class="o">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>ËøêË°åÁªìÊûúÔºö</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-text" data-lang="text"><span class="line"><span class="cl">‰ΩøÁî®ensureCapacityÊñπÊ≥ïÂâçÔºö2158
</span></span><span class="line"><span class="cl">public class EnsureCapacityTest {
</span></span><span class="line"><span class="cl">    public static void main(String[] args) {
</span></span><span class="line"><span class="cl">        ArrayList&lt;Object&gt; list = new ArrayList&lt;Object&gt;();
</span></span><span class="line"><span class="cl">        final int N = 10000000;
</span></span><span class="line"><span class="cl">        list = new ArrayList&lt;Object&gt;();
</span></span><span class="line"><span class="cl">        long startTime1 = System.currentTimeMillis();
</span></span><span class="line"><span class="cl">        list.ensureCapacity(N);
</span></span><span class="line"><span class="cl">        for (int i = 0; i &lt; N; i++) {
</span></span><span class="line"><span class="cl">            list.add(i);
</span></span><span class="line"><span class="cl">        }
</span></span><span class="line"><span class="cl">        long endTime1 = System.currentTimeMillis();
</span></span><span class="line"><span class="cl">        System.out.println(&#34;‰ΩøÁî®ensureCapacityÊñπÊ≥ïÂêéÔºö&#34;+(endTime1 - startTime1));
</span></span><span class="line"><span class="cl">    }
</span></span><span class="line"><span class="cl">}
</span></span></code></pre></td></tr></table>
</div>
</div><p>ËøêË°åÁªìÊûúÔºö</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-text" data-lang="text"><span class="line"><span class="cl">‰ΩøÁî®ensureCapacityÊñπÊ≥ïÂêéÔºö1773
</span></span></code></pre></td></tr></table>
</div>
</div><p>ÈÄöËøáËøêË°åÁªìÊûúÔºåÊàë‰ª¨ÂèØ‰ª•ÁúãÂá∫Âêë ArrayList Ê∑ªÂä†Â§ßÈáèÂÖÉÁ¥†‰πãÂâçÊúÄÂ•ΩÂÖà‰ΩøÁî®<code>ensureCapacity</code> ÊñπÊ≥ïÔºå‰ª•ÂáèÂ∞ëÂ¢ûÈáèÈáçÊñ∞ÂàÜÈÖçÁöÑÊ¨°Êï∞„ÄÇ</p>
<h2 id="ÊÄªÁªì">ÊÄªÁªì</h2>
<p><strong>ArrayListÁöÑÊâ©ÂÆπÔºö</strong></p>
<p>„ÄÄ„ÄÄ<strong>Êâ©ÂÆπÂèØÂàÜ‰∏∫‰∏§ÁßçÊÉÖÂÜµÔºö</strong></p>
<p>„ÄÄ„ÄÄ<strong>Á¨¨‰∏ÄÁßçÊÉÖÂÜµÔºåÂΩìArrayListÁöÑÂÆπÈáè‰∏∫0Êó∂ÔºåÊ≠§Êó∂Ê∑ªÂä†ÂÖÉÁ¥†ÁöÑËØùÔºåÈúÄË¶ÅÊâ©ÂÆπÔºå‰∏âÁßçÊûÑÈÄ†ÊñπÊ≥ïÂàõÂª∫ÁöÑArrayListÂú®Êâ©ÂÆπÊó∂Áï•Êúâ‰∏çÂêåÔºö</strong></p>
<p>„ÄÄ„ÄÄ„ÄÄ„ÄÄ1.Êó†ÂèÇÊûÑÈÄ†ÔºåÂàõÂª∫ArrayListÂêéÂÆπÈáè‰∏∫0ÔºåÊ∑ªÂä†Á¨¨‰∏Ä‰∏™ÂÖÉÁ¥†ÂêéÔºåÂÆπÈáèÂèò‰∏∫10ÔºåÊ≠§ÂêéËã•ÈúÄË¶ÅÊâ©ÂÆπÔºåÂàôÊ≠£Â∏∏Êâ©ÂÆπ„ÄÇ</p>
<p>„ÄÄ„ÄÄ„ÄÄ„ÄÄ2.‰º†ÂÆπÈáèÊûÑÈÄ†ÔºåÂΩìÂèÇÊï∞‰∏∫0Êó∂ÔºåÂàõÂª∫ArrayListÂêéÂÆπÈáè‰∏∫0ÔºåÊ∑ªÂä†Á¨¨‰∏Ä‰∏™ÂÖÉÁ¥†ÂêéÔºåÂÆπÈáè‰∏∫1ÔºåÊ≠§Êó∂ArrayListÊòØÊª°ÁöÑÔºå‰∏ãÊ¨°Ê∑ªÂä†ÂÖÉÁ¥†Êó∂ÈúÄÊ≠£Â∏∏Êâ©ÂÆπ„ÄÇ</p>
<p>„ÄÄ„ÄÄ„ÄÄ„ÄÄ3.‰º†ÂàóË°®ÊûÑÈÄ†ÔºåÂΩìÂàóË°®‰∏∫Á©∫Êó∂ÔºåÂàõÂª∫ArrayListÂêéÂÆπÈáè‰∏∫0ÔºåÊ∑ªÂä†Á¨¨‰∏Ä‰∏™ÂÖÉÁ¥†ÂêéÔºåÂÆπÈáè‰∏∫1ÔºåÊ≠§Êó∂ArrayListÊòØÊª°ÁöÑÔºå‰∏ãÊ¨°Ê∑ªÂä†ÂÖÉÁ¥†Êó∂ÈúÄÊ≠£Â∏∏Êâ©ÂÆπ„ÄÇ</p>
<p>„ÄÄ„ÄÄ<strong>Á¨¨‰∫åÁßçÊÉÖÂÜµÔºåÂΩìArrayListÁöÑÂÆπÈáèÂ§ß‰∫é0ÔºåÂπ∂‰∏îArrayListÊòØÊª°ÁöÑÊó∂ÔºåÊ≠§Êó∂Ê∑ªÂä†ÂÖÉÁ¥†ÁöÑËØùÔºåËøõË°åÊ≠£Â∏∏Êâ©ÂÆπÔºåÊØèÊ¨°Êâ©ÂÆπÂà∞ÂéüÊù•ÁöÑ1.5ÂÄç„ÄÇ</strong></p>

</section>


    <footer class="article-footer">
    
    <section class="article-tags">
        
            <a href="/tags/%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/">Ê∫êÁ†ÅÂàÜÊûê</a>
        
    </section>


    
    <section class="article-copyright">
        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copyright" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="12" r="9" />
  <path d="M14.5 9a3.5 4 0 1 0 0 6" />
</svg>



        <span>Licensed under CC BY-NC-SA 4.0</span>
    </section>
    <section class="article-lastmod">
        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="12" r="9" />
  <polyline points="12 7 12 12 15 15" />
</svg>



        <span>
            ÊúÄÂêéÊõ¥Êñ∞‰∫é 2022Âπ¥3Êúà18Êó• 08:28 UTC
        </span>
    </section></footer>


    
</article>

    

    

<aside class="related-contents--wrapper">
    <h2 class="section-title">Áõ∏ÂÖ≥ÊñáÁ´†</h2>
    <div class="related-contents">
        <div class="flex article-list--tile">
            
                
<article class="has-image">
    <a href="/posts/concurrenthashmap%E6%BA%90%E7%A0%81-%E5%BA%95%E5%B1%82%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%88%86%E6%9E%90/">
        
        
            <div class="article-image">
                
                    <img src="/7.jpg" loading="lazy" data-key="" data-hash="/7.jpg"/>
                
            </div>
        

        <div class="article-details">
            <h2 class="article-title">ConcurrentHashMapÊ∫êÁ†Å&#43;Â∫ïÂ±ÇÊï∞ÊçÆÁªìÊûÑÂàÜÊûê</h2>
        </div>
    </a>
</article>
            
                
<article class="has-image">
    <a href="/posts/hashmap%E6%BA%90%E7%A0%81-%E5%BA%95%E5%B1%82%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%88%86%E6%9E%90/">
        
        
            <div class="article-image">
                
                    <img src="/9.jpg" loading="lazy" data-key="" data-hash="/9.jpg"/>
                
            </div>
        

        <div class="article-details">
            <h2 class="article-title">HashMapÊ∫êÁ†Å&#43;Â∫ïÂ±ÇÊï∞ÊçÆÁªìÊûÑÂàÜÊûê</h2>
        </div>
    </a>
</article>
            
                
<article class="has-image">
    <a href="/posts/jvm-%E5%BA%95%E5%B1%82%E5%8E%9F%E7%90%86%E7%9F%A5%E8%AF%86%E6%80%BB%E7%BB%93/">
        
        
            <div class="article-image">
                
                    <img src="/17.jpg" loading="lazy" data-key="" data-hash="/17.jpg"/>
                
            </div>
        

        <div class="article-details">
            <h2 class="article-title">JVM Â∫ïÂ±ÇÂéüÁêÜÁü•ËØÜÊÄªÁªì</h2>
        </div>
    </a>
</article>
            
                
<article class="has-image">
    <a href="/posts/%E5%8F%8D%E5%B0%84%E8%AF%A6%E8%A7%A3/">
        
        
            <div class="article-image">
                
                    <img src="/2.jpg" loading="lazy" data-key="" data-hash="/2.jpg"/>
                
            </div>
        

        <div class="article-details">
            <h2 class="article-title">ÂèçÂ∞ÑËØ¶Ëß£</h2>
        </div>
    </a>
</article>
            
                
<article class="has-image">
    <a href="/posts/java%E9%9B%86%E5%90%88%E4%BD%BF%E7%94%A8%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9/">
        
        
            <div class="article-image">
                
                    <img src="/16.jpg" loading="lazy" data-key="" data-hash="/16.jpg"/>
                
            </div>
        

        <div class="article-details">
            <h2 class="article-title">JavaÈõÜÂêà‰ΩøÁî®Ê≥®ÊÑè‰∫ãÈ°π</h2>
        </div>
    </a>
</article>
            
        </div>
    </div>
</aside>

     
    
        
    <script src='//cdn.jsdelivr.net/npm/@waline/client/dist/Waline.min.js'></script>
<div id="waline" class="waline-container"></div>
<style>
    .waline-container {
        background-color: var(--card-background);
        border-radius: var(--card-border-radius);
        box-shadow: var(--shadow-l1);
        padding: var(--card-padding);
    }
    .waline-container .vcount {
        color: var(--card-text-color-main);
    }
</style><script>
    
    new Waline({"dark":"html[data-scheme=\"dark\"]","el":"#waline","emoji":["https://cdn.jsdelivr.net/gh/walinejs/emojis@1.0.0/bilibili","https://cdn.jsdelivr.net/gh/walinejs/emojis/qq","https://cdn.jsdelivr.net/gh/walinejs/emojis@1.0.0/tieba","https://cdn.jsdelivr.net/gh/walinejs/emojis@1.0.0/weibo","https://cdn.jsdelivr.net/gh/walinejs/emojis@1.0.0/tw-emoji","https://cdn.jsdelivr.net/gh/walinejs/emojis@1.0.0/alus"],"lang":"zh-CN","locale":{"admin":"Admin"},"requiredMeta":["name","email","url"],"serverURL":"https://blog-api-2w7xkqg6y-ahaomin.vercel.app/","visitor":true});
</script>

    

    <footer class="site-footer">
    <section class="copyright">
        &copy; 
        
            2020 - 
        
        2022 ahao&#39;s Blog
    </section>
    
    <section class="powerby">
        Built with <a href="https://gohugo.io/" target="_blank" rel="noopener">Hugo</a> <br />
        ‰∏ªÈ¢ò <b><a href="https://github.com/CaiJimmy/hugo-theme-stack" target="_blank" rel="noopener" data-version="3.10.0">Stack</a></b> Áî± <a href="https://jimmycai.com" target="_blank" rel="noopener">Jimmy</a> ËÆæËÆ°
    </section>
</footer>


    
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    
    <div class="pswp__bg"></div>

    
    <div class="pswp__scroll-wrap">

        
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                
                
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                        <div class="pswp__preloader__cut">
                            <div class="pswp__preloader__donut"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div>
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div><script 
                src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js"integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo="crossorigin="anonymous"
                defer
                >
            </script><script 
                src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js"integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU="crossorigin="anonymous"
                defer
                >
            </script><link 
                rel="stylesheet" 
                href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.css"integrity="sha256-c0uckgykQ9v5k&#43;IqViZOZKc47Jn7KQil4/MP3ySA3F8="crossorigin="anonymous"
            ><link 
                rel="stylesheet" 
                href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.css"integrity="sha256-SBLU4vv6CA6lHsZ1XyTdhyjJxCjPif/TRkjnsyGAGnE="crossorigin="anonymous"
            >

            </main>
    <aside class="sidebar right-sidebar sticky">
        
            
                
    <section class="widget archives">
        <div class="widget-icon">
            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 10h16M4 14h16M4 18h16"></path></svg>
        </div>
        <h2 class="widget-title section-title">ÁõÆÂΩï</h2>
        
        <div class="widget--toc">
            <nav id="TableOfContents">
  <ol>
    <li><a href="#arraylist-ÁÆÄ‰ªã">ArrayList ÁÆÄ‰ªã</a>
      <ol>
        <li><a href="#arraylist-Âíå-vector-ÁöÑÂå∫Âà´">Arraylist Âíå Vector ÁöÑÂå∫Âà´?</a></li>
        <li><a href="#arraylist-‰∏é-linkedlist-Âå∫Âà´">Arraylist ‰∏é LinkedList Âå∫Âà´?</a></li>
      </ol>
    </li>
    <li><a href="#arraylist-Ê†∏ÂøÉÊ∫êÁ†ÅËß£ËØª">ArrayList Ê†∏ÂøÉÊ∫êÁ†ÅËß£ËØª</a></li>
    <li><a href="#arraylist-Êâ©ÂÆπÊú∫Âà∂ÂàÜÊûê">ArrayList Êâ©ÂÆπÊú∫Âà∂ÂàÜÊûê</a>
      <ol>
        <li><a href="#ÂÖà‰ªé-arraylist-ÁöÑÊûÑÈÄ†ÂáΩÊï∞ËØ¥Ëµ∑">ÂÖà‰ªé ArrayList ÁöÑÊûÑÈÄ†ÂáΩÊï∞ËØ¥Ëµ∑</a></li>
        <li><a href="#‰∏ÄÊ≠•‰∏ÄÊ≠•ÂàÜÊûê-arraylist-Êâ©ÂÆπÊú∫Âà∂">‰∏ÄÊ≠•‰∏ÄÊ≠•ÂàÜÊûê ArrayList Êâ©ÂÆπÊú∫Âà∂</a>
          <ol>
            <li><a href="#ÂÖàÊù•Áúã-add-ÊñπÊ≥ï">ÂÖàÊù•Áúã <code>add</code> ÊñπÊ≥ï</a></li>
            <li><a href="#ÂÜçÊù•ÁúãÁúã-ensurecapacityinternal-ÊñπÊ≥ï">ÂÜçÊù•ÁúãÁúã <code>ensureCapacityInternal()</code> ÊñπÊ≥ï</a></li>
            <li><a href="#ensureexplicitcapacity-ÊñπÊ≥ï"><code>ensureExplicitCapacity()</code> ÊñπÊ≥ï</a></li>
            <li><a href="#grow-ÊñπÊ≥ï"><code>grow()</code> ÊñπÊ≥ï</a></li>
            <li><a href="#hugecapacity-ÊñπÊ≥ï"><code>hugeCapacity()</code> ÊñπÊ≥ï„ÄÇ</a></li>
          </ol>
        </li>
        <li><a href="#systemarraycopy-Âíå-arrayscopyofÊñπÊ≥ï"><code>System.arraycopy()</code> Âíå <code>Arrays.copyOf()</code>ÊñπÊ≥ï</a>
          <ol>
            <li><a href="#systemarraycopy-ÊñπÊ≥ï"><code>System.arraycopy()</code> ÊñπÊ≥ï</a></li>
            <li><a href="#arrayscopyofÊñπÊ≥ï"><code>Arrays.copyOf()</code>ÊñπÊ≥ï</a></li>
            <li><a href="#‰∏§ËÄÖËÅîÁ≥ªÂíåÂå∫Âà´">‰∏§ËÄÖËÅîÁ≥ªÂíåÂå∫Âà´</a></li>
          </ol>
        </li>
        <li><a href="#ensurecapacityÊñπÊ≥ï"><code>ensureCapacity</code>ÊñπÊ≥ï</a></li>
      </ol>
    </li>
    <li><a href="#ÊÄªÁªì">ÊÄªÁªì</a></li>
  </ol>
</nav>
        </div>
    </section>

            
        
    </aside>


        </div>
        <script 
                src="https://cdn.jsdelivr.net/npm/node-vibrant@3.1.5/dist/vibrant.min.js"integrity="sha256-5NovOZc4iwiAWTYIFiIM7DxKUXKWvpVEuMEPLzcm5/g="crossorigin="anonymous"
                
                >
            </script><script type="text/javascript" src="/ts/main.js" defer></script>
<script>
    (function () {
        const customFont = document.createElement('link');
        customFont.href = "https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap";

        customFont.type = "text/css";
        customFont.rel = "stylesheet";

        document.head.appendChild(customFont);
    }());
</script>

    </body>
</html>
